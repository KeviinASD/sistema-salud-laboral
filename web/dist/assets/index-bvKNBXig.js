var Uy=Object.defineProperty;var Hy=(t,e,r)=>e in t?Uy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var G=(t,e,r)=>Hy(t,typeof e!="symbol"?e+"":e,r);function Vy(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wg={exports:{}},Do={},kg={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=Symbol.for("react.element"),Wy=Symbol.for("react.portal"),qy=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),Xy=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Qy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),Zy=Symbol.for("react.memo"),eb=Symbol.for("react.lazy"),Qu=Symbol.iterator;function tb(t){return t===null||typeof t!="object"?null:(t=Qu&&t[Qu]||t["@@iterator"],typeof t=="function"?t:null)}var jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,Sg={};function us(t,e,r){this.props=t,this.context=e,this.refs=Sg,this.updater=r||jg}us.prototype.isReactComponent={};us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _g(){}_g.prototype=us.prototype;function _c(t,e,r){this.props=t,this.context=e,this.refs=Sg,this.updater=r||jg}var Cc=_c.prototype=new _g;Cc.constructor=_c;Ng(Cc,us.prototype);Cc.isPureReactComponent=!0;var Ju=Array.isArray,Cg=Object.prototype.hasOwnProperty,Ec={current:null},Eg={key:!0,ref:!0,__self:!0,__source:!0};function Pg(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Cg.call(e,n)&&!Eg.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];s.children=d}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Di,type:t,key:i,ref:a,props:s,_owner:Ec.current}}function rb(t,e){return{$$typeof:Di,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Di}function nb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zu=/\/+/g;function pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nb(""+t.key):e.toString(36)}function Ca(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Di:case Wy:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+pl(a,0):n,Ju(s)?(r="",t!=null&&(r=t.replace(Zu,"$&/")+"/"),Ca(s,e,r,"",function(c){return c})):s!=null&&(Pc(s)&&(s=rb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Zu,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Ju(t))for(var l=0;l<t.length;l++){i=t[l];var d=n+pl(i,l);a+=Ca(i,e,r,d,s)}else if(d=tb(t),typeof d=="function")for(t=d.call(t),l=0;!(i=t.next()).done;)i=i.value,d=n+pl(i,l++),a+=Ca(i,e,r,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yi(t,e,r){if(t==null)return t;var n=[],s=0;return Ca(t,n,"","",function(i){return e.call(r,i,s++)}),n}function sb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},Ea={transition:null},ib={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:Ec};function Rg(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Yi,forEach:function(t,e,r){Yi(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yi(t,function(){e++}),e},toArray:function(t){return Yi(t,function(e){return e})||[]},only:function(t){if(!Pc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=us;ae.Fragment=qy;ae.Profiler=Yy;ae.PureComponent=_c;ae.StrictMode=Ky;ae.Suspense=Jy;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ib;ae.act=Rg;ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ng({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ec.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in e)Cg.call(e,d)&&!Eg.hasOwnProperty(d)&&(n[d]=e[d]===void 0&&l!==void 0?l[d]:e[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Di,type:t.type,key:s,ref:i,props:n,_owner:a}};ae.createContext=function(t){return t={$$typeof:Gy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xy,_context:t},t.Consumer=t};ae.createElement=Pg;ae.createFactory=function(t){var e=Pg.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:Qy,render:t}};ae.isValidElement=Pc;ae.lazy=function(t){return{$$typeof:eb,_payload:{_status:-1,_result:t},_init:sb}};ae.memo=function(t,e){return{$$typeof:Zy,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Ea.transition;Ea.transition={};try{t()}finally{Ea.transition=e}};ae.unstable_act=Rg;ae.useCallback=function(t,e){return tt.current.useCallback(t,e)};ae.useContext=function(t){return tt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return tt.current.useEffect(t,e)};ae.useId=function(){return tt.current.useId()};ae.useImperativeHandle=function(t,e,r){return tt.current.useImperativeHandle(t,e,r)};ae.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return tt.current.useMemo(t,e)};ae.useReducer=function(t,e,r){return tt.current.useReducer(t,e,r)};ae.useRef=function(t){return tt.current.useRef(t)};ae.useState=function(t){return tt.current.useState(t)};ae.useSyncExternalStore=function(t,e,r){return tt.current.useSyncExternalStore(t,e,r)};ae.useTransition=function(){return tt.current.useTransition()};ae.version="18.3.1";kg.exports=ae;var S=kg.exports;const de=Lo(S),ab=Vy({__proto__:null,default:de},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob=S,lb=Symbol.for("react.element"),db=Symbol.for("react.fragment"),cb=Object.prototype.hasOwnProperty,ub=ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hb={key:!0,ref:!0,__self:!0,__source:!0};function Tg(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)cb.call(e,n)&&!hb.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:lb,type:t,key:i,ref:a,props:s,_owner:ub.current}}Do.Fragment=db;Do.jsx=Tg;Do.jsxs=Tg;wg.exports=Do;var o=wg.exports,Ag={exports:{}},vt={},Og={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var R=M.length;M.push(U);e:for(;0<R;){var B=R-1>>>1,F=M[B];if(0<s(F,U))M[B]=U,M[R]=F,R=B;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var U=M[0],R=M.pop();if(R!==U){M[0]=R;e:for(var B=0,F=M.length,X=F>>>1;B<X;){var Q=2*(B+1)-1,ie=M[Q],ne=Q+1,it=M[ne];if(0>s(ie,R))ne<F&&0>s(it,ie)?(M[B]=it,M[ne]=R,B=ne):(M[B]=ie,M[Q]=R,B=Q);else if(ne<F&&0>s(it,R))M[B]=it,M[ne]=R,B=ne;else break e}}return U}function s(M,U){var R=M.sortIndex-U.sortIndex;return R!==0?R:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var d=[],c=[],u=1,h=null,f=3,g=!1,m=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=M)n(c),U.sortIndex=U.expirationTime,e(d,U);else break;U=r(c)}}function k(M){if(p=!1,b(M),!m)if(r(d)!==null)m=!0,L(N);else{var U=r(c);U!==null&&W(k,U.startTime-M)}}function N(M,U){m=!1,p&&(p=!1,y(_),_=-1),g=!0;var R=f;try{for(b(U),h=r(d);h!==null&&(!(h.expirationTime>U)||M&&!T());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var F=B(h.expirationTime<=U);U=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(d)&&n(d),b(U)}else n(d);h=r(d)}if(h!==null)var X=!0;else{var Q=r(c);Q!==null&&W(k,Q.startTime-U),X=!1}return X}finally{h=null,f=R,g=!1}}var j=!1,w=null,_=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function A(){if(w!==null){var M=t.unstable_now();C=M;var U=!0;try{U=w(!0,M)}finally{U?I():(j=!1,w=null)}}else j=!1}var I;if(typeof v=="function")I=function(){v(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=A,I=function(){V.postMessage(null)}}else I=function(){x(A,0)};function L(M){w=M,j||(j=!0,I())}function W(M,U){_=x(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,L(N))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var R=f;f=U;try{return M()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var R=f;f=M;try{return U()}finally{f=R}},t.unstable_scheduleCallback=function(M,U,R){var B=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=R+F,M={id:u++,callback:U,priorityLevel:M,startTime:R,expirationTime:F,sortIndex:-1},R>B?(M.sortIndex=R,e(c,M),r(d)===null&&M===r(c)&&(p?(y(_),_=-1):p=!0,W(k,R-B))):(M.sortIndex=F,e(d,M),m||g||(m=!0,L(N))),M},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(M){var U=f;return function(){var R=f;f=U;try{return M.apply(this,arguments)}finally{f=R}}}})(Lg);Og.exports=Lg;var fb=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=S,bt=fb;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dg=new Set,ai={};function kn(t,e){Zn(t,e),Zn(t+"Capture",e)}function Zn(t,e){for(ai[t]=e,t=0;t<e.length;t++)Dg.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=Object.prototype.hasOwnProperty,gb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eh={},th={};function pb(t){return cd.call(th,t)?!0:cd.call(eh,t)?!1:gb.test(t)?th[t]=!0:(eh[t]=!0,!1)}function xb(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yb(t,e,r,n){if(e===null||typeof e>"u"||xb(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rc=/[\-:]([a-z])/g;function Tc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rc,Tc);Ue[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rc,Tc);Ue[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rc,Tc);Ue[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ac(t,e,r,n){var s=Ue.hasOwnProperty(e)?Ue[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yb(e,r,s,n)&&(r=null),n||s===null?pb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pr=mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),An=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),Oc=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),Fg=Symbol.for("react.offscreen"),rh=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=rh&&t[rh]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,xl;function Ls(t){if(xl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xl=e&&e[1]||""}return`
`+xl+t}var yl=!1;function bl(t,e){if(!t||yl)return"";yl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var d=`
`+s[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=l);break}}}finally{yl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ls(t):""}function bb(t){switch(t.tag){case 5:return Ls(t.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return t=bl(t.type,!1),t;case 11:return t=bl(t.type.render,!1),t;case 1:return t=bl(t.type,!0),t;default:return""}}function md(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case On:return"Fragment";case An:return"Portal";case ud:return"Profiler";case Oc:return"StrictMode";case hd:return"Suspense";case fd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ig:return(t.displayName||"Context")+".Consumer";case Mg:return(t._context.displayName||"Context")+".Provider";case Lc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dc:return e=t.displayName||null,e!==null?e:md(t.type)||"Memo";case vr:e=t._payload,t=t._init;try{return md(t(e))}catch{}}return null}function vb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return md(e);case 8:return e===Oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wb(t){var e=zg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gi(t){t._valueTracker||(t._valueTracker=wb(t))}function Bg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gd(t,e){var r=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function nh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Br(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $g(t,e){e=e.checked,e!=null&&Ac(t,"checked",e,!1)}function pd(t,e){$g(t,e);var r=Br(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xd(t,e.type,r):e.hasOwnProperty("defaultValue")&&xd(t,e.type,Br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xd(t,e,r){(e!=="number"||Ka(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ds=Array.isArray;function Wn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Br(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ih(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(Ds(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Br(r)}}function Ug(t,e){var r=Br(e.value),n=Br(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ah(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qi,Vg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kb=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){kb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function Wg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function qg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Wg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var jb=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vd(t,e){if(e){if(jb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function wd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function Mc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jd=null,qn=null,Kn=null;function oh(t){if(t=Fi(t)){if(typeof jd!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Bo(e),jd(t.stateNode,t.type,e))}}function Kg(t){qn?Kn?Kn.push(t):Kn=[t]:qn=t}function Yg(){if(qn){var t=qn,e=Kn;if(Kn=qn=null,oh(t),e)for(t=0;t<e.length;t++)oh(e[t])}}function Xg(t,e){return t(e)}function Gg(){}var vl=!1;function Qg(t,e,r){if(vl)return t(e,r);vl=!0;try{return Xg(t,e,r)}finally{vl=!1,(qn!==null||Kn!==null)&&(Gg(),Yg())}}function li(t,e){var r=t.stateNode;if(r===null)return null;var n=Bo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var Nd=!1;if(hr)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Nd=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Nd=!1}function Nb(t,e,r,n,s,i,a,l,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Hs=!1,Ya=null,Xa=!1,Sd=null,Sb={onError:function(t){Hs=!0,Ya=t}};function _b(t,e,r,n,s,i,a,l,d){Hs=!1,Ya=null,Nb.apply(Sb,arguments)}function Cb(t,e,r,n,s,i,a,l,d){if(_b.apply(this,arguments),Hs){if(Hs){var c=Ya;Hs=!1,Ya=null}else throw Error(H(198));Xa||(Xa=!0,Sd=c)}}function jn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lh(t){if(jn(t)!==t)throw Error(H(188))}function Eb(t){var e=t.alternate;if(!e){if(e=jn(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lh(s),t;if(i===n)return lh(s),e;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function Zg(t){return t=Eb(t),t!==null?ep(t):null}function ep(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ep(t);if(e!==null)return e;t=t.sibling}return null}var tp=bt.unstable_scheduleCallback,dh=bt.unstable_cancelCallback,Pb=bt.unstable_shouldYield,Rb=bt.unstable_requestPaint,Se=bt.unstable_now,Tb=bt.unstable_getCurrentPriorityLevel,Ic=bt.unstable_ImmediatePriority,rp=bt.unstable_UserBlockingPriority,Ga=bt.unstable_NormalPriority,Ab=bt.unstable_LowPriority,np=bt.unstable_IdlePriority,Mo=null,Xt=null;function Ob(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Mo,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Mb,Lb=Math.log,Db=Math.LN2;function Mb(t){return t>>>=0,t===0?32:31-(Lb(t)/Db|0)|0}var Ji=64,Zi=4194304;function Ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ms(l):(i&=a,i!==0&&(n=Ms(i)))}else a=r&~s,a!==0?n=Ms(a):i!==0&&(n=Ms(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Dt(e),s=1<<r,n|=t[r],e&=~s;return n}function Ib(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fb(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Dt(i),l=1<<a,d=s[a];d===-1?(!(l&r)||l&n)&&(s[a]=Ib(l,e)):d<=e&&(t.expiredLanes|=l),i&=~l}}function _d(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sp(){var t=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),t}function wl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Mi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=r}function zb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Dt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Fc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Dt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var fe=0;function ip(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ap,zc,op,lp,dp,Cd=!1,ea=[],Rr=null,Tr=null,Ar=null,di=new Map,ci=new Map,kr=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(t,e){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(e.pointerId)}}function ws(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fi(e),e!==null&&zc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $b(t,e,r,n,s){switch(e){case"focusin":return Rr=ws(Rr,t,e,r,n,s),!0;case"dragenter":return Tr=ws(Tr,t,e,r,n,s),!0;case"mouseover":return Ar=ws(Ar,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return di.set(i,ws(di.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ci.set(i,ws(ci.get(i)||null,t,e,r,n,s)),!0}return!1}function cp(t){var e=rn(t.target);if(e!==null){var r=jn(e);if(r!==null){if(e=r.tag,e===13){if(e=Jg(r),e!==null){t.blockedOn=e,dp(t.priority,function(){op(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ed(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);kd=n,r.target.dispatchEvent(n),kd=null}else return e=Fi(r),e!==null&&zc(e),t.blockedOn=r,!1;e.shift()}return!0}function uh(t,e,r){Pa(t)&&r.delete(e)}function Ub(){Cd=!1,Rr!==null&&Pa(Rr)&&(Rr=null),Tr!==null&&Pa(Tr)&&(Tr=null),Ar!==null&&Pa(Ar)&&(Ar=null),di.forEach(uh),ci.forEach(uh)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,Cd||(Cd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Ub)))}function ui(t){function e(s){return ks(s,t)}if(0<ea.length){ks(ea[0],t);for(var r=1;r<ea.length;r++){var n=ea[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rr!==null&&ks(Rr,t),Tr!==null&&ks(Tr,t),Ar!==null&&ks(Ar,t),di.forEach(e),ci.forEach(e),r=0;r<kr.length;r++)n=kr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<kr.length&&(r=kr[0],r.blockedOn===null);)cp(r),r.blockedOn===null&&kr.shift()}var Yn=pr.ReactCurrentBatchConfig,Ja=!0;function Hb(t,e,r,n){var s=fe,i=Yn.transition;Yn.transition=null;try{fe=1,Bc(t,e,r,n)}finally{fe=s,Yn.transition=i}}function Vb(t,e,r,n){var s=fe,i=Yn.transition;Yn.transition=null;try{fe=4,Bc(t,e,r,n)}finally{fe=s,Yn.transition=i}}function Bc(t,e,r,n){if(Ja){var s=Ed(t,e,r,n);if(s===null)Tl(t,e,n,Za,r),ch(t,n);else if($b(s,t,e,r,n))n.stopPropagation();else if(ch(t,n),e&4&&-1<Bb.indexOf(t)){for(;s!==null;){var i=Fi(s);if(i!==null&&ap(i),i=Ed(t,e,r,n),i===null&&Tl(t,e,n,Za,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Tl(t,e,n,null,r)}}var Za=null;function Ed(t,e,r,n){if(Za=null,t=Mc(n),t=rn(t),t!==null)if(e=jn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Jg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Za=t,null}function up(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tb()){case Ic:return 1;case rp:return 4;case Ga:case Ab:return 16;case np:return 536870912;default:return 16}default:return 16}}var Nr=null,$c=null,Ra=null;function hp(){if(Ra)return Ra;var t,e=$c,r=e.length,n,s="value"in Nr?Nr.value:Nr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Ra=s.slice(t,1<n?1-n:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ta(){return!0}function hh(){return!1}function wt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ta:hh,this.isPropagationStopped=hh,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=wt(hs),Ii=je({},hs,{view:0,detail:0}),Wb=wt(Ii),kl,jl,js,Io=je({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(kl=t.screenX-js.screenX,jl=t.screenY-js.screenY):jl=kl=0,js=t),kl)},movementY:function(t){return"movementY"in t?t.movementY:jl}}),fh=wt(Io),qb=je({},Io,{dataTransfer:0}),Kb=wt(qb),Yb=je({},Ii,{relatedTarget:0}),Nl=wt(Yb),Xb=je({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gb=wt(Xb),Qb=je({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jb=wt(Qb),Zb=je({},hs,{data:0}),mh=wt(Zb),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rv[t])?!!e[t]:!1}function Hc(){return nv}var sv=je({},Ii,{key:function(t){if(t.key){var e=ev[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iv=wt(sv),av=je({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=wt(av),ov=je({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),lv=wt(ov),dv=je({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cv=wt(dv),uv=je({},Io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=wt(uv),fv=[9,13,27,32],Vc=hr&&"CompositionEvent"in window,Vs=null;hr&&"documentMode"in document&&(Vs=document.documentMode);var mv=hr&&"TextEvent"in window&&!Vs,fp=hr&&(!Vc||Vs&&8<Vs&&11>=Vs),ph=" ",xh=!1;function mp(t,e){switch(t){case"keyup":return fv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function gv(t,e){switch(t){case"compositionend":return gp(e);case"keypress":return e.which!==32?null:(xh=!0,ph);case"textInput":return t=e.data,t===ph&&xh?null:t;default:return null}}function pv(t,e){if(Ln)return t==="compositionend"||!Vc&&mp(t,e)?(t=hp(),Ra=$c=Nr=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fp&&e.locale!=="ko"?null:e.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xv[t.type]:e==="textarea"}function pp(t,e,r,n){Kg(n),e=eo(e,"onChange"),0<e.length&&(r=new Uc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ws=null,hi=null;function yv(t){Cp(t,0)}function Fo(t){var e=In(t);if(Bg(e))return t}function bv(t,e){if(t==="change")return e}var xp=!1;if(hr){var Sl;if(hr){var _l="oninput"in document;if(!_l){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),_l=typeof bh.oninput=="function"}Sl=_l}else Sl=!1;xp=Sl&&(!document.documentMode||9<document.documentMode)}function vh(){Ws&&(Ws.detachEvent("onpropertychange",yp),hi=Ws=null)}function yp(t){if(t.propertyName==="value"&&Fo(hi)){var e=[];pp(e,hi,t,Mc(t)),Qg(yv,e)}}function vv(t,e,r){t==="focusin"?(vh(),Ws=e,hi=r,Ws.attachEvent("onpropertychange",yp)):t==="focusout"&&vh()}function wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(hi)}function kv(t,e){if(t==="click")return Fo(e)}function jv(t,e){if(t==="input"||t==="change")return Fo(e)}function Nv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:Nv;function fi(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!cd.call(e,s)||!It(t[s],e[s]))return!1}return!0}function wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kh(t,e){var r=wh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wh(r)}}function bp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vp(){for(var t=window,e=Ka();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ka(t.document)}return e}function Wc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sv(t){var e=vp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bp(r.ownerDocument.documentElement,r)){if(n!==null&&Wc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=kh(r,i);var a=kh(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _v=hr&&"documentMode"in document&&11>=document.documentMode,Dn=null,Pd=null,qs=null,Rd=!1;function jh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rd||Dn==null||Dn!==Ka(n)||(n=Dn,"selectionStart"in n&&Wc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&fi(qs,n)||(qs=n,n=eo(Pd,"onSelect"),0<n.length&&(e=new Uc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Dn)))}function ra(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mn={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},Cl={},wp={};hr&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function zo(t){if(Cl[t])return Cl[t];if(!Mn[t])return t;var e=Mn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in wp)return Cl[t]=e[r];return t}var kp=zo("animationend"),jp=zo("animationiteration"),Np=zo("animationstart"),Sp=zo("transitionend"),_p=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){_p.set(t,e),kn(e,[t])}for(var El=0;El<Nh.length;El++){var Pl=Nh[El],Cv=Pl.toLowerCase(),Ev=Pl[0].toUpperCase()+Pl.slice(1);Vr(Cv,"on"+Ev)}Vr(kp,"onAnimationEnd");Vr(jp,"onAnimationIteration");Vr(Np,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Sp,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Sh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Cb(n,e,void 0,t),t.currentTarget=null}function Cp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&s.isPropagationStopped())break e;Sh(s,l,c),i=d}else for(a=0;a<n.length;a++){if(l=n[a],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&s.isPropagationStopped())break e;Sh(s,l,c),i=d}}}if(Xa)throw t=Sd,Xa=!1,Sd=null,t}function pe(t,e){var r=e[Dd];r===void 0&&(r=e[Dd]=new Set);var n=t+"__bubble";r.has(n)||(Ep(e,t,2,!1),r.add(n))}function Rl(t,e,r){var n=0;e&&(n|=4),Ep(r,t,n,e)}var na="_reactListening"+Math.random().toString(36).slice(2);function mi(t){if(!t[na]){t[na]=!0,Dg.forEach(function(r){r!=="selectionchange"&&(Pv.has(r)||Rl(r,!1,t),Rl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[na]||(e[na]=!0,Rl("selectionchange",!1,e))}}function Ep(t,e,r,n){switch(up(e)){case 1:var s=Hb;break;case 4:s=Vb;break;default:s=Bc}r=s.bind(null,e,r,t),s=void 0,!Nd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Tl(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;a=a.return}for(;l!==null;){if(a=rn(l),a===null)return;if(d=a.tag,d===5||d===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Qg(function(){var c=i,u=Mc(r),h=[];e:{var f=_p.get(t);if(f!==void 0){var g=Uc,m=t;switch(t){case"keypress":if(Ta(r)===0)break e;case"keydown":case"keyup":g=iv;break;case"focusin":m="focus",g=Nl;break;case"focusout":m="blur",g=Nl;break;case"beforeblur":case"afterblur":g=Nl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=lv;break;case kp:case jp:case Np:g=Gb;break;case Sp:g=cv;break;case"scroll":g=Wb;break;case"wheel":g=hv;break;case"copy":case"cut":case"paste":g=Jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gh}var p=(e&4)!==0,x=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var v=c,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=li(v,y),k!=null&&p.push(gi(v,k,b)))),x)break;v=v.return}0<p.length&&(f=new g(f,m,null,r,u),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==kd&&(m=r.relatedTarget||r.fromElement)&&(rn(m)||m[fr]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?rn(m):null,m!==null&&(x=jn(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(p=fh,k="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=gh,k="onPointerLeave",y="onPointerEnter",v="pointer"),x=g==null?f:In(g),b=m==null?f:In(m),f=new p(k,v+"leave",g,r,u),f.target=x,f.relatedTarget=b,k=null,rn(u)===c&&(p=new p(y,v+"enter",m,r,u),p.target=b,p.relatedTarget=x,k=p),x=k,g&&m)t:{for(p=g,y=m,v=0,b=p;b;b=_n(b))v++;for(b=0,k=y;k;k=_n(k))b++;for(;0<v-b;)p=_n(p),v--;for(;0<b-v;)y=_n(y),b--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=_n(p),y=_n(y)}p=null}else p=null;g!==null&&_h(h,f,g,p,!1),m!==null&&x!==null&&_h(h,x,m,p,!0)}}e:{if(f=c?In(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=bv;else if(yh(f))if(xp)N=jv;else{N=wv;var j=vv}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=kv);if(N&&(N=N(t,c))){pp(h,N,r,u);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&xd(f,"number",f.value)}switch(j=c?In(c):window,t){case"focusin":(yh(j)||j.contentEditable==="true")&&(Dn=j,Pd=c,qs=null);break;case"focusout":qs=Pd=Dn=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,jh(h,r,u);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":jh(h,r,u)}var w;if(Vc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ln?mp(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(fp&&r.locale!=="ko"&&(Ln||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ln&&(w=hp()):(Nr=u,$c="value"in Nr?Nr.value:Nr.textContent,Ln=!0)),j=eo(c,_),0<j.length&&(_=new mh(_,t,null,r,u),h.push({event:_,listeners:j}),w?_.data=w:(w=gp(r),w!==null&&(_.data=w)))),(w=mv?gv(t,r):pv(t,r))&&(c=eo(c,"onBeforeInput"),0<c.length&&(u=new mh("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=w))}Cp(h,e)})}function gi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function eo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=li(t,r),i!=null&&n.unshift(gi(t,i,s)),i=li(t,e),i!=null&&n.push(gi(t,i,s))),t=t.return}return n}function _n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _h(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,d=l.alternate,c=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&c!==null&&(l=c,s?(d=li(r,i),d!=null&&a.unshift(gi(r,d,l))):s||(d=li(r,i),d!=null&&a.push(gi(r,d,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Rv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function Ch(t){return(typeof t=="string"?t:""+t).replace(Rv,`
`).replace(Tv,"")}function sa(t,e,r){if(e=Ch(e),Ch(t)!==e&&r)throw Error(H(425))}function to(){}var Td=null,Ad=null;function Od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ld=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,Eh=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Eh<"u"?function(t){return Eh.resolve(null).then(t).catch(Lv)}:Ld;function Lv(t){setTimeout(function(){throw t})}function Al(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ui(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ui(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ph(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Kt="__reactFiber$"+fs,pi="__reactProps$"+fs,fr="__reactContainer$"+fs,Dd="__reactEvents$"+fs,Dv="__reactListeners$"+fs,Mv="__reactHandles$"+fs;function rn(t){var e=t[Kt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fr]||r[Kt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ph(t);t!==null;){if(r=t[Kt])return r;t=Ph(t)}return e}t=r,r=t.parentNode}return null}function Fi(t){return t=t[Kt]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function In(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Bo(t){return t[pi]||null}var Md=[],Fn=-1;function Wr(t){return{current:t}}function ye(t){0>Fn||(t.current=Md[Fn],Md[Fn]=null,Fn--)}function ge(t,e){Fn++,Md[Fn]=t.current,t.current=e}var $r={},Ge=Wr($r),ct=Wr(!1),fn=$r;function es(t,e){var r=t.type.contextTypes;if(!r)return $r;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function ro(){ye(ct),ye(Ge)}function Rh(t,e,r){if(Ge.current!==$r)throw Error(H(168));ge(Ge,e),ge(ct,r)}function Pp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(H(108,vb(t)||"Unknown",s));return je({},r,n)}function no(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$r,fn=Ge.current,ge(Ge,t),ge(ct,ct.current),!0}function Th(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=Pp(t,e,fn),n.__reactInternalMemoizedMergedChildContext=t,ye(ct),ye(Ge),ge(Ge,t)):ye(ct),ge(ct,r)}var sr=null,$o=!1,Ol=!1;function Rp(t){sr===null?sr=[t]:sr.push(t)}function Iv(t){$o=!0,Rp(t)}function qr(){if(!Ol&&sr!==null){Ol=!0;var t=0,e=fe;try{var r=sr;for(fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}sr=null,$o=!1}catch(s){throw sr!==null&&(sr=sr.slice(t+1)),tp(Ic,qr),s}finally{fe=e,Ol=!1}}return null}var zn=[],Bn=0,so=null,io=0,jt=[],Nt=0,mn=null,ar=1,or="";function Jr(t,e){zn[Bn++]=io,zn[Bn++]=so,so=t,io=e}function Tp(t,e,r){jt[Nt++]=ar,jt[Nt++]=or,jt[Nt++]=mn,mn=t;var n=ar;t=or;var s=32-Dt(n)-1;n&=~(1<<s),r+=1;var i=32-Dt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ar=1<<32-Dt(e)+s|r<<s|n,or=i+t}else ar=1<<i|r<<s|n,or=t}function qc(t){t.return!==null&&(Jr(t,1),Tp(t,1,0))}function Kc(t){for(;t===so;)so=zn[--Bn],zn[Bn]=null,io=zn[--Bn],zn[Bn]=null;for(;t===mn;)mn=jt[--Nt],jt[Nt]=null,or=jt[--Nt],jt[Nt]=null,ar=jt[--Nt],jt[Nt]=null}var yt=null,xt=null,be=!1,Lt=null;function Ap(t,e){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ah(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,xt=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mn!==null?{id:ar,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yt=t,xt=null,!0):!1;default:return!1}}function Id(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fd(t){if(be){var e=xt;if(e){var r=e;if(!Ah(t,e)){if(Id(t))throw Error(H(418));e=Or(r.nextSibling);var n=yt;e&&Ah(t,e)?Ap(n,r):(t.flags=t.flags&-4097|2,be=!1,yt=t)}}else{if(Id(t))throw Error(H(418));t.flags=t.flags&-4097|2,be=!1,yt=t}}}function Oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function ia(t){if(t!==yt)return!1;if(!be)return Oh(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Od(t.type,t.memoizedProps)),e&&(e=xt)){if(Id(t))throw Op(),Error(H(418));for(;e;)Ap(t,e),e=Or(e.nextSibling)}if(Oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xt=Or(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xt=null}}else xt=yt?Or(t.stateNode.nextSibling):null;return!0}function Op(){for(var t=xt;t;)t=Or(t.nextSibling)}function ts(){xt=yt=null,be=!1}function Yc(t){Lt===null?Lt=[t]:Lt.push(t)}var Fv=pr.ReactCurrentBatchConfig;function Ns(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function aa(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lh(t){var e=t._init;return e(t._payload)}function Lp(t){function e(y,v){if(t){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Ir(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,k){return v===null||v.tag!==6?(v=Bl(b,y.mode,k),v.return=y,v):(v=s(v,b),v.return=y,v)}function d(y,v,b,k){var N=b.type;return N===On?u(y,v,b.props.children,k,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vr&&Lh(N)===v.type)?(k=s(v,b.props),k.ref=Ns(y,v,b),k.return=y,k):(k=Fa(b.type,b.key,b.props,null,y.mode,k),k.ref=Ns(y,v,b),k.return=y,k)}function c(y,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=$l(b,y.mode,k),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function u(y,v,b,k,N){return v===null||v.tag!==7?(v=dn(b,y.mode,k,N),v.return=y,v):(v=s(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Bl(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xi:return b=Fa(v.type,v.key,v.props,null,y.mode,b),b.ref=Ns(y,null,v),b.return=y,b;case An:return v=$l(v,y.mode,b),v.return=y,v;case vr:var k=v._init;return h(y,k(v._payload),b)}if(Ds(v)||bs(v))return v=dn(v,y.mode,b,null),v.return=y,v;aa(y,v)}return null}function f(y,v,b,k){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xi:return b.key===N?d(y,v,b,k):null;case An:return b.key===N?c(y,v,b,k):null;case vr:return N=b._init,f(y,v,N(b._payload),k)}if(Ds(b)||bs(b))return N!==null?null:u(y,v,b,k,null);aa(y,b)}return null}function g(y,v,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,l(v,y,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xi:return y=y.get(k.key===null?b:k.key)||null,d(v,y,k,N);case An:return y=y.get(k.key===null?b:k.key)||null,c(v,y,k,N);case vr:var j=k._init;return g(y,v,b,j(k._payload),N)}if(Ds(k)||bs(k))return y=y.get(b)||null,u(v,y,k,N,null);aa(v,k)}return null}function m(y,v,b,k){for(var N=null,j=null,w=v,_=v=0,E=null;w!==null&&_<b.length;_++){w.index>_?(E=w,w=null):E=w.sibling;var C=f(y,w,b[_],k);if(C===null){w===null&&(w=E);break}t&&w&&C.alternate===null&&e(y,w),v=i(C,v,_),j===null?N=C:j.sibling=C,j=C,w=E}if(_===b.length)return r(y,w),be&&Jr(y,_),N;if(w===null){for(;_<b.length;_++)w=h(y,b[_],k),w!==null&&(v=i(w,v,_),j===null?N=w:j.sibling=w,j=w);return be&&Jr(y,_),N}for(w=n(y,w);_<b.length;_++)E=g(w,y,_,b[_],k),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?_:E.key),v=i(E,v,_),j===null?N=E:j.sibling=E,j=E);return t&&w.forEach(function(T){return e(y,T)}),be&&Jr(y,_),N}function p(y,v,b,k){var N=bs(b);if(typeof N!="function")throw Error(H(150));if(b=N.call(b),b==null)throw Error(H(151));for(var j=N=null,w=v,_=v=0,E=null,C=b.next();w!==null&&!C.done;_++,C=b.next()){w.index>_?(E=w,w=null):E=w.sibling;var T=f(y,w,C.value,k);if(T===null){w===null&&(w=E);break}t&&w&&T.alternate===null&&e(y,w),v=i(T,v,_),j===null?N=T:j.sibling=T,j=T,w=E}if(C.done)return r(y,w),be&&Jr(y,_),N;if(w===null){for(;!C.done;_++,C=b.next())C=h(y,C.value,k),C!==null&&(v=i(C,v,_),j===null?N=C:j.sibling=C,j=C);return be&&Jr(y,_),N}for(w=n(y,w);!C.done;_++,C=b.next())C=g(w,y,_,C.value,k),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?_:C.key),v=i(C,v,_),j===null?N=C:j.sibling=C,j=C);return t&&w.forEach(function(A){return e(y,A)}),be&&Jr(y,_),N}function x(y,v,b,k){if(typeof b=="object"&&b!==null&&b.type===On&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xi:e:{for(var N=b.key,j=v;j!==null;){if(j.key===N){if(N=b.type,N===On){if(j.tag===7){r(y,j.sibling),v=s(j,b.props.children),v.return=y,y=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vr&&Lh(N)===j.type){r(y,j.sibling),v=s(j,b.props),v.ref=Ns(y,j,b),v.return=y,y=v;break e}r(y,j);break}else e(y,j);j=j.sibling}b.type===On?(v=dn(b.props.children,y.mode,k,b.key),v.return=y,y=v):(k=Fa(b.type,b.key,b.props,null,y.mode,k),k.ref=Ns(y,v,b),k.return=y,y=k)}return a(y);case An:e:{for(j=b.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=$l(b,y.mode,k),v.return=y,y=v}return a(y);case vr:return j=b._init,x(y,v,j(b._payload),k)}if(Ds(b))return m(y,v,b,k);if(bs(b))return p(y,v,b,k);aa(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,b),v.return=y,y=v):(r(y,v),v=Bl(b,y.mode,k),v.return=y,y=v),a(y)):r(y,v)}return x}var rs=Lp(!0),Dp=Lp(!1),ao=Wr(null),oo=null,$n=null,Xc=null;function Gc(){Xc=$n=oo=null}function Qc(t){var e=ao.current;ye(ao),t._currentValue=e}function zd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xn(t,e){oo=t,Xc=$n=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(Xc!==t)if(t={context:t,memoizedValue:e,next:null},$n===null){if(oo===null)throw Error(H(308));$n=t,oo.dependencies={lanes:0,firstContext:t}}else $n=$n.next=t;return e}var nn=null;function Jc(t){nn===null?nn=[t]:nn.push(t)}function Mp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Jc(e)):(r.next=s.next,s.next=r),e.interleaved=r,mr(t,n)}function mr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var wr=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mr(t,r)}return s=n.interleaved,s===null?(e.next=e,Jc(n)):(e.next=s.next,s.next=e),n.interleaved=e,mr(t,r)}function Aa(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fc(t,r)}}function Dh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lo(t,e,r,n){var s=t.updateQueue;wr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,c=d.next;d.next=null,a===null?i=c:a.next=c,a=d;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var h=s.baseState;a=0,u=c=d=null,l=i;do{var f=l.lane,g=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,p=l;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=je({},h,f);break e;case 2:wr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=g,d=h):u=u.next=g,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(d=h),s.baseState=d,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pn|=a,t.lanes=a,t.memoizedState=h}}function Mh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var zi={},Gt=Wr(zi),xi=Wr(zi),yi=Wr(zi);function sn(t){if(t===zi)throw Error(H(174));return t}function eu(t,e){switch(ge(yi,e),ge(xi,t),ge(Gt,zi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}ye(Gt),ge(Gt,e)}function ns(){ye(Gt),ye(xi),ye(yi)}function Fp(t){sn(yi.current);var e=sn(Gt.current),r=bd(e,t.type);e!==r&&(ge(xi,t),ge(Gt,r))}function tu(t){xi.current===t&&(ye(Gt),ye(xi))}var ve=Wr(0);function co(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ll=[];function ru(){for(var t=0;t<Ll.length;t++)Ll[t]._workInProgressVersionPrimary=null;Ll.length=0}var Oa=pr.ReactCurrentDispatcher,Dl=pr.ReactCurrentBatchConfig,gn=0,ke=null,Ae=null,Ie=null,uo=!1,Ks=!1,bi=0,zv=0;function He(){throw Error(H(321))}function nu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!It(t[r],e[r]))return!1;return!0}function su(t,e,r,n,s,i){if(gn=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oa.current=t===null||t.memoizedState===null?Hv:Vv,t=r(n,s),Ks){i=0;do{if(Ks=!1,bi=0,25<=i)throw Error(H(301));i+=1,Ie=Ae=null,e.updateQueue=null,Oa.current=Wv,t=r(n,s)}while(Ks)}if(Oa.current=ho,e=Ae!==null&&Ae.next!==null,gn=0,Ie=Ae=ke=null,uo=!1,e)throw Error(H(300));return t}function iu(){var t=bi!==0;return bi=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ke.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Pt(){if(Ae===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=Ie===null?ke.memoizedState:Ie.next;if(e!==null)Ie=e,Ae=t;else{if(t===null)throw Error(H(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ie===null?ke.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function vi(t,e){return typeof e=="function"?e(t):e}function Ml(t){var e=Pt(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=Ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,d=null,c=i;do{var u=c.lane;if((gn&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=h,a=n):d=d.next=h,ke.lanes|=u,pn|=u}c=c.next}while(c!==null&&c!==i);d===null?a=n:d.next=l,It(n,e.memoizedState)||(dt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=d,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,pn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Il(t){var e=Pt(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);It(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function zp(){}function Bp(t,e){var r=ke,n=Pt(),s=e(),i=!It(n.memoizedState,s);if(i&&(n.memoizedState=s,dt=!0),n=n.queue,au(Hp.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,wi(9,Up.bind(null,r,n,s,e),void 0,null),Fe===null)throw Error(H(349));gn&30||$p(r,e,s)}return s}function $p(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Up(t,e,r,n){e.value=r,e.getSnapshot=n,Vp(e)&&Wp(t)}function Hp(t,e,r){return r(function(){Vp(e)&&Wp(t)})}function Vp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!It(t,r)}catch{return!0}}function Wp(t){var e=mr(t,1);e!==null&&Mt(e,t,1,-1)}function Ih(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},e.queue=t,t=t.dispatch=Uv.bind(null,ke,t),[e.memoizedState,t]}function wi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qp(){return Pt().memoizedState}function La(t,e,r,n){var s=Wt();ke.flags|=t,s.memoizedState=wi(1|e,r,void 0,n===void 0?null:n)}function Uo(t,e,r,n){var s=Pt();n=n===void 0?null:n;var i=void 0;if(Ae!==null){var a=Ae.memoizedState;if(i=a.destroy,n!==null&&nu(n,a.deps)){s.memoizedState=wi(e,r,i,n);return}}ke.flags|=t,s.memoizedState=wi(1|e,r,i,n)}function Fh(t,e){return La(8390656,8,t,e)}function au(t,e){return Uo(2048,8,t,e)}function Kp(t,e){return Uo(4,2,t,e)}function Yp(t,e){return Uo(4,4,t,e)}function Xp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gp(t,e,r){return r=r!=null?r.concat([t]):null,Uo(4,4,Xp.bind(null,e,t),r)}function ou(){}function Qp(t,e){var r=Pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Jp(t,e){var r=Pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Zp(t,e,r){return gn&21?(It(r,e)||(r=sp(),ke.lanes|=r,pn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=r)}function Bv(t,e){var r=fe;fe=r!==0&&4>r?r:4,t(!0);var n=Dl.transition;Dl.transition={};try{t(!1),e()}finally{fe=r,Dl.transition=n}}function e0(){return Pt().memoizedState}function $v(t,e,r){var n=Mr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},t0(t))r0(e,r);else if(r=Mp(t,e,r,n),r!==null){var s=et();Mt(r,t,n,s),n0(r,e,n)}}function Uv(t,e,r){var n=Mr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(t0(t))r0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,It(l,a)){var d=e.interleaved;d===null?(s.next=s,Jc(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}r=Mp(t,e,s,n),r!==null&&(s=et(),Mt(r,t,n,s),n0(r,e,n))}}function t0(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function r0(t,e){Ks=uo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function n0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fc(t,r)}}var ho={readContext:Et,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Hv={readContext:Et,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Fh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,La(4194308,4,Xp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return La(4194308,4,t,e)},useInsertionEffect:function(t,e){return La(4,2,t,e)},useMemo:function(t,e){var r=Wt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$v.bind(null,ke,t),[n.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:Ih,useDebugValue:ou,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=Ih(!1),e=t[0];return t=Bv.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ke,s=Wt();if(be){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),Fe===null)throw Error(H(349));gn&30||$p(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Fh(Hp.bind(null,n,i,t),[t]),n.flags|=2048,wi(9,Up.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Wt(),e=Fe.identifierPrefix;if(be){var r=or,n=ar;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vv={readContext:Et,useCallback:Qp,useContext:Et,useEffect:au,useImperativeHandle:Gp,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Ml,useRef:qp,useState:function(){return Ml(vi)},useDebugValue:ou,useDeferredValue:function(t){var e=Pt();return Zp(e,Ae.memoizedState,t)},useTransition:function(){var t=Ml(vi)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:zp,useSyncExternalStore:Bp,useId:e0,unstable_isNewReconciler:!1},Wv={readContext:Et,useCallback:Qp,useContext:Et,useEffect:au,useImperativeHandle:Gp,useInsertionEffect:Kp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Il,useRef:qp,useState:function(){return Il(vi)},useDebugValue:ou,useDeferredValue:function(t){var e=Pt();return Ae===null?e.memoizedState=t:Zp(e,Ae.memoizedState,t)},useTransition:function(){var t=Il(vi)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:zp,useSyncExternalStore:Bp,useId:e0,unstable_isNewReconciler:!1};function At(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:je({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ho={isMounted:function(t){return(t=t._reactInternals)?jn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=et(),s=Mr(t),i=ur(n,s);i.payload=e,r!=null&&(i.callback=r),e=Lr(t,i,s),e!==null&&(Mt(e,t,s,n),Aa(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=et(),s=Mr(t),i=ur(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Lr(t,i,s),e!==null&&(Mt(e,t,s,n),Aa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=et(),n=Mr(t),s=ur(r,n);s.tag=2,e!=null&&(s.callback=e),e=Lr(t,s,n),e!==null&&(Mt(e,t,n,r),Aa(e,t,n))}};function zh(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!fi(r,n)||!fi(s,i):!0}function s0(t,e,r){var n=!1,s=$r,i=e.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=ut(e)?fn:Ge.current,n=e.contextTypes,i=(n=n!=null)?es(t,s):$r),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ho,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ho.enqueueReplaceState(e,e.state,null)}function $d(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Zc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=ut(e)?fn:Ge.current,s.context=es(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bd(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ho.enqueueReplaceState(s,s.state,null),lo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e){try{var r="",n=e;do r+=bb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ud(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var qv=typeof WeakMap=="function"?WeakMap:Map;function i0(t,e,r){r=ur(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){mo||(mo=!0,Jd=n),Ud(t,e)},r}function a0(t,e,r){r=ur(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ud(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ud(t,e),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function $h(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new qv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=aw.bind(null,t,e,r),e.then(t,t))}function Uh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hh(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ur(-1,1),e.tag=2,Lr(r,e,1))),r.lanes|=1),t)}var Kv=pr.ReactCurrentOwner,dt=!1;function Ze(t,e,r,n){e.child=t===null?Dp(e,null,r,n):rs(e,t.child,r,n)}function Vh(t,e,r,n,s){r=r.render;var i=e.ref;return Xn(e,s),n=su(t,e,r,n,i,s),r=iu(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gr(t,e,s)):(be&&r&&qc(e),e.flags|=1,Ze(t,e,n,s),e.child)}function Wh(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!gu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,o0(t,e,i,n,s)):(t=Fa(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:fi,r(a,n)&&t.ref===e.ref)return gr(t,e,s)}return e.flags|=1,t=Ir(i,n),t.ref=e.ref,t.return=e,e.child=t}function o0(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(fi(i,n)&&t.ref===e.ref)if(dt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,gr(t,e,s)}return Hd(t,e,r,n,s)}function l0(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Hn,gt),gt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Hn,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ge(Hn,gt),gt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ge(Hn,gt),gt|=n;return Ze(t,e,s,r),e.child}function d0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Hd(t,e,r,n,s){var i=ut(r)?fn:Ge.current;return i=es(e,i),Xn(e,s),r=su(t,e,r,n,i,s),n=iu(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gr(t,e,s)):(be&&n&&qc(e),e.flags|=1,Ze(t,e,r,s),e.child)}function qh(t,e,r,n,s){if(ut(r)){var i=!0;no(e)}else i=!1;if(Xn(e,s),e.stateNode===null)Da(t,e),s0(e,r,n),$d(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var d=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=ut(r)?fn:Ge.current,c=es(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||d!==c)&&Bh(e,a,n,c),wr=!1;var f=e.memoizedState;a.state=f,lo(e,n,a,s),d=e.memoizedState,l!==n||f!==d||ct.current||wr?(typeof u=="function"&&(Bd(e,r,u,n),d=e.memoizedState),(l=wr||zh(e,r,l,n,f,d,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ip(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:At(e.type,l),a.props=c,h=e.pendingProps,f=a.context,d=r.contextType,typeof d=="object"&&d!==null?d=Et(d):(d=ut(r)?fn:Ge.current,d=es(e,d));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==d)&&Bh(e,a,n,d),wr=!1,f=e.memoizedState,a.state=f,lo(e,n,a,s);var m=e.memoizedState;l!==h||f!==m||ct.current||wr?(typeof g=="function"&&(Bd(e,r,g,n),m=e.memoizedState),(c=wr||zh(e,r,c,n,f,m,d)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=d,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Vd(t,e,r,n,i,s)}function Vd(t,e,r,n,s,i){d0(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Th(e,r,!1),gr(t,e,i);n=e.stateNode,Kv.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=rs(e,t.child,null,i),e.child=rs(e,null,l,i)):Ze(t,e,l,i),e.memoizedState=n.state,s&&Th(e,r,!0),e.child}function c0(t){var e=t.stateNode;e.pendingContext?Rh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rh(t,e.context,!1),eu(t,e.containerInfo)}function Kh(t,e,r,n,s){return ts(),Yc(s),e.flags|=256,Ze(t,e,r,n),e.child}var Wd={dehydrated:null,treeContext:null,retryLane:0};function qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function u0(t,e,r){var n=e.pendingProps,s=ve.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(ve,s&1),t===null)return Fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=qo(a,n,0,null),t=dn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qd(r),e.memoizedState=Wd,t):lu(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Yv(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var d={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=d,e.deletions=null):(n=Ir(s,d),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ir(l,i):(i=dn(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?qd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Wd,n}return i=t.child,t=i.sibling,n=Ir(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lu(t,e){return e=qo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oa(t,e,r,n){return n!==null&&Yc(n),rs(e,t.child,null,r),t=lu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yv(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Fl(Error(H(422))),oa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=qo({mode:"visible",children:n.children},s,0,null),i=dn(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&rs(e,t.child,null,a),e.child.memoizedState=qd(a),e.memoizedState=Wd,i);if(!(e.mode&1))return oa(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(H(419)),n=Fl(i,n,void 0),oa(t,e,a,n)}if(l=(a&t.childLanes)!==0,dt||l){if(n=Fe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mr(t,s),Mt(n,t,s,-1))}return mu(),n=Fl(Error(H(421))),oa(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ow.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xt=Or(s.nextSibling),yt=e,be=!0,Lt=null,t!==null&&(jt[Nt++]=ar,jt[Nt++]=or,jt[Nt++]=mn,ar=t.id,or=t.overflow,mn=e),e=lu(e,n.children),e.flags|=4096,e)}function Yh(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zd(t.return,e,r)}function zl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function h0(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(t,e,n.children,r),n=ve.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yh(t,r,e);else if(t.tag===19)Yh(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(ve,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&co(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),zl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&co(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}zl(e,!0,r,null,i);break;case"together":zl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),pn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=Ir(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ir(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Xv(t,e,r){switch(e.tag){case 3:c0(e),ts();break;case 5:Fp(e);break;case 1:ut(e.type)&&no(e);break;case 4:eu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ge(ao,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(ve,ve.current&1),e.flags|=128,null):r&e.child.childLanes?u0(t,e,r):(ge(ve,ve.current&1),t=gr(t,e,r),t!==null?t.sibling:null);ge(ve,ve.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return h0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(ve,ve.current),n)break;return null;case 22:case 23:return e.lanes=0,l0(t,e,r)}return gr(t,e,r)}var f0,Kd,m0,g0;f0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kd=function(){};m0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,sn(Gt.current);var i=null;switch(r){case"input":s=gd(t,s),n=gd(t,n),i=[];break;case"select":s=je({},s,{value:void 0}),n=je({},n,{value:void 0}),i=[];break;case"textarea":s=yd(t,s),n=yd(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=to)}vd(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ai.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var d=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in d)d.hasOwnProperty(a)&&l[a]!==d[a]&&(r||(r={}),r[a]=d[a])}else r||(i||(i=[]),i.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ai.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&pe("scroll",t),i||l===d||(i=[])):(i=i||[]).push(c,d))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};g0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ss(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Gv(t,e,r){var n=e.pendingProps;switch(Kc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return ut(e.type)&&ro(),Ve(e),null;case 3:return n=e.stateNode,ns(),ye(ct),ye(Ge),ru(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lt!==null&&(tc(Lt),Lt=null))),Kd(t,e),Ve(e),null;case 5:tu(e);var s=sn(yi.current);if(r=e.type,t!==null&&e.stateNode!=null)m0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return Ve(e),null}if(t=sn(Gt.current),ia(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Kt]=e,n[pi]=i,t=(e.mode&1)!==0,r){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(s=0;s<Is.length;s++)pe(Is[s],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":nh(n,i),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pe("invalid",n);break;case"textarea":ih(n,i),pe("invalid",n)}vd(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&sa(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sa(n.textContent,l,t),s=["children",""+l]):ai.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&pe("scroll",n)}switch(r){case"input":Gi(n),sh(n,i,!0);break;case"textarea":Gi(n),ah(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=to)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Kt]=e,t[pi]=n,f0(t,e,!1,!1),e.stateNode=t;e:{switch(a=wd(r,n),r){case"dialog":pe("cancel",t),pe("close",t),s=n;break;case"iframe":case"object":case"embed":pe("load",t),s=n;break;case"video":case"audio":for(s=0;s<Is.length;s++)pe(Is[s],t);s=n;break;case"source":pe("error",t),s=n;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=n;break;case"details":pe("toggle",t),s=n;break;case"input":nh(t,n),s=gd(t,n),pe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=je({},n,{value:void 0}),pe("invalid",t);break;case"textarea":ih(t,n),s=yd(t,n),pe("invalid",t);break;default:s=n}vd(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?qg(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Vg(t,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&oi(t,d):typeof d=="number"&&oi(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ai.hasOwnProperty(i)?d!=null&&i==="onScroll"&&pe("scroll",t):d!=null&&Ac(t,i,d,a))}switch(r){case"input":Gi(t),sh(t,n,!1);break;case"textarea":Gi(t),ah(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Br(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Wn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Wn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=to)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)g0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=sn(yi.current),sn(Gt.current),ia(e)){if(n=e.stateNode,r=e.memoizedProps,n[Kt]=e,(i=n.nodeValue!==r)&&(t=yt,t!==null))switch(t.tag){case 3:sa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sa(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kt]=e,e.stateNode=n}return Ve(e),null;case 13:if(ye(ve),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&xt!==null&&e.mode&1&&!(e.flags&128))Op(),ts(),e.flags|=98560,i=!1;else if(i=ia(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Kt]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),i=!1}else Lt!==null&&(tc(Lt),Lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Oe===0&&(Oe=3):mu())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return ns(),Kd(t,e),t===null&&mi(e.stateNode.containerInfo),Ve(e),null;case 10:return Qc(e.type._context),Ve(e),null;case 17:return ut(e.type)&&ro(),Ve(e),null;case 19:if(ye(ve),i=e.memoizedState,i===null)return Ve(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Ss(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=co(t),a!==null){for(e.flags|=128,Ss(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(ve,ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Se()>is&&(e.flags|=128,n=!0,Ss(i,!1),e.lanes=4194304)}else{if(!n)if(t=co(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!be)return Ve(e),null}else 2*Se()-i.renderingStartTime>is&&r!==1073741824&&(e.flags|=128,n=!0,Ss(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Se(),e.sibling=null,r=ve.current,ge(ve,n?r&1|2:r&1),e):(Ve(e),null);case 22:case 23:return fu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gt&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Qv(t,e){switch(Kc(e),e.tag){case 1:return ut(e.type)&&ro(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(),ye(ct),ye(Ge),ru(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tu(e),null;case 13:if(ye(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(ve),null;case 4:return ns(),null;case 10:return Qc(e.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var la=!1,qe=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,K=null;function Un(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(t,e,n)}else r.current=null}function Yd(t,e,r){try{r()}catch(n){Ne(t,e,n)}}var Xh=!1;function Zv(t,e){if(Td=Ja,t=vp(),Wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,d=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(d=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++c===s&&(l=a),f===i&&++u===n&&(d=a),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ad={focusedElem:t,selectionRange:r},Ja=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,x=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:At(e.type,p),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Ne(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return m=Xh,Xh=!1,m}function Ys(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yd(e,r,i)}s=s.next}while(s!==n)}}function Vo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function p0(t){var e=t.alternate;e!==null&&(t.alternate=null,p0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kt],delete e[pi],delete e[Dd],delete e[Dv],delete e[Mv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x0(t){return t.tag===5||t.tag===3||t.tag===4}function Gh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=to));else if(n!==4&&(t=t.child,t!==null))for(Gd(t,e,r),t=t.sibling;t!==null;)Gd(t,e,r),t=t.sibling}function Qd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qd(t,e,r),t=t.sibling;t!==null;)Qd(t,e,r),t=t.sibling}var Be=null,Ot=!1;function yr(t,e,r){for(r=r.child;r!==null;)y0(t,e,r),r=r.sibling}function y0(t,e,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Mo,r)}catch{}switch(r.tag){case 5:qe||Un(r,e);case 6:var n=Be,s=Ot;Be=null,yr(t,e,r),Be=n,Ot=s,Be!==null&&(Ot?(t=Be,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Ot?(t=Be,r=r.stateNode,t.nodeType===8?Al(t.parentNode,r):t.nodeType===1&&Al(t,r),ui(t)):Al(Be,r.stateNode));break;case 4:n=Be,s=Ot,Be=r.stateNode.containerInfo,Ot=!0,yr(t,e,r),Be=n,Ot=s;break;case 0:case 11:case 14:case 15:if(!qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Yd(r,e,a),s=s.next}while(s!==n)}yr(t,e,r);break;case 1:if(!qe&&(Un(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ne(r,e,l)}yr(t,e,r);break;case 21:yr(t,e,r);break;case 22:r.mode&1?(qe=(n=qe)||r.memoizedState!==null,yr(t,e,r),qe=n):yr(t,e,r);break;default:yr(t,e,r)}}function Qh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Jv),e.forEach(function(n){var s=lw.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Tt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Ot=!1;break e;case 3:Be=l.stateNode.containerInfo,Ot=!0;break e;case 4:Be=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Be===null)throw Error(H(160));y0(i,a,s),Be=null,Ot=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(c){Ne(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b0(e,t),e=e.sibling}function b0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),$t(t),n&4){try{Ys(3,t,t.return),Vo(3,t)}catch(p){Ne(t,t.return,p)}try{Ys(5,t,t.return)}catch(p){Ne(t,t.return,p)}}break;case 1:Tt(e,t),$t(t),n&512&&r!==null&&Un(r,r.return);break;case 5:if(Tt(e,t),$t(t),n&512&&r!==null&&Un(r,r.return),t.flags&32){var s=t.stateNode;try{oi(s,"")}catch(p){Ne(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$g(s,i),wd(l,a);var c=wd(l,i);for(a=0;a<d.length;a+=2){var u=d[a],h=d[a+1];u==="style"?qg(s,h):u==="dangerouslySetInnerHTML"?Vg(s,h):u==="children"?oi(s,h):Ac(s,u,h,c)}switch(l){case"input":pd(s,i);break;case"textarea":Ug(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Wn(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wn(s,!!i.multiple,i.defaultValue,!0):Wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[pi]=i}catch(p){Ne(t,t.return,p)}}break;case 6:if(Tt(e,t),$t(t),n&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){Ne(t,t.return,p)}}break;case 3:if(Tt(e,t),$t(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ui(e.containerInfo)}catch(p){Ne(t,t.return,p)}break;case 4:Tt(e,t),$t(t);break;case 13:Tt(e,t),$t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uu=Se())),n&4&&Qh(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(qe=(c=qe)||u,Tt(e,t),qe=c):Tt(e,t),$t(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(K=t,u=t.child;u!==null;){for(h=K=u;K!==null;){switch(f=K,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ys(4,f,f.return);break;case 1:Un(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Ne(n,r,p)}}break;case 5:Un(f,f.return);break;case 22:if(f.memoizedState!==null){Zh(h);continue}}g!==null?(g.return=f,K=g):Zh(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,d=h.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Wg("display",a))}catch(p){Ne(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){Ne(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(e,t),$t(t),n&4&&Qh(t);break;case 21:break;default:Tt(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(x0(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(oi(s,""),n.flags&=-33);var i=Gh(t);Qd(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Gh(t);Gd(t,l,a);break;default:throw Error(H(161))}}catch(d){Ne(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ew(t,e,r){K=t,v0(t)}function v0(t,e,r){for(var n=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||la;if(!a){var l=s.alternate,d=l!==null&&l.memoizedState!==null||qe;l=la;var c=qe;if(la=a,(qe=d)&&!c)for(K=s;K!==null;)a=K,d=a.child,a.tag===22&&a.memoizedState!==null?ef(s):d!==null?(d.return=a,K=d):ef(s);for(;i!==null;)K=i,v0(i),i=i.sibling;K=s,la=l,qe=c}Jh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Jh(t)}}function Jh(t){for(;K!==null;){var e=K;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||Vo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:At(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mh(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Mh(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ui(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}qe||e.flags&512&&Xd(e)}catch(f){Ne(e,e.return,f)}}if(e===t){K=null;break}if(r=e.sibling,r!==null){r.return=e.return,K=r;break}K=e.return}}function Zh(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var r=e.sibling;if(r!==null){r.return=e.return,K=r;break}K=e.return}}function ef(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Vo(4,e)}catch(d){Ne(e,r,d)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(d){Ne(e,s,d)}}var i=e.return;try{Xd(e)}catch(d){Ne(e,i,d)}break;case 5:var a=e.return;try{Xd(e)}catch(d){Ne(e,a,d)}}}catch(d){Ne(e,e.return,d)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var tw=Math.ceil,fo=pr.ReactCurrentDispatcher,du=pr.ReactCurrentOwner,Ct=pr.ReactCurrentBatchConfig,le=0,Fe=null,Pe=null,$e=0,gt=0,Hn=Wr(0),Oe=0,ki=null,pn=0,Wo=0,cu=0,Xs=null,ot=null,uu=0,is=1/0,nr=null,mo=!1,Jd=null,Dr=null,da=!1,Sr=null,go=0,Gs=0,Zd=null,Ma=-1,Ia=0;function et(){return le&6?Se():Ma!==-1?Ma:Ma=Se()}function Mr(t){return t.mode&1?le&2&&$e!==0?$e&-$e:Fv.transition!==null?(Ia===0&&(Ia=sp()),Ia):(t=fe,t!==0||(t=window.event,t=t===void 0?16:up(t.type)),t):1}function Mt(t,e,r,n){if(50<Gs)throw Gs=0,Zd=null,Error(H(185));Mi(t,r,n),(!(le&2)||t!==Fe)&&(t===Fe&&(!(le&2)&&(Wo|=r),Oe===4&&jr(t,$e)),ht(t,n),r===1&&le===0&&!(e.mode&1)&&(is=Se()+500,$o&&qr()))}function ht(t,e){var r=t.callbackNode;Fb(t,e);var n=Qa(t,t===Fe?$e:0);if(n===0)r!==null&&dh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&dh(r),e===1)t.tag===0?Iv(tf.bind(null,t)):Rp(tf.bind(null,t)),Ov(function(){!(le&6)&&qr()}),r=null;else{switch(ip(n)){case 1:r=Ic;break;case 4:r=rp;break;case 16:r=Ga;break;case 536870912:r=np;break;default:r=Ga}r=E0(r,w0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function w0(t,e){if(Ma=-1,Ia=0,le&6)throw Error(H(327));var r=t.callbackNode;if(Gn()&&t.callbackNode!==r)return null;var n=Qa(t,t===Fe?$e:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=po(t,n);else{e=n;var s=le;le|=2;var i=j0();(Fe!==t||$e!==e)&&(nr=null,is=Se()+500,ln(t,e));do try{sw();break}catch(l){k0(t,l)}while(!0);Gc(),fo.current=i,le=s,Pe!==null?e=0:(Fe=null,$e=0,e=Oe)}if(e!==0){if(e===2&&(s=_d(t),s!==0&&(n=s,e=ec(t,s))),e===1)throw r=ki,ln(t,0),jr(t,n),ht(t,Se()),r;if(e===6)jr(t,n);else{if(s=t.current.alternate,!(n&30)&&!rw(s)&&(e=po(t,n),e===2&&(i=_d(t),i!==0&&(n=i,e=ec(t,i))),e===1))throw r=ki,ln(t,0),jr(t,n),ht(t,Se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:Zr(t,ot,nr);break;case 3:if(jr(t,n),(n&130023424)===n&&(e=uu+500-Se(),10<e)){if(Qa(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){et(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ld(Zr.bind(null,t,ot,nr),e);break}Zr(t,ot,nr);break;case 4:if(jr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Dt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tw(n/1960))-n,10<n){t.timeoutHandle=Ld(Zr.bind(null,t,ot,nr),n);break}Zr(t,ot,nr);break;case 5:Zr(t,ot,nr);break;default:throw Error(H(329))}}}return ht(t,Se()),t.callbackNode===r?w0.bind(null,t):null}function ec(t,e){var r=Xs;return t.current.memoizedState.isDehydrated&&(ln(t,e).flags|=256),t=po(t,e),t!==2&&(e=ot,ot=r,e!==null&&tc(e)),t}function tc(t){ot===null?ot=t:ot.push.apply(ot,t)}function rw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!It(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~cu,e&=~Wo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dt(e),n=1<<r;t[r]=-1,e&=~n}}function tf(t){if(le&6)throw Error(H(327));Gn();var e=Qa(t,0);if(!(e&1))return ht(t,Se()),null;var r=po(t,e);if(t.tag!==0&&r===2){var n=_d(t);n!==0&&(e=n,r=ec(t,n))}if(r===1)throw r=ki,ln(t,0),jr(t,e),ht(t,Se()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zr(t,ot,nr),ht(t,Se()),null}function hu(t,e){var r=le;le|=1;try{return t(e)}finally{le=r,le===0&&(is=Se()+500,$o&&qr())}}function xn(t){Sr!==null&&Sr.tag===0&&!(le&6)&&Gn();var e=le;le|=1;var r=Ct.transition,n=fe;try{if(Ct.transition=null,fe=1,t)return t()}finally{fe=n,Ct.transition=r,le=e,!(le&6)&&qr()}}function fu(){gt=Hn.current,ye(Hn)}function ln(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Av(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(Kc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ro();break;case 3:ns(),ye(ct),ye(Ge),ru();break;case 5:tu(n);break;case 4:ns();break;case 13:ye(ve);break;case 19:ye(ve);break;case 10:Qc(n.type._context);break;case 22:case 23:fu()}r=r.return}if(Fe=t,Pe=t=Ir(t.current,null),$e=gt=e,Oe=0,ki=null,cu=Wo=pn=0,ot=Xs=null,nn!==null){for(e=0;e<nn.length;e++)if(r=nn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}nn=null}return t}function k0(t,e){do{var r=Pe;try{if(Gc(),Oa.current=ho,uo){for(var n=ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uo=!1}if(gn=0,Ie=Ae=ke=null,Ks=!1,bi=0,du.current=null,r===null||r.return===null){Oe=1,ki=e,Pe=null;break}e:{var i=t,a=r.return,l=r,d=e;if(e=$e,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Uh(a);if(g!==null){g.flags&=-257,Hh(g,a,l,i,e),g.mode&1&&$h(i,c,e),e=g,d=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(d),e.updateQueue=p}else m.add(d);break e}else{if(!(e&1)){$h(i,c,e),mu();break e}d=Error(H(426))}}else if(be&&l.mode&1){var x=Uh(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Hh(x,a,l,i,e),Yc(ss(d,l));break e}}i=d=ss(d,l),Oe!==4&&(Oe=2),Xs===null?Xs=[i]:Xs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=i0(i,d,e);Dh(i,y);break e;case 1:l=d;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Dr===null||!Dr.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=a0(i,l,e);Dh(i,k);break e}}i=i.return}while(i!==null)}S0(r)}catch(N){e=N,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function j0(){var t=fo.current;return fo.current=ho,t===null?ho:t}function mu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(pn&268435455)&&!(Wo&268435455)||jr(Fe,$e)}function po(t,e){var r=le;le|=2;var n=j0();(Fe!==t||$e!==e)&&(nr=null,ln(t,e));do try{nw();break}catch(s){k0(t,s)}while(!0);if(Gc(),le=r,fo.current=n,Pe!==null)throw Error(H(261));return Fe=null,$e=0,Oe}function nw(){for(;Pe!==null;)N0(Pe)}function sw(){for(;Pe!==null&&!Pb();)N0(Pe)}function N0(t){var e=C0(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?S0(t):Pe=e,du.current=null}function S0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Qv(r,e),r!==null){r.flags&=32767,Pe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Pe=null;return}}else if(r=Gv(r,e,gt),r!==null){Pe=r;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Oe===0&&(Oe=5)}function Zr(t,e,r){var n=fe,s=Ct.transition;try{Ct.transition=null,fe=1,iw(t,e,r,n)}finally{Ct.transition=s,fe=n}return null}function iw(t,e,r,n){do Gn();while(Sr!==null);if(le&6)throw Error(H(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(zb(t,i),t===Fe&&(Pe=Fe=null,$e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||da||(da=!0,E0(Ga,function(){return Gn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var a=fe;fe=1;var l=le;le|=4,du.current=null,Zv(t,r),b0(r,t),Sv(Ad),Ja=!!Td,Ad=Td=null,t.current=r,ew(r),Rb(),le=l,fe=a,Ct.transition=i}else t.current=r;if(da&&(da=!1,Sr=t,go=s),i=t.pendingLanes,i===0&&(Dr=null),Ob(r.stateNode),ht(t,Se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mo)throw mo=!1,t=Jd,Jd=null,t;return go&1&&t.tag!==0&&Gn(),i=t.pendingLanes,i&1?t===Zd?Gs++:(Gs=0,Zd=t):Gs=0,qr(),null}function Gn(){if(Sr!==null){var t=ip(go),e=Ct.transition,r=fe;try{if(Ct.transition=null,fe=16>t?16:t,Sr===null)var n=!1;else{if(t=Sr,Sr=null,go=0,le&6)throw Error(H(331));var s=le;for(le|=4,K=t.current;K!==null;){var i=K,a=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(K=c;K!==null;){var u=K;switch(u.tag){case 0:case 11:case 15:Ys(8,u,i)}var h=u.child;if(h!==null)h.return=u,K=h;else for(;K!==null;){u=K;var f=u.sibling,g=u.return;if(p0(u),u===c){K=null;break}if(f!==null){f.return=g,K=f;break}K=g}}}var m=i.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}K=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,K=a;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ys(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,K=y;break e}K=i.return}}var v=t.current;for(K=v;K!==null;){a=K;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,K=b;else e:for(a=v;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vo(9,l)}}catch(N){Ne(l,l.return,N)}if(l===a){K=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,K=k;break e}K=l.return}}if(le=s,qr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Mo,t)}catch{}n=!0}return n}finally{fe=r,Ct.transition=e}}return!1}function rf(t,e,r){e=ss(r,e),e=i0(t,e,1),t=Lr(t,e,1),e=et(),t!==null&&(Mi(t,1,e),ht(t,e))}function Ne(t,e,r){if(t.tag===3)rf(t,t,r);else for(;e!==null;){if(e.tag===3){rf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){t=ss(r,t),t=a0(e,t,1),e=Lr(e,t,1),t=et(),e!==null&&(Mi(e,1,t),ht(e,t));break}}e=e.return}}function aw(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&r,Fe===t&&($e&r)===r&&(Oe===4||Oe===3&&($e&130023424)===$e&&500>Se()-uu?ln(t,0):cu|=r),ht(t,e)}function _0(t,e){e===0&&(t.mode&1?(e=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):e=1);var r=et();t=mr(t,e),t!==null&&(Mi(t,e,r),ht(t,r))}function ow(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_0(t,r)}function lw(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),_0(t,r)}var C0;C0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)dt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dt=!1,Xv(t,e,r);dt=!!(t.flags&131072)}else dt=!1,be&&e.flags&1048576&&Tp(e,io,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Da(t,e),t=e.pendingProps;var s=es(e,Ge.current);Xn(e,r),s=su(null,e,n,t,s,r);var i=iu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(n)?(i=!0,no(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zc(e),s.updater=Ho,e.stateNode=s,s._reactInternals=e,$d(e,n,t,r),e=Vd(null,e,n,!0,i,r)):(e.tag=0,be&&i&&qc(e),Ze(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Da(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=cw(n),t=At(n,t),s){case 0:e=Hd(null,e,n,t,r);break e;case 1:e=qh(null,e,n,t,r);break e;case 11:e=Vh(null,e,n,t,r);break e;case 14:e=Wh(null,e,n,At(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),Hd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),qh(t,e,n,s,r);case 3:e:{if(c0(e),t===null)throw Error(H(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Ip(t,e),lo(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ss(Error(H(423)),e),e=Kh(t,e,n,r,s);break e}else if(n!==s){s=ss(Error(H(424)),e),e=Kh(t,e,n,r,s);break e}else for(xt=Or(e.stateNode.containerInfo.firstChild),yt=e,be=!0,Lt=null,r=Dp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ts(),n===s){e=gr(t,e,r);break e}Ze(t,e,n,r)}e=e.child}return e;case 5:return Fp(e),t===null&&Fd(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Od(n,s)?a=null:i!==null&&Od(n,i)&&(e.flags|=32),d0(t,e),Ze(t,e,a,r),e.child;case 6:return t===null&&Fd(e),null;case 13:return u0(t,e,r);case 4:return eu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rs(e,null,n,r):Ze(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),Vh(t,e,n,s,r);case 7:return Ze(t,e,e.pendingProps,r),e.child;case 8:return Ze(t,e,e.pendingProps.children,r),e.child;case 12:return Ze(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ge(ao,n._currentValue),n._currentValue=a,i!==null)if(It(i.value,a)){if(i.children===s.children&&!ct.current){e=gr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=ur(-1,r&-r),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),zd(i.return,r,e),l.lanes|=r;break}d=d.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),zd(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ze(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Xn(e,r),s=Et(s),n=n(s),e.flags|=1,Ze(t,e,n,r),e.child;case 14:return n=e.type,s=At(n,e.pendingProps),s=At(n.type,s),Wh(t,e,n,s,r);case 15:return o0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),Da(t,e),e.tag=1,ut(n)?(t=!0,no(e)):t=!1,Xn(e,r),s0(e,n,s),$d(e,n,s,r),Vd(null,e,n,!0,t,r);case 19:return h0(t,e,r);case 22:return l0(t,e,r)}throw Error(H(156,e.tag))};function E0(t,e){return tp(t,e)}function dw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,r,n){return new dw(t,e,r,n)}function gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cw(t){if(typeof t=="function")return gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lc)return 11;if(t===Dc)return 14}return 2}function Ir(t,e){var r=t.alternate;return r===null?(r=St(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fa(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")gu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case On:return dn(r.children,s,i,e);case Oc:a=8,s|=8;break;case ud:return t=St(12,r,e,s|2),t.elementType=ud,t.lanes=i,t;case hd:return t=St(13,r,e,s),t.elementType=hd,t.lanes=i,t;case fd:return t=St(19,r,e,s),t.elementType=fd,t.lanes=i,t;case Fg:return qo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mg:a=10;break e;case Ig:a=9;break e;case Lc:a=11;break e;case Dc:a=14;break e;case vr:a=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=St(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function dn(t,e,r,n){return t=St(7,t,n,e),t.lanes=r,t}function qo(t,e,r,n){return t=St(22,t,n,e),t.elementType=Fg,t.lanes=r,t.stateNode={isHidden:!1},t}function Bl(t,e,r){return t=St(6,t,null,e),t.lanes=r,t}function $l(t,e,r){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uw(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pu(t,e,r,n,s,i,a,l,d){return t=new uw(t,e,r,l,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(i),t}function hw(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function P0(t){if(!t)return $r;t=t._reactInternals;e:{if(jn(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(ut(r))return Pp(t,r,e)}return e}function R0(t,e,r,n,s,i,a,l,d){return t=pu(r,n,!0,t,s,i,a,l,d),t.context=P0(null),r=t.current,n=et(),s=Mr(r),i=ur(n,s),i.callback=e??null,Lr(r,i,s),t.current.lanes=s,Mi(t,s,n),ht(t,n),t}function Ko(t,e,r,n){var s=e.current,i=et(),a=Mr(s);return r=P0(r),e.context===null?e.context=r:e.pendingContext=r,e=ur(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Lr(s,e,a),t!==null&&(Mt(t,s,a,i),Aa(t,s,a)),a}function xo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xu(t,e){nf(t,e),(t=t.alternate)&&nf(t,e)}function fw(){return null}var T0=typeof reportError=="function"?reportError:function(t){console.error(t)};function yu(t){this._internalRoot=t}Yo.prototype.render=yu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Ko(t,e,null,null)};Yo.prototype.unmount=yu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xn(function(){Ko(null,t,null,null)}),e[fr]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var e=lp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<kr.length&&e!==0&&e<kr[r].priority;r++);kr.splice(r,0,t),r===0&&cp(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sf(){}function mw(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=xo(a);i.call(c)}}var a=R0(e,n,t,0,null,!1,!1,"",sf);return t._reactRootContainer=a,t[fr]=a.current,mi(t.nodeType===8?t.parentNode:t),xn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=xo(d);l.call(c)}}var d=pu(t,0,!1,null,null,!1,!1,"",sf);return t._reactRootContainer=d,t[fr]=d.current,mi(t.nodeType===8?t.parentNode:t),xn(function(){Ko(e,d,r,n)}),d}function Go(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var d=xo(a);l.call(d)}}Ko(e,a,t,s)}else a=mw(r,e,t,s,n);return xo(a)}ap=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ms(e.pendingLanes);r!==0&&(Fc(e,r|1),ht(e,Se()),!(le&6)&&(is=Se()+500,qr()))}break;case 13:xn(function(){var n=mr(t,1);if(n!==null){var s=et();Mt(n,t,1,s)}}),xu(t,1)}};zc=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var r=et();Mt(e,t,134217728,r)}xu(t,134217728)}};op=function(t){if(t.tag===13){var e=Mr(t),r=mr(t,e);if(r!==null){var n=et();Mt(r,t,e,n)}xu(t,e)}};lp=function(){return fe};dp=function(t,e){var r=fe;try{return fe=t,e()}finally{fe=r}};jd=function(t,e,r){switch(e){case"input":if(pd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Bo(n);if(!s)throw Error(H(90));Bg(n),pd(n,s)}}}break;case"textarea":Ug(t,r);break;case"select":e=r.value,e!=null&&Wn(t,!!r.multiple,e,!1)}};Xg=hu;Gg=xn;var gw={usingClientEntryPoint:!1,Events:[Fi,In,Bo,Kg,Yg,hu]},_s={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pw={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zg(t),t===null?null:t.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||fw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Mo=ca.inject(pw),Xt=ca}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gw;vt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(H(200));return hw(t,e,null,r)};vt.createRoot=function(t,e){if(!bu(t))throw Error(H(299));var r=!1,n="",s=T0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pu(t,1,!1,null,null,r,!1,n,s),t[fr]=e.current,mi(t.nodeType===8?t.parentNode:t),new yu(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Zg(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return xn(t)};vt.hydrate=function(t,e,r){if(!Xo(e))throw Error(H(200));return Go(null,t,e,!0,r)};vt.hydrateRoot=function(t,e,r){if(!bu(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=T0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=R0(e,null,t,1,r??null,s,!1,i,a),t[fr]=e.current,mi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Yo(e)};vt.render=function(t,e,r){if(!Xo(e))throw Error(H(200));return Go(null,t,e,!1,r)};vt.unmountComponentAtNode=function(t){if(!Xo(t))throw Error(H(40));return t._reactRootContainer?(xn(function(){Go(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};vt.unstable_batchedUpdates=hu;vt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Xo(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Go(t,e,r,!1,n)};vt.version="18.3.1-next-f1338f8080-20240426";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(t){console.error(t)}}A0(),Ag.exports=vt;var xw=Ag.exports,O0,af=xw;O0=af.createRoot,af.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ji.apply(this,arguments)}var _r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_r||(_r={}));const of="popstate";function yw(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return rc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yo(s)}return vw(e,r,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bw(){return Math.random().toString(36).substr(2,8)}function lf(t,e){return{usr:t.state,key:t.key,idx:e}}function rc(t,e,r,n){return r===void 0&&(r=null),ji({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ms(e):e,{state:r,key:e&&e.key||n||bw()})}function yo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ms(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vw(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=_r.Pop,d=null,c=u();c==null&&(c=0,a.replaceState(ji({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){l=_r.Pop;let x=u(),y=x==null?null:x-c;c=x,d&&d({action:l,location:p.location,delta:y})}function f(x,y){l=_r.Push;let v=rc(p.location,x,y);c=u()+1;let b=lf(v,c),k=p.createHref(v);try{a.pushState(b,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(k)}i&&d&&d({action:l,location:p.location,delta:1})}function g(x,y){l=_r.Replace;let v=rc(p.location,x,y);c=u();let b=lf(v,c),k=p.createHref(v);a.replaceState(b,"",k),i&&d&&d({action:l,location:p.location,delta:0})}function m(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:yo(x);return v=v.replace(/ $/,"%20"),Ce(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return l},get location(){return t(s,a)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(of,h),d=x,()=>{s.removeEventListener(of,h),d=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let y=m(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(x){return a.go(x)}};return p}var df;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(df||(df={}));function ww(t,e,r){return r===void 0&&(r="/"),kw(t,e,r)}function kw(t,e,r,n){let s=typeof e=="string"?ms(e):e,i=wu(s.pathname||"/",r);if(i==null)return null;let a=L0(t);jw(a);let l=null;for(let d=0;l==null&&d<a.length;++d){let c=Dw(i);l=Aw(a[d],c)}return l}function L0(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(Ce(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let c=Fr([n,d.relativePath]),u=r.concat(d);i.children&&i.children.length>0&&(Ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),L0(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Rw(c,i.index),routesMeta:u})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let d of D0(i.path))s(i,a,d)}),e}function D0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=D0(n.join("/")),l=[];return l.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...a),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function jw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Tw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Nw=/^:[\w-]+$/,Sw=3,_w=2,Cw=1,Ew=10,Pw=-2,cf=t=>t==="*";function Rw(t,e){let r=t.split("/"),n=r.length;return r.some(cf)&&(n+=Pw),e&&(n+=_w),r.filter(s=>!cf(s)).reduce((s,i)=>s+(Nw.test(i)?Sw:i===""?Cw:Ew),n)}function Tw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Aw(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let d=n[l],c=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Ow({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),f=d.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Fr([i,h.pathname]),pathnameBase:Bw(Fr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Fr([i,h.pathnameBase]))}return a}function Ow(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Lw(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let p=l[h]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function Lw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),vu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Dw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iw=t=>Mw.test(t);function Fw(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ms(t):t,i;if(r)if(Iw(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),vu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=uf(r.substring(1),"/"):i=uf(r,e)}else i=e;return{pathname:i,search:$w(n),hash:Uw(s)}}function uf(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ul(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ku(t,e){let r=zw(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ju(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ms(t):(s=ji({},t),Ce(!s.pathname||!s.pathname.includes("?"),Ul("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),Ul("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),Ul("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let d=Fw(s,l),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),Bw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$w=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Uw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M0=["post","put","patch","delete"];new Set(M0);const Vw=["get",...M0];new Set(Vw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ni.apply(this,arguments)}const Nu=S.createContext(null),Ww=S.createContext(null),Kr=S.createContext(null),Qo=S.createContext(null),xr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),I0=S.createContext(null);function qw(t,e){let{relative:r}=e===void 0?{}:e;gs()||Ce(!1);let{basename:n,navigator:s}=S.useContext(Kr),{hash:i,pathname:a,search:l}=z0(t,{relative:r}),d=a;return n!=="/"&&(d=a==="/"?n:Fr([n,a])),s.createHref({pathname:d,search:l,hash:i})}function gs(){return S.useContext(Qo)!=null}function Nn(){return gs()||Ce(!1),S.useContext(Qo).location}function F0(t){S.useContext(Kr).static||S.useLayoutEffect(t)}function nt(){let{isDataRoute:t}=S.useContext(xr);return t?ak():Kw()}function Kw(){gs()||Ce(!1);let t=S.useContext(Nu),{basename:e,future:r,navigator:n}=S.useContext(Kr),{matches:s}=S.useContext(xr),{pathname:i}=Nn(),a=JSON.stringify(ku(s,r.v7_relativeSplatPath)),l=S.useRef(!1);return F0(()=>{l.current=!0}),S.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=ju(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Fr([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,i,t])}function Yw(){let{matches:t}=S.useContext(xr),e=t[t.length-1];return e?e.params:{}}function z0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(Kr),{matches:s}=S.useContext(xr),{pathname:i}=Nn(),a=JSON.stringify(ku(s,n.v7_relativeSplatPath));return S.useMemo(()=>ju(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Xw(t,e){return Gw(t,e)}function Gw(t,e,r,n){gs()||Ce(!1);let{navigator:s}=S.useContext(Kr),{matches:i}=S.useContext(xr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let c=Nn(),u;if(e){var h;let x=typeof e=="string"?ms(e):e;d==="/"||(h=x.pathname)!=null&&h.startsWith(d)||Ce(!1),u=x}else u=c;let f=u.pathname||"/",g=f;if(d!=="/"){let x=d.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=ww(t,{pathname:g}),p=tk(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Fr([d,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Fr([d,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&p?S.createElement(Qo.Provider,{value:{location:Ni({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_r.Pop}},p):p}function Qw(){let t=ik(),e=Hw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,null)}const Jw=S.createElement(Qw,null);class Zw extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(xr.Provider,{value:this.props.routeContext},S.createElement(I0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ek(t){let{routeContext:e,match:r,children:n}=t,s=S.useContext(Nu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(xr.Provider,{value:e},n)}function tk(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ce(!1),a=a.slice(0,Math.min(a.length,u+1))}let d=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){d=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,f)=>{let g,m=!1,p=null,x=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Jw,d&&(c<0&&f===0?(ok("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),v=()=>{let b;return g?b=p:m?b=x:h.route.Component?b=S.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,S.createElement(ek,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(Zw,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var B0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B0||{}),$0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($0||{});function rk(t){let e=S.useContext(Nu);return e||Ce(!1),e}function nk(t){let e=S.useContext(Ww);return e||Ce(!1),e}function sk(t){let e=S.useContext(xr);return e||Ce(!1),e}function U0(t){let e=sk(),r=e.matches[e.matches.length-1];return r.route.id||Ce(!1),r.route.id}function ik(){var t;let e=S.useContext(I0),r=nk(),n=U0();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ak(){let{router:t}=rk(B0.UseNavigateStable),e=U0($0.UseNavigateStable),r=S.useRef(!1);return F0(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ni({fromRouteId:e},i)))},[t,e])}const hf={};function ok(t,e,r){hf[t]||(hf[t]=!0)}function lk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dk(t){let{to:e,replace:r,state:n,relative:s}=t;gs()||Ce(!1);let{future:i,static:a}=S.useContext(Kr),{matches:l}=S.useContext(xr),{pathname:d}=Nn(),c=nt(),u=ju(e,ku(l,i.v7_relativeSplatPath),d,s==="path"),h=JSON.stringify(u);return S.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Me(t){Ce(!1)}function ck(t){let{basename:e="/",children:r=null,location:n,navigationType:s=_r.Pop,navigator:i,static:a=!1,future:l}=t;gs()&&Ce(!1);let d=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:d,navigator:i,static:a,future:Ni({v7_relativeSplatPath:!1},l)}),[d,l,i,a]);typeof n=="string"&&(n=ms(n));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:m="default"}=n,p=S.useMemo(()=>{let x=wu(u,d);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:m},navigationType:s}},[d,u,h,f,g,m,s]);return p==null?null:S.createElement(Kr.Provider,{value:c},S.createElement(Qo.Provider,{children:r,value:p}))}function uk(t){let{children:e,location:r}=t;return Xw(nc(e),r)}new Promise(()=>{});function nc(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){r.push.apply(r,nc(n.props.children,i));return}n.type!==Me&&Ce(!1),!n.props.index||!n.props.children||Ce(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=nc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sc.apply(this,arguments)}function hk(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function fk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mk(t,e){return t.button===0&&(!e||e==="_self")&&!fk(t)}function ic(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function gk(t,e){let r=ic(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const pk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xk="6";try{window.__reactRouterVersion=xk}catch{}const yk="startTransition",ff=ab[yk];function bk(t){let{basename:e,children:r,future:n,window:s}=t,i=S.useRef();i.current==null&&(i.current=yw({window:s,v5Compat:!0}));let a=i.current,[l,d]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=S.useCallback(h=>{c&&ff?ff(()=>d(h)):d(h)},[d,c]);return S.useLayoutEffect(()=>a.listen(u),[a,u]),S.useEffect(()=>lk(n),[n]),S.createElement(ck,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const vk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mf=S.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:d,to:c,preventScrollReset:u,viewTransition:h}=e,f=hk(e,pk),{basename:g}=S.useContext(Kr),m,p=!1;if(typeof c=="string"&&wk.test(c)&&(m=c,vk))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=wu(k.pathname,g);k.origin===b.origin&&N!=null?c=N+k.search+k.hash:p=!0}catch{}let x=qw(c,{relative:s}),y=kk(c,{replace:a,state:l,target:d,preventScrollReset:u,relative:s,viewTransition:h});function v(b){n&&n(b),b.defaultPrevented||y(b)}return S.createElement("a",sc({},f,{href:m||x,onClick:p||i?n:v,ref:r,target:d}))});var gf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gf||(gf={}));var pf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function kk(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,d=nt(),c=Nn(),u=z0(t,{relative:a});return S.useCallback(h=>{if(mk(h,r)){h.preventDefault();let f=n!==void 0?n:yo(c)===yo(u);d(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[c,d,u,n,s,r,t,i,a,l])}function H0(t){let e=S.useRef(ic(t)),r=S.useRef(!1),n=Nn(),s=S.useMemo(()=>gk(n.search,r.current?null:e.current),[n.search]),i=nt(),a=S.useCallback((l,d)=>{const c=ic(typeof l=="function"?l(s):l);r.current=!0,i("?"+c,d)},[i,s]);return[s,a]}const Z=t=>typeof t=="string",Cs=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},xf=t=>t==null?"":""+t,jk=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Nk=/###/g,yf=t=>t&&t.indexOf("###")>-1?t.replace(Nk,"."):t,bf=t=>!t||Z(t),Qs=(t,e,r)=>{const n=Z(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(bf(t))return{};const i=yf(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return bf(t)?{}:{obj:t,k:yf(n[s])}},vf=(t,e,r)=>{const{obj:n,k:s}=Qs(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],a=e.slice(0,e.length-1),l=Qs(t,a,Object);for(;l.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),l=Qs(t,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},Sk=(t,e,r,n)=>{const{obj:s,k:i}=Qs(t,e,Object);s[i]=s[i]||[],s[i].push(r)},bo=(t,e)=>{const{obj:r,k:n}=Qs(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},_k=(t,e,r)=>{const n=bo(t,r);return n!==void 0?n:bo(e,r)},V0=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Z(t[n])||t[n]instanceof String||Z(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):V0(t[n],e[n],r):t[n]=e[n]);return t},Cn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ck={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ek=t=>Z(t)?t.replace(/[&<>"'\/]/g,e=>Ck[e]):t;class Pk{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Rk=[" ",",","?","!",";"],Tk=new Pk(20),Ak=(t,e,r)=>{e=e||"",r=r||"";const n=Rk.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=Tk.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},ac=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,l="";for(let d=i;d<n.length;++d)if(d!==i&&(l+=r),l+=n[d],a=s[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&d<n.length-1)continue;i+=d-i+1;break}s=a}return s},Si=t=>t==null?void 0:t.replace("_","-"),Ok={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class vo{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||Ok,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(Z(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new vo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vo(this.logger,e)}}var Yt=new vo;class Jo{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...r])})}}class wf extends Jo{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){var c,u;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):Z(n)&&i?l.push(...n.split(i)):l.push(n)));const d=bo(this.data,l);return!d&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),d||!a||!Z(n)?d:ac((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[r],n,i)}addResource(e,r,n,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(l=e.split("."),s=r,r=l[1]),this.addNamespaces(r),vf(this.data,l,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const i in n)(Z(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i,a={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let d=bo(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?V0(d,n,i):d={...d,...n},vf(this.data,l,d),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var W0={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,r,n,s))??e}),e}};const q0=Symbol("i18next/PATH_KEY");function Lk(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),s===q0?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function oc(t,e){const{[q0]:r}=t(Lk());return r.join((e==null?void 0:e.keySeparator)??".")}const kf={},Hl=t=>!Z(t)&&typeof t!="boolean"&&typeof t!="number";class wo extends Jo{constructor(e,r={}){super(),jk(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if((s==null?void 0:s.res)===void 0)return!1;const i=Hl(s.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Ak(e,n,s);if(a&&!l){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Z(i)?[i]:i};const c=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(s)}return{key:e,namespaces:Z(i)?[i]:i}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=oc(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:d}=this.extractFromKey(e[e.length-1],s),c=d[d.length-1];let u=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return f?i?{res:`${c}${u}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${u}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:l;const g=this.resolve(e,s);let m=g==null?void 0:g.res;const p=(g==null?void 0:g.usedKey)||l,x=(g==null?void 0:g.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],v=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,k=s.count!==void 0&&!Z(s.count),N=wo.hasDefaultValue(s),j=k?this.pluralResolver.getSuffix(h,s.count,s):"",w=s.ordinal&&k?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",_=k&&!s.ordinal&&s.count===0,E=_&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${j}`]||s[`defaultValue${w}`]||s.defaultValue;let C=m;b&&!m&&N&&(C=E);const T=Hl(C),A=Object.prototype.toString.apply(C);if(b&&C&&T&&y.indexOf(A)<0&&!(Z(v)&&Array.isArray(C))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,C,{...s,ns:d}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(g.res=I,g.usedParams=this.getUsedParamsDetails(s),g):I}if(a){const I=Array.isArray(C),D=I?[]:{},V=I?x:p;for(const L in C)if(Object.prototype.hasOwnProperty.call(C,L)){const W=`${V}${a}${L}`;N&&!m?D[L]=this.translate(W,{...s,defaultValue:Hl(E)?E[L]:void 0,joinArrays:!1,ns:d}):D[L]=this.translate(W,{...s,joinArrays:!1,ns:d}),D[L]===W&&(D[L]=C[L])}m=D}}else if(b&&Z(v)&&Array.isArray(m))m=m.join(v),m&&(m=this.extendTranslation(m,e,s,n));else{let I=!1,D=!1;!this.isValidLookup(m)&&N&&(I=!0,m=E),this.isValidLookup(m)||(D=!0,m=l);const L=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:m,W=N&&E!==m&&this.options.updateMissing;if(D||I||W){if(this.logger.log(W?"updateKey":"missingKey",h,c,l,W?E:m),a){const B=this.resolve(l,{...s,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let B=0;B<U.length;B++)M.push(U[B]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(s.lng||this.language):M.push(s.lng||this.language);const R=(B,F,X)=>{var ie;const Q=N&&X!==m?X:L;this.options.missingKeyHandler?this.options.missingKeyHandler(B,c,F,Q,W,s):(ie=this.backendConnector)!=null&&ie.saveMissing&&this.backendConnector.saveMissing(B,c,F,Q,W,s),this.emit("missingKey",B,c,F,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?M.forEach(B=>{const F=this.pluralResolver.getSuffixes(B,s);_&&s[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(X=>{R([B],l+X,s[`defaultValue${X}`]||E)})}):R(M,l,E))}m=this.extendTranslation(m,e,s,g,n),D&&m===l&&this.options.appendNamespaceToMissingKey&&(m=`${c}${u}${l}`),(D||I)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${l}`:l,I?m:void 0,s))}return i?(g.res=m,g.usedParams=this.getUsedParamsDetails(s),g):m}extendTranslation(e,r,n,s,i){var d,c;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Z(e)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let f=n.replace&&!Z(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||s.usedLng,n),u){const g=e.match(this.interpolator.nestingRegexp),m=g&&g.length;h<m&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>(i==null?void 0:i[0])===g[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):this.translate(...g,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=Z(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=W0.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,i,a,l;return Z(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(d,r),u=c.key;s=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=r.count!==void 0&&!Z(r.count),g=f&&!r.ordinal&&r.count===0,m=r.context!==void 0&&(Z(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(x=>{var y,v;this.isValidLookup(n)||(l=x,!kf[`${p[0]}-${x}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(l))&&(kf[`${p[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(b=>{var j;if(this.isValidLookup(n))return;a=b;const k=[u];if((j=this.i18nFormat)!=null&&j.addLookupKeys)this.i18nFormat.addLookupKeys(k,u,b,x,r);else{let w;f&&(w=this.pluralResolver.getSuffix(b,r.count,r));const _=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(r.ordinal&&w.indexOf(E)===0&&k.push(u+w.replace(E,this.options.pluralSeparator)),k.push(u+w),g&&k.push(u+_)),m){const C=`${u}${this.options.contextSeparator||"_"}${r.context}`;k.push(C),f&&(r.ordinal&&w.indexOf(E)===0&&k.push(C+w.replace(E,this.options.pluralSeparator)),k.push(C+w),g&&k.push(C+_))}}let N;for(;N=k.pop();)this.isValidLookup(n)||(i=N,n=this.getResource(b,x,N,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Z(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class jf{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yt.create("languageUtils")}getScriptPartFromCode(e){if(e=Si(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Si(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Z(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Z(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Z(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Z(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const Nf={zero:0,one:1,two:2,few:3,many:4,other:5},Sf={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Dk{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Yt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=Si(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Sf;if(!e.match(/-|_/))return Sf;const d=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(d,r)}return this.pluralRulesCache[i]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>Nf[s]-Nf[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const _f=(t,e,r,n=".",s=!0)=>{let i=_k(t,e,r);return!i&&s&&Z(r)&&(i=ac(t,r,n),i===void 0&&(i=ac(e,r,n))),i},Vl=t=>t.replace(/\$/g,"$$$$");class Cf{constructor(e={}){var r;this.logger=Yt.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:l,suffixEscaped:d,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:m,nestingSuffixEscaped:p,nestingOptionsSeparator:x,maxReplaces:y,alwaysFormat:v}=e.interpolation;this.escape=r!==void 0?r:Ek,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Cn(i):a||"{{",this.suffix=l?Cn(l):d||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?Cn(f):g||Cn("$t("),this.nestingSuffix=m?Cn(m):p||Cn(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){var g;let i,a,l;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const v=_f(r,d,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,n,{...s,...r,interpolationkey:m}):v}const p=m.split(this.formatSeparator),x=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(_f(r,d,x,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...s,...r,interpolationkey:x})};this.resetRegExp();const u=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((g=s==null?void 0:s.interpolation)==null?void 0:g.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Vl(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Vl(this.escape(m)):Vl(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const p=i[1].trim();if(a=c(p),a===void 0)if(typeof u=="function"){const y=u(e,i,s);a=Z(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,p))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),a="";else!Z(a)&&!this.useRawValueToEscape&&(a=xf(a));const x=m.safeValue(a);if(e=e.replace(i[0],x),h?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,i,a;const l=(d,c)=>{const u=this.nestingOptionsSeparator;if(d.indexOf(u)<0)return d;const h=d.split(new RegExp(`${u}[ ]*{`));let f=`{${h[1]}`;d=h[0],f=this.interpolate(f,a);const g=f.match(/'/g),m=f.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),c&&(a={...c,...a})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,p),`${d}${u}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];a={...n},a=a.replace&&!Z(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(c!==-1&&(d=s[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),s[1]=s[1].slice(0,c)),i=r(l.call(this,s[1].trim(),a),a),i&&s[0]===e&&!Z(i))return i;Z(i)||(i=xf(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),d.length&&(i=d.reduce((u,h)=>this.format(u,h,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const Mk=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[l,...d]=a.split(":"),c=d.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();r[u]||(r[u]=c),c==="false"&&(r[u]=!1),c==="true"&&(r[u]=!0),isNaN(c)||(r[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},Ef=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=n+JSON.stringify(i);let l=e[a];return l||(l=t(Si(n),s),e[a]=l),l(r)}},Ik=t=>(e,r,n)=>t(Si(r),n)(e);class Fk{constructor(e={}){this.logger=Yt.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Ef:Ik;this.formats={number:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return l=>a.format(l)}),currency:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return l=>a.format(l)}),datetime:n((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return l=>a.format(l)}),relativetime:n((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return l=>a.format(l,i.range||"day")}),list:n((s,i)=>{const a=new Intl.ListFormat(s,{...i});return l=>a.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ef(r)}format(e,r,n,s={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,d)=>{var h;const{formatName:c,formatOptions:u}=Mk(d);if(this.formats[c]){let f=l;try{const g=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},m=g.locale||g.lng||s.locale||s.lng||n;f=this.formats[c](l,m,{...u,...s,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${c}`);return l},e)}}const zk=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Bk extends Jo{constructor(e,r,n,s={}){var i,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Yt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,s.backend,s)}queueLoad(e,r,n,s){const i={},a={},l={},d={};return e.forEach(c=>{let u=!0;r.forEach(h=>{const f=`${c}|${h}`;!n.reload&&this.store.hasResourceBundle(c,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,u=!1,a[f]===void 0&&(a[f]=!0),i[f]===void 0&&(i[f]=!0),d[h]===void 0&&(d[h]=!0)))}),u||(l[c]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(d)}}loaded(e,r,n){const s=e.split("|"),i=s[0],a=s[1];r&&this.emit("failedLoading",i,a,r),!r&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(d=>{Sk(d.loaded,[i],a),zk(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(c=>{l[c]||(l[c]={});const u=d.loaded[c];u.length&&u.forEach(h=>{l[c][h]===void 0&&(l[c][h]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(d=>!d.done)}read(e,r,n,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;const l=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,a)},i);return}a(c,u)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const c=d(e,r);c&&typeof c.then=="function"?c.then(u=>l(null,u)).catch(l):l(null,c)}catch(c){l(c)}return}return d(e,r,l)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Z(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Z(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,a),!a&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,l),this.loaded(e,a,l)})}saveMissing(e,r,n,s,i,a={},l=()=>{}){var d,c,u,h,f;if((c=(d=this.services)==null?void 0:d.utils)!=null&&c.hasLoadedNamespace&&!((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){const g={...a,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let p;m.length===5?p=m(e,r,n,s,g):p=m(e,r,n,s),p&&typeof p.then=="function"?p.then(x=>l(null,x)).catch(l):l(null,p)}catch(p){l(p)}else m(e,r,n,s,l,g)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Pf=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Z(t[1])&&(e.defaultValue=t[1]),Z(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Rf=t=>{var e,r;return Z(t.ns)&&(t.ns=[t.ns]),Z(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Z(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},ua=()=>{},$k=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Js extends Jo{constructor(e={},r){if(super(),this.options=Rf(e),this.services={},this.logger=Yt,this.modules={external:[]},$k(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Z(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Pf();this.options={...n,...this.options,...Rf(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Yt.init(s(this.modules.logger),this.options):Yt.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Fk;const u=new jf(this.options);this.store=new wf(this.options.resources,this.options);const h=this.services;h.logger=Yt,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new Dk(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(c),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Cf(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Bk(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new wo(this.services,this.options),this.translator.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ua),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const l=Cs(),d=()=>{const c=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(u,h)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),l}loadResources(e,r=ua){var i,a;let n=r;const s=Z(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],d=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>d(u)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,c=>d(c)),this.services.backendConnector.load(l,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,r,n){const s=Cs();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=ua),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&W0.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=Cs();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,d)=>{d?this.isLanguageChangingTo===e&&(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),r&&r(l,(...c)=>this.t(...c))},a=l=>{var u,h;!e&&!l&&this.services.languageDetector&&(l=[]);const d=Z(l)?l:l&&l[0],c=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Z(l)?[l]:l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),(h=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||h.call(u,c)),this.loadResources(c,f=>{i(f,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const s=(i,a,...l)=>{let d;typeof a!="object"?d=this.options.overloadTranslationOptionHandler([i,a].concat(l)):d={...a},d.lng=d.lng||s.lng,d.lngs=d.lngs||s.lngs,d.ns=d.ns||s.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||s.keyPrefix);const c=this.options.keySeparator||".";let u;return d.keyPrefix&&Array.isArray(i)?u=i.map(h=>(typeof h=="function"&&(h=oc(h,{...this.options,...a})),`${d.keyPrefix}${c}${h}`)):(typeof i=="function"&&(i=oc(i,{...this.options,...a})),u=d.keyPrefix?`${d.keyPrefix}${c}${i}`:i),this.t(u,d)};return Z(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,d)=>{const c=this.services.backendConnector.state[`${l}|${d}`];return c===-1||c===0||c===2};if(r.precheck){const l=r.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,r){const n=Cs();return this.options.ns?(Z(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Cs();Z(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new jf(Pf());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Js(e,r);return n.createInstance=Js.createInstance,n}cloneInstance(e={},r=ua){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Js(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const l=Object.keys(this.store.data).reduce((d,c)=>(d[c]={...this.store.data[c]},d[c]=Object.keys(d[c]).reduce((u,h)=>(u[h]={...d[c][h]},u),d[c]),d),{});i.store=new wf(l,s),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new Cf(s)),i.translator=new wo(i.services,s),i.translator.on("*",(l,...d)=>{i.emit(l,...d)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const st=Js.createInstance();st.createInstance;st.dir;st.init;st.loadResources;st.reloadResources;st.use;st.changeLanguage;st.getFixedT;st.t;st.exists;st.setDefaultNamespace;st.hasLoadedNamespace;st.loadNamespaces;st.loadLanguages;const Uk=(t,e,r,n)=>{var i,a,l,d;const s=[r,{code:e,...n||{}}];if((a=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);yn(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(d=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&d.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Tf={},K0=(t,e,r,n)=>{yn(r)&&Tf[r]||(yn(r)&&(Tf[r]=new Date),Uk(t,e,r,n))},Y0=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},lc=(t,e,r)=>{t.loadNamespaces(e,Y0(t,r))},Af=(t,e,r,n)=>{if(yn(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return lc(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Y0(t,n))},Hk=(t,e,r={})=>!e.languages||!e.languages.length?(K0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),yn=t=>typeof t=="string",Vk=t=>typeof t=="object"&&t!==null,Wk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Kk=t=>qk[t],Yk=t=>t.replace(Wk,Kk);let dc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Yk};const Xk=(t={})=>{dc={...dc,...t}},Gk=()=>dc;let X0;const Qk=t=>{X0=t},Jk=()=>X0,Zk={type:"3rdParty",init(t){Xk(t.options.react),Qk(t)}},e1=S.createContext();class t1{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var G0={exports:{}},Q0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=S;function r1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var n1=typeof Object.is=="function"?Object.is:r1,s1=as.useState,i1=as.useEffect,a1=as.useLayoutEffect,o1=as.useDebugValue;function l1(t,e){var r=e(),n=s1({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return a1(function(){s.value=r,s.getSnapshot=e,Wl(s)&&i({inst:s})},[t,r,e]),i1(function(){return Wl(s)&&i({inst:s}),t(function(){Wl(s)&&i({inst:s})})},[t]),o1(r),r}function Wl(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!n1(t,r)}catch{return!0}}function d1(t,e){return e()}var c1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d1:l1;Q0.useSyncExternalStore=as.useSyncExternalStore!==void 0?as.useSyncExternalStore:c1;G0.exports=Q0;var u1=G0.exports;const h1=(t,e)=>yn(e)?e:Vk(e)&&yn(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,f1={t:h1,ready:!1},m1=()=>()=>{},Te=(t,e={})=>{var E,C,T;const{i18n:r}=e,{i18n:n,defaultNS:s}=S.useContext(e1)||{},i=r||n||Jk();i&&!i.reportNamespaces&&(i.reportNamespaces=new t1),i||K0(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=S.useMemo(()=>{var A;return{...Gk(),...(A=i==null?void 0:i.options)==null?void 0:A.react,...e}},[i,e]),{useSuspense:l,keyPrefix:d}=a,c=s||((E=i==null?void 0:i.options)==null?void 0:E.defaultNS),u=yn(c)?[c]:c||["translation"],h=S.useMemo(()=>u,u);(T=(C=i==null?void 0:i.reportNamespaces)==null?void 0:C.addUsedNamespaces)==null||T.call(C,h);const f=S.useRef(0),g=S.useCallback(A=>{if(!i)return m1;const{bindI18n:I,bindI18nStore:D}=a,V=()=>{f.current+=1,A()};return I&&i.on(I,V),D&&i.store.on(D,V),()=>{I&&I.split(" ").forEach(L=>i.off(L,V)),D&&D.split(" ").forEach(L=>i.store.off(L,V))}},[i,a]),m=S.useRef(),p=S.useCallback(()=>{if(!i)return f1;const A=!!(i.isInitialized||i.initializedStoreOnce)&&h.every(M=>Hk(M,i,a)),I=e.lng||i.language,D=f.current,V=m.current;if(V&&V.ready===A&&V.lng===I&&V.keyPrefix===d&&V.revision===D)return V;const W={t:i.getFixedT(I,a.nsMode==="fallback"?h:h[0],d),ready:A,lng:I,keyPrefix:d,revision:D};return m.current=W,W},[i,h,d,a,e.lng]),[x,y]=S.useState(0),{t:v,ready:b}=u1.useSyncExternalStore(g,p,p);S.useEffect(()=>{if(i&&!b&&!l){const A=()=>y(I=>I+1);e.lng?Af(i,e.lng,h,A):lc(i,h,A)}},[i,e.lng,h,b,l,x]);const k=i||{},N=S.useRef(null),j=S.useRef(),w=A=>{const I=Object.getOwnPropertyDescriptors(A);I.__original&&delete I.__original;const D=Object.create(Object.getPrototypeOf(A),I);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:A,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},_=S.useMemo(()=>{const A=k,I=A==null?void 0:A.language;let D=A;A&&(N.current&&N.current.__original===A?j.current!==I?(D=w(A),N.current=D,j.current=I):D=N.current:(D=w(A),N.current=D,j.current=I));const V=[v,D,b];return V.t=v,V.i18n=D,V.ready=b,V},[v,k,b,k.resolvedLanguage,k.language,k.languages]);if(i&&l&&!b)throw new Promise(A=>{const I=()=>A();e.lng?Af(i,e.lng,h,I):lc(i,h,I)});return _};function J0(t,e){return function(){return t.apply(e,arguments)}}const{toString:g1}=Object.prototype,{getPrototypeOf:Su}=Object,{iterator:Zo,toStringTag:Z0}=Symbol,el=(t=>e=>{const r=g1.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),zt=t=>(t=t.toLowerCase(),e=>el(e)===t),tl=t=>e=>typeof e===t,{isArray:ps}=Array,os=tl("undefined");function Bi(t){return t!==null&&!os(t)&&t.constructor!==null&&!os(t.constructor)&&ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ex=zt("ArrayBuffer");function p1(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ex(t.buffer),e}const x1=tl("string"),ft=tl("function"),tx=tl("number"),$i=t=>t!==null&&typeof t=="object",y1=t=>t===!0||t===!1,za=t=>{if(el(t)!=="object")return!1;const e=Su(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Z0 in t)&&!(Zo in t)},b1=t=>{if(!$i(t)||Bi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},v1=zt("Date"),w1=zt("File"),k1=zt("Blob"),j1=zt("FileList"),N1=t=>$i(t)&&ft(t.pipe),S1=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ft(t.append)&&((e=el(t))==="formdata"||e==="object"&&ft(t.toString)&&t.toString()==="[object FormData]"))},_1=zt("URLSearchParams"),[C1,E1,P1,R1]=["ReadableStream","Request","Response","Headers"].map(zt),T1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ui(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),ps(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Bi(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(n=0;n<a;n++)l=i[n],e.call(null,t[l],l,t)}}function rx(t,e){if(Bi(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const an=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nx=t=>!os(t)&&t!==an;function cc(){const{caseless:t,skipUndefined:e}=nx(this)&&this||{},r={},n=(s,i)=>{const a=t&&rx(r,i)||i;za(r[a])&&za(s)?r[a]=cc(r[a],s):za(s)?r[a]=cc({},s):ps(s)?r[a]=s.slice():(!e||!os(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ui(arguments[s],n);return r}const A1=(t,e,r,{allOwnKeys:n}={})=>(Ui(e,(s,i)=>{r&&ft(s)?t[i]=J0(s,r):t[i]=s},{allOwnKeys:n}),t),O1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),L1=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},D1=(t,e,r,n)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=r!==!1&&Su(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},M1=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},I1=t=>{if(!t)return null;if(ps(t))return t;let e=t.length;if(!tx(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},F1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Su(Uint8Array)),z1=(t,e)=>{const n=(t&&t[Zo]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},B1=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},$1=zt("HTMLFormElement"),U1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Of=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),H1=zt("RegExp"),sx=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ui(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},V1=t=>{sx(t,(e,r)=>{if(ft(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ft(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},W1=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return ps(t)?n(t):n(String(t).split(e)),r},q1=()=>{},K1=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Y1(t){return!!(t&&ft(t.append)&&t[Z0]==="FormData"&&t[Zo])}const X1=t=>{const e=new Array(10),r=(n,s)=>{if($i(n)){if(e.indexOf(n)>=0)return;if(Bi(n))return n;if(!("toJSON"in n)){e[s]=n;const i=ps(n)?[]:{};return Ui(n,(a,l)=>{const d=r(a,s+1);!os(d)&&(i[l]=d)}),e[s]=void 0,i}}return n};return r(t,0)},G1=zt("AsyncFunction"),Q1=t=>t&&($i(t)||ft(t))&&ft(t.then)&&ft(t.catch),ix=((t,e)=>t?setImmediate:e?((r,n)=>(an.addEventListener("message",({source:s,data:i})=>{s===an&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),an.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ft(an.postMessage)),J1=typeof queueMicrotask<"u"?queueMicrotask.bind(an):typeof process<"u"&&process.nextTick||ix,Z1=t=>t!=null&&ft(t[Zo]),O={isArray:ps,isArrayBuffer:ex,isBuffer:Bi,isFormData:S1,isArrayBufferView:p1,isString:x1,isNumber:tx,isBoolean:y1,isObject:$i,isPlainObject:za,isEmptyObject:b1,isReadableStream:C1,isRequest:E1,isResponse:P1,isHeaders:R1,isUndefined:os,isDate:v1,isFile:w1,isBlob:k1,isRegExp:H1,isFunction:ft,isStream:N1,isURLSearchParams:_1,isTypedArray:F1,isFileList:j1,forEach:Ui,merge:cc,extend:A1,trim:T1,stripBOM:O1,inherits:L1,toFlatObject:D1,kindOf:el,kindOfTest:zt,endsWith:M1,toArray:I1,forEachEntry:z1,matchAll:B1,isHTMLForm:$1,hasOwnProperty:Of,hasOwnProp:Of,reduceDescriptors:sx,freezeMethods:V1,toObjectSet:W1,toCamelCase:U1,noop:q1,toFiniteNumber:K1,findKey:rx,global:an,isContextDefined:nx,isSpecCompliantForm:Y1,toJSONObject:X1,isAsyncFn:G1,isThenable:Q1,setImmediate:ix,asap:J1,isIterable:Z1};function ee(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const ax=ee.prototype,ox={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ox[t]={value:t}});Object.defineProperties(ee,ox);Object.defineProperty(ax,"isAxiosError",{value:!0});ee.from=(t,e,r,n,s,i)=>{const a=Object.create(ax);O.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return ee.call(a,l,d,r,n,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const ej=null;function uc(t){return O.isPlainObject(t)||O.isArray(t)}function lx(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function Lf(t,e,r){return t?t.concat(e).map(function(s,i){return s=lx(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function tj(t){return O.isArray(t)&&!t.some(uc)}const rj=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function rl(t,e,r){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=O.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!O.isUndefined(x[p])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,a=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(O.isDate(m))return m.toISOString();if(O.isBoolean(m))return m.toString();if(!d&&O.isBlob(m))throw new ee("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(m)||O.isTypedArray(m)?d&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,x){let y=m;if(m&&!x&&typeof m=="object"){if(O.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(O.isArray(m)&&tj(m)||(O.isFileList(m)||O.endsWith(p,"[]"))&&(y=O.toArray(m)))return p=lx(p),y.forEach(function(b,k){!(O.isUndefined(b)||b===null)&&e.append(a===!0?Lf([p],k,i):a===null?p:p+"[]",c(b))}),!1}return uc(m)?!0:(e.append(Lf(x,p,i),c(m)),!1)}const h=[],f=Object.assign(rj,{defaultVisitor:u,convertValue:c,isVisitable:uc});function g(m,p){if(!O.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(m),O.forEach(m,function(y,v){(!(O.isUndefined(y)||y===null)&&s.call(e,y,O.isString(v)?v.trim():v,p,f))===!0&&g(y,p?p.concat(v):[v])}),h.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Df(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function _u(t,e){this._pairs=[],t&&rl(t,this,e)}const dx=_u.prototype;dx.append=function(e,r){this._pairs.push([e,r])};dx.toString=function(e){const r=e?function(n){return e.call(this,n,Df)}:Df;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function nj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cx(t,e,r){if(!e)return t;const n=r&&r.encode||nj;O.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=O.isURLSearchParams(e)?e.toString():new _u(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Mf{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ux={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sj=typeof URLSearchParams<"u"?URLSearchParams:_u,ij=typeof FormData<"u"?FormData:null,aj=typeof Blob<"u"?Blob:null,oj={isBrowser:!0,classes:{URLSearchParams:sj,FormData:ij,Blob:aj},protocols:["http","https","file","blob","url","data"]},Cu=typeof window<"u"&&typeof document<"u",hc=typeof navigator=="object"&&navigator||void 0,lj=Cu&&(!hc||["ReactNative","NativeScript","NS"].indexOf(hc.product)<0),dj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cj=Cu&&window.location.href||"http://localhost",uj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cu,hasStandardBrowserEnv:lj,hasStandardBrowserWebWorkerEnv:dj,navigator:hc,origin:cj},Symbol.toStringTag,{value:"Module"})),Ke={...uj,...oj};function hj(t,e){return rl(t,new Ke.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ke.isNode&&O.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function fj(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mj(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function hx(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=i>=r.length;return a=!a&&O.isArray(s)?s.length:a,d?(O.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!O.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&O.isArray(s[a])&&(s[a]=mj(s[a])),!l)}if(O.isFormData(t)&&O.isFunction(t.entries)){const r={};return O.forEachEntry(t,(n,s)=>{e(fj(n),s,r,0)}),r}return null}function gj(t,e,r){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Hi={transitional:ux,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=O.isObject(e);if(i&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return s?JSON.stringify(hx(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hj(e,this.formSerializer).toString();if((l=O.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return rl(l?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),gj(e)):e}],transformResponse:[function(e){const r=this.transitional||Hi.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ee.from(l,ee.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{Hi.headers[t]={}});const pj=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xj=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&pj[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},If=Symbol("internals");function Es(t){return t&&String(t).trim().toLowerCase()}function Ba(t){return t===!1||t==null?t:O.isArray(t)?t.map(Ba):String(t)}function yj(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const bj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ql(t,e,r,n,s){if(O.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!O.isString(e)){if(O.isString(n))return e.indexOf(n)!==-1;if(O.isRegExp(n))return n.test(e)}}function vj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function wj(t,e){const r=O.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let mt=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(l,d,c){const u=Es(d);if(!u)throw new Error("header name must be a non-empty string");const h=O.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||d]=Ba(l))}const a=(l,d)=>O.forEach(l,(c,u)=>i(c,u,d));if(O.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(O.isString(e)&&(e=e.trim())&&!bj(e))a(xj(e),r);else if(O.isObject(e)&&O.isIterable(e)){let l={},d,c;for(const u of e){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?O.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}a(l,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Es(e),e){const n=O.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return yj(s);if(O.isFunction(r))return r.call(this,s,n);if(O.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Es(e),e){const n=O.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ql(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=Es(a),a){const l=O.findKey(n,a);l&&(!r||ql(n,n[l],l,r))&&(delete n[l],s=!0)}}return O.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||ql(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return O.forEach(this,(s,i)=>{const a=O.findKey(n,i);if(a){r[a]=Ba(s),delete r[i];return}const l=e?vj(i):String(i).trim();l!==i&&delete r[i],r[l]=Ba(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return O.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&O.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[If]=this[If]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Es(a);n[l]||(wj(s,a),n[l]=!0)}return O.isArray(e)?e.forEach(i):i(e),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(mt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});O.freezeMethods(mt);function Kl(t,e){const r=this||Hi,n=e||r,s=mt.from(n.headers);let i=n.data;return O.forEach(t,function(l){i=l.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function fx(t){return!!(t&&t.__CANCEL__)}function xs(t,e,r){ee.call(this,t??"canceled",ee.ERR_CANCELED,e,r),this.name="CanceledError"}O.inherits(xs,ee,{__CANCEL__:!0});function mx(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ee("Request failed with status code "+r.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function kj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jj(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(d){const c=Date.now(),u=n[i];a||(a=c),r[s]=d,n[s]=c;let h=i,f=0;for(;h!==s;)f+=r[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-a<e)return;const g=u&&c-u;return g?Math.round(f*1e3/g):void 0}}function Nj(t,e){let r=0,n=1e3/e,s,i;const a=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?a(c,u):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},n-h)))},()=>s&&a(s)]}const ko=(t,e,r=3)=>{let n=0;const s=jj(50,250);return Nj(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,d=a-n,c=s(d),u=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-a)/c:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},r)},Ff=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},zf=t=>(...e)=>O.asap(()=>t(...e)),Sj=Ke.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ke.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,_j=Ke.hasStandardBrowserEnv?{write(t,e,r,n,s,i,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];O.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),O.isString(n)&&l.push(`path=${n}`),O.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),O.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Cj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ej(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gx(t,e,r){let n=!Cj(e);return t&&(n||r==!1)?Ej(t,e):e}const Bf=t=>t instanceof mt?{...t}:t;function bn(t,e){e=e||{};const r={};function n(c,u,h,f){return O.isPlainObject(c)&&O.isPlainObject(u)?O.merge.call({caseless:f},c,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function s(c,u,h,f){if(O.isUndefined(u)){if(!O.isUndefined(c))return n(void 0,c,h,f)}else return n(c,u,h,f)}function i(c,u){if(!O.isUndefined(u))return n(void 0,u)}function a(c,u){if(O.isUndefined(u)){if(!O.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,h){if(h in e)return n(c,u);if(h in t)return n(void 0,c)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,u,h)=>s(Bf(c),Bf(u),h,!0)};return O.forEach(Object.keys({...t,...e}),function(u){const h=d[u]||s,f=h(t[u],e[u],u);O.isUndefined(f)&&h!==l||(r[u]=f)}),r}const px=t=>{const e=bn({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=mt.from(a),e.url=cx(gx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),O.isFormData(r)){if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(O.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,h])=>{c.includes(u.toLowerCase())&&a.set(u,h)})}}if(Ke.hasStandardBrowserEnv&&(n&&O.isFunction(n)&&(n=n(e)),n||n!==!1&&Sj(e.url))){const d=s&&i&&_j.read(i);d&&a.set(s,d)}return e},Pj=typeof XMLHttpRequest<"u",Rj=Pj&&function(t){return new Promise(function(r,n){const s=px(t);let i=s.data;const a=mt.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,u,h,f,g,m;function p(){g&&g(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function y(){if(!x)return;const b=mt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:t,request:x};mx(function(w){r(w),p()},function(w){n(w),p()},N),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(n(new ee("Request aborted",ee.ECONNABORTED,t,x)),x=null)},x.onerror=function(k){const N=k&&k.message?k.message:"Network Error",j=new ee(N,ee.ERR_NETWORK,t,x);j.event=k||null,n(j),x=null},x.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||ux;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new ee(k,N.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,t,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&O.forEach(a.toJSON(),function(k,N){x.setRequestHeader(N,k)}),O.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),c&&([f,m]=ko(c,!0),x.addEventListener("progress",f)),d&&x.upload&&([h,g]=ko(d),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(u=b=>{x&&(n(!b||b.type?new xs(null,t,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const v=kj(s.url);if(v&&Ke.protocols.indexOf(v)===-1){n(new ee("Unsupported protocol "+v+":",ee.ERR_BAD_REQUEST,t));return}x.send(i||null)})},Tj=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof ee?u:new xs(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new ee(`timeout ${e} of ms exceeded`,ee.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>O.asap(l),d}},Aj=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},Oj=async function*(t,e){for await(const r of Lj(t))yield*Aj(r,e)},Lj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},$f=(t,e,r,n)=>{const s=Oj(t,e);let i=0,a,l=d=>{a||(a=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await s.next();if(c){l(),d.close();return}let h=u.byteLength;if(r){let f=i+=h;r(f)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},Uf=64*1024,{isFunction:ha}=O,Dj=(({Request:t,Response:e})=>({Request:t,Response:e}))(O.global),{ReadableStream:Hf,TextEncoder:Vf}=O.global,Wf=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Mj=t=>{t=O.merge.call({skipUndefined:!0},Dj,t);const{fetch:e,Request:r,Response:n}=t,s=e?ha(e):typeof fetch=="function",i=ha(r),a=ha(n);if(!s)return!1;const l=s&&ha(Hf),d=s&&(typeof Vf=="function"?(m=>p=>m.encode(p))(new Vf):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=i&&l&&Wf(()=>{let m=!1;const p=new r(Ke.origin,{body:new Hf,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),u=a&&l&&Wf(()=>O.isReadableStream(new n("").body)),h={stream:u&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(p,x)=>{let y=p&&p[m];if(y)return y.call(p);throw new ee(`Response type '${m}' is not supported`,ee.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(O.isBlob(m))return m.size;if(O.isSpecCompliantForm(m))return(await new r(Ke.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(O.isArrayBufferView(m)||O.isArrayBuffer(m))return m.byteLength;if(O.isURLSearchParams(m)&&(m=m+""),O.isString(m))return(await d(m)).byteLength},g=async(m,p)=>{const x=O.toFiniteNumber(m.getContentLength());return x??f(p)};return async m=>{let{url:p,method:x,data:y,signal:v,cancelToken:b,timeout:k,onDownloadProgress:N,onUploadProgress:j,responseType:w,headers:_,withCredentials:E="same-origin",fetchOptions:C}=px(m),T=e||fetch;w=w?(w+"").toLowerCase():"text";let A=Tj([v,b&&b.toAbortSignal()],k),I=null;const D=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let V;try{if(j&&c&&x!=="get"&&x!=="head"&&(V=await g(_,y))!==0){let B=new r(p,{method:"POST",body:y,duplex:"half"}),F;if(O.isFormData(y)&&(F=B.headers.get("content-type"))&&_.setContentType(F),B.body){const[X,Q]=Ff(V,ko(zf(j)));y=$f(B.body,Uf,X,Q)}}O.isString(E)||(E=E?"include":"omit");const L=i&&"credentials"in r.prototype,W={...C,signal:A,method:x.toUpperCase(),headers:_.normalize().toJSON(),body:y,duplex:"half",credentials:L?E:void 0};I=i&&new r(p,W);let M=await(i?T(I,C):T(p,W));const U=u&&(w==="stream"||w==="response");if(u&&(N||U&&D)){const B={};["status","statusText","headers"].forEach(ie=>{B[ie]=M[ie]});const F=O.toFiniteNumber(M.headers.get("content-length")),[X,Q]=N&&Ff(F,ko(zf(N),!0))||[];M=new n($f(M.body,Uf,X,()=>{Q&&Q(),D&&D()}),B)}w=w||"text";let R=await h[O.findKey(h,w)||"text"](M,m);return!U&&D&&D(),await new Promise((B,F)=>{mx(B,F,{data:R,headers:mt.from(M.headers),status:M.status,statusText:M.statusText,config:m,request:I})})}catch(L){throw D&&D(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,m,I),{cause:L.cause||L}):ee.from(L,L&&L.code,m,I)}}},Ij=new Map,xx=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let a=i.length,l=a,d,c,u=Ij;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:Mj(e)),u=c;return c};xx();const Eu={http:ej,xhr:Rj,fetch:{get:xx}};O.forEach(Eu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const qf=t=>`- ${t}`,Fj=t=>O.isFunction(t)||t===null||t===!1;function zj(t,e){t=O.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let a=0;a<r;a++){n=t[a];let l;if(s=n,!Fj(n)&&(s=Eu[(l=String(n)).toLowerCase()],s===void 0))throw new ee(`Unknown adapter '${l}'`);if(s&&(O.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(qf).join(`
`):" "+qf(a[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const yx={getAdapter:zj,adapters:Eu};function Yl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xs(null,t)}function Kf(t){return Yl(t),t.headers=mt.from(t.headers),t.data=Kl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yx.getAdapter(t.adapter||Hi.adapter,t)(t).then(function(n){return Yl(t),n.data=Kl.call(t,t.transformResponse,n),n.headers=mt.from(n.headers),n},function(n){return fx(n)||(Yl(t),n&&n.response&&(n.response.data=Kl.call(t,t.transformResponse,n.response),n.response.headers=mt.from(n.response.headers))),Promise.reject(n)})}const bx="1.13.2",nl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nl[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Yf={};nl.transitional=function(e,r,n){function s(i,a){return"[Axios v"+bx+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(e===!1)throw new ee(s(a," has been removed"+(r?" in "+r:"")),ee.ERR_DEPRECATED);return r&&!Yf[a]&&(Yf[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,l):!0}};nl.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Bj(t,e,r){if(typeof t!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const l=t[i],d=l===void 0||a(l,i,t);if(d!==!0)throw new ee("option "+i+" must be "+d,ee.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const $a={assertOptions:Bj,validators:nl},Ut=$a.validators;let cn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Mf,response:new Mf}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=bn(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&$a.assertOptions(n,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),s!=null&&(O.isFunction(s)?r.paramsSerializer={serialize:s}:$a.assertOptions(s,{encode:Ut.function,serialize:Ut.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$a.assertOptions(r,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&O.merge(i.common,i[r.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=mt.concat(a,i);const l=[];let d=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(d=d&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,h=0,f;if(!d){const m=[Kf.bind(this),void 0];for(m.unshift(...l),m.push(...c),f=m.length,u=Promise.resolve(r);h<f;)u=u.then(m[h++],m[h++]);return u}f=l.length;let g=r;for(;h<f;){const m=l[h++],p=l[h++];try{g=m(g)}catch(x){p.call(this,x);break}}try{u=Kf.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=bn(this.defaults,e);const r=gx(e.baseURL,e.url,e.allowAbsoluteUrls);return cx(r,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){cn.prototype[e]=function(r,n){return this.request(bn(n||{},{method:e,url:r,data:(n||{}).data}))}});O.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,l){return this.request(bn(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}cn.prototype[e]=r(),cn.prototype[e+"Form"]=r(!0)});let $j=class vx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,l){n.reason||(n.reason=new xs(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new vx(function(s){e=s}),cancel:e}}};function Uj(t){return function(r){return t.apply(null,r)}}function Hj(t){return O.isObject(t)&&t.isAxiosError===!0}const fc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fc).forEach(([t,e])=>{fc[e]=t});function wx(t){const e=new cn(t),r=J0(cn.prototype.request,e);return O.extend(r,cn.prototype,e,{allOwnKeys:!0}),O.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return wx(bn(t,s))},r}const Ee=wx(Hi);Ee.Axios=cn;Ee.CanceledError=xs;Ee.CancelToken=$j;Ee.isCancel=fx;Ee.VERSION=bx;Ee.toFormData=rl;Ee.AxiosError=ee;Ee.Cancel=Ee.CanceledError;Ee.all=function(e){return Promise.all(e)};Ee.spread=Uj;Ee.isAxiosError=Hj;Ee.mergeConfig=bn;Ee.AxiosHeaders=mt;Ee.formToJSON=t=>hx(O.isHTMLForm(t)?new FormData(t):t);Ee.getAdapter=yx.getAdapter;Ee.HttpStatusCode=fc;Ee.default=Ee;const{Axios:E3,AxiosError:P3,CanceledError:R3,isCancel:T3,CancelToken:A3,VERSION:O3,all:L3,Cancel:D3,isAxiosError:M3,spread:I3,toFormData:F3,AxiosHeaders:z3,HttpStatusCode:B3,formToJSON:$3,getAdapter:U3,mergeConfig:H3}=Ee,Vj="http://localhost:4001",$=Ee.create({baseURL:`${Vj}/api`,headers:{"Content-Type":"application/json"}});$.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t.data instanceof FormData&&delete t.headers["Content-Type"],t});$.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const Wj="/assets/logo-CzLCWcmk.jpg";function qj(){const{t}=Te(),e=nt(),[r,n]=S.useState("admin@saludlaboral.pe"),[s,i]=S.useState("Admin123!"),[a,l]=S.useState(""),[d,c]=S.useState(!1);async function u(h){var f,g;h.preventDefault(),l(""),c(!0);try{const m=await $.post("/auth/login",{email:r,password:s});localStorage.setItem("token",m.data.token),e("/")}catch(m){l(((g=(f=m==null?void 0:m.response)==null?void 0:f.data)==null?void 0:g.error)||"Error al iniciar sesin")}finally{c(!1)}}return o.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden h-screen",children:[o.jsx("img",{src:Wj,alt:"Sistema de Salud Laboral",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/85 via-blue-900/80 to-cyan-900/85"}),o.jsx("div",{className:"absolute inset-0 bg-black/30"}),o.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center p-12 text-white z-10",children:o.jsxs("div",{className:"max-w-md",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4 text-white drop-shadow-2xl",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.5)"},children:"Sistema de Salud Laboral"}),o.jsx("p",{className:"text-xl text-white mb-8 font-medium",style:{textShadow:"1px 1px 4px rgba(0,0,0,0.8), 0 0 10px rgba(0,0,0,0.5)"},children:"Gestin integral de salud ocupacional y exmenes mdicos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[o.jsx("svg",{className:"w-6 h-6 text-white flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"text-white font-medium",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.7)"},children:"Gestin de admisiones"})]}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[o.jsx("svg",{className:"w-6 h-6 text-white flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"text-white font-medium",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.7)"},children:"Historia clnica digital"})]}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[o.jsx("svg",{className:"w-6 h-6 text-white flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"text-white font-medium",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.7)"},children:"Reportes y anlisis"})]})]})]})})]}),o.jsx("div",{className:"flex-1 flex flex-col justify-center h-screen overflow-y-auto px-4 sm:px-6 lg:px-12 xl:px-16 bg-white dark:bg-gray-800",children:o.jsxs("div",{className:"mx-auto w-full max-w-md py-8",children:[o.jsxs("div",{className:"lg:hidden mb-6 text-center",children:[o.jsx("div",{className:"inline-block p-3 bg-indigo-600 rounded-2xl mb-3",children:o.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sistema de Salud Laboral"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("common.login")||"Bienvenido"}),o.jsx("p",{className:"text-sm lg:text-base text-gray-600 dark:text-gray-400",children:"Ingresa tus credenciales para acceder al sistema"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Correo Electrnico"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),o.jsx("input",{className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out sm:text-sm",value:r,onChange:h=>n(h.target.value),type:"email",placeholder:"tu@email.com",required:!0,disabled:d})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsx("input",{className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out sm:text-sm",type:"password",value:s,onChange:h=>i(h.target.value),placeholder:"",required:!0,disabled:d})]})]}),a&&o.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:a})})]})}),o.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesin..."]}):o.jsxs(o.Fragment,{children:[t("common.login")||"Iniciar Sesin",o.jsx("svg",{className:"ml-2 -mr-1 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," Sistema de Salud Laboral. Todos los derechos reservados."]})})]})})]})}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ls.apply(null,arguments)}const Kj="react-avatar/",Xl="failing",Xf=function(){try{return"localStorage"in window&&window.localStorage}catch{return!1}}();class jo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{cachePrefix:r=Kj,sourceTTL:n=7*24*3600*1e3,sourceSize:s=20}=e;this.cachePrefix=r,this.sourceTTL=n,this.sourceSize=s}set(e,r){if(Xf){r=JSON.stringify(r);try{localStorage.setItem(this.cachePrefix+e,r)}catch(n){console.error(n)}}}get(e){if(!Xf)return null;const r=localStorage.getItem(this.cachePrefix+e);return r?JSON.parse(r):null}sourceFailed(e){let r=this.get(Xl)||[];return r=r.filter(n=>{const s=n.expires>0&&n.expires<Date.now(),i=n===e||n.url==e;return!s&&!i}),r.unshift({url:e,expires:Date.now()+this.sourceTTL}),r=r.slice(0,this.sourceSize-1),this.set(Xl,r)}hasSourceFailedBefore(e){return(this.get(Xl)||[]).some(n=>{const s=n.expires>0&&n.expires<Date.now();return(n===e||n.url==e)&&!s})}}const Yj=new jo;function _i(t){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(t)}function Xj(t,e){if(_i(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gj(t){var e=Xj(t,"string");return _i(e)=="symbol"?e:e+""}function J(t,e,r){return(e=Gj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kx={exports:{}},Qj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jj=Qj,Zj=Jj;function jx(){}function Nx(){}Nx.resetWarningCache=jx;var eN=function(){function t(n,s,i,a,l,d){if(d!==Zj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Nx,resetWarningCache:jx};return r.PropTypes=r,r};kx.exports=eN();var tN=kx.exports;const q=Lo(tN);var rN=function(){var t;return!!(typeof window<"u"&&window!==null&&(t="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(t).matches))};const nN=Lo(rN),sN=nN(),Sx=["#A62A21","#7e3794","#0B51C1","#3A6024","#A81563","#B3003C"],iN=/^([-+]?(?:\d+(?:\.\d+)?|\.\d+))([a-z]{2,4}|%)?$/;function aN(t,e){const r=[...t].map(l=>l.charCodeAt(0)),n=r.length,s=n%(e-1)+1,i=r.reduce((l,d)=>l+d)%e;let a=r[0]%e;for(let l=0;l<n;l++)a=(s*a+i)%e;return a}function Pu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sx;if(!t)return"transparent";const r=aN(t,e.length);return e[r]}function sl(t){t=""+t;const[,e=0,r="px"]=iN.exec(t)||[];return{value:parseFloat(e),str:e+r,unit:r}}function il(t){return t=sl(t),isNaN(t.value)?t=512:t.unit==="px"?t=t.value:t.value===0?t=0:t=512,sN&&(t=t*2),t}function _x(t,e){let{maxInitials:r}=e;return t.split(/\s/).map(n=>n.substring(0,1).toUpperCase()).filter(n=>!!n).slice(0,r).join("").toUpperCase()}const fa={};function oN(t,e){if(fa[e]){fa[e].push(t);return}const r=fa[e]=[t];setTimeout(()=>{delete fa[e],r.forEach(n=>n())},e)}function mc(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(const n of e){if(n||n==="")return n;if(n===!1||n===null)return null}}function Ru(t){if(t===!0)return"100%";if(t!==!1)return t}const gc={cache:Yj,colors:Sx,initials:_x,avatarRedirectUrl:null},lN=Object.keys(gc),Tu=de.createContext&&de.createContext(),al=!Tu,dN=al?null:Tu.Consumer,cN=de.forwardRef||(t=>t);class Ur extends de.Component{_getContext(){const e={};return lN.forEach(r=>{typeof this.props[r]<"u"&&(e[r]=this.props[r])}),e}render(){const{children:e}=this.props;return al?de.Children.only(e):de.createElement(Tu.Provider,{value:this._getContext()},de.Children.only(e))}}J(Ur,"displayName","ConfigProvider");J(Ur,"propTypes",{cache:q.object,colors:q.arrayOf(q.string),initials:q.func,avatarRedirectUrl:q.string,children:q.node});const Cx=t=>{function e(r,n){if(al){const s=n&&n.reactAvatar;return de.createElement(t,ls({},gc,s,r))}return de.createElement(dN,null,s=>de.createElement(t,ls({ref:n},gc,s,r)))}return e.contextTypes=Ur.childContextTypes,cN(e)};al&&(Ur.childContextTypes={reactAvatar:q.object},Ur.prototype.getChildContext=function(){return{reactAvatar:this._getContext()}});class uN{constructor(){this.sourcePointer=0,this.active=!0,this.fetch=null}isActive(){return!((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).internal!==this||!this.fetch||this.active!==!0)}}function hN(t,e,r){const{cache:n}=e,s=new t(e);if(!s.isCompatible(e))return r();s.get(i=>{!(i&&i.src&&n.hasSourceFailedBefore(i.src))&&i?r(i):r()})}function fN(t){let{sources:e=[]}=t;const r=e.reduce((s,i)=>Object.assign(s,i.propTypes),{});class n extends S.PureComponent{constructor(i){super(i),J(this,"_createFetcher",a=>l=>{const{cache:d}=this.props;if(!a.isActive(this.state))return;l&&l.type==="error"&&d.sourceFailed(l.target.src);const c=a.sourcePointer;if(e.length===c)return;const u=e[c];a.sourcePointer++,hN(u,this.props,h=>{if(!h)return setTimeout(a.fetch,0);a.isActive(this.state)&&(h={src:null,value:null,color:null,...h},this.setState(f=>a.isActive(f)?h:{}))})}),J(this,"fetch",()=>{const a=new uN;a.fetch=this._createFetcher(a),this.setState({internal:a},a.fetch)}),this.state={internal:null,src:null,value:null,color:i.color}}componentDidMount(){this.fetch()}componentDidUpdate(i){let a=!1;for(const l in r)a=a||i[l]!==this.props[l];a&&setTimeout(this.fetch,0)}componentWillUnmount(){this.state.internal&&(this.state.internal.active=!1)}render(){const{children:i,propertyName:a}=this.props,{src:l,value:d,color:c,sourceName:u,internal:h}=this.state,f={src:l,value:d,color:c,sourceName:u,onRenderFailed:()=>h&&h.fetch()};if(typeof i=="function")return i(f);const g=de.Children.only(i);return de.cloneElement(g,{[a]:f})}}return J(n,"displayName","AvatarDataProvider"),J(n,"propTypes",{...r,cache:q.object,propertyName:q.string}),J(n,"defaultProps",{propertyName:"avatar"}),J(n,"Cache",jo),J(n,"ConfigProvider",Ur),Object.assign(Cx(n),{ConfigProvider:Ur,Cache:jo})}class Au extends de.PureComponent{render(){const{className:e,unstyled:r,round:n,style:s,avatar:i,onClick:a,children:l}=this.props,{sourceName:d}=i,c=sl(this.props.size),u=r?null:{display:"inline-block",verticalAlign:"middle",width:c.str,height:c.str,borderRadius:Ru(n),fontFamily:"Helvetica, Arial, sans-serif",...s},h=[e,"sb-avatar"];if(d){const f=d.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");h.push("sb-avatar--"+f)}return de.createElement("div",{className:h.join(" "),onClick:a,style:u},l)}}J(Au,"propTypes",{className:q.string,round:q.oneOfType([q.bool,q.string]),style:q.object,size:q.oneOfType([q.number,q.string]),unstyled:q.bool,avatar:q.object,onClick:q.func,children:q.node});class Ou extends de.PureComponent{render(){const{className:e,round:r,unstyled:n,alt:s,title:i,name:a,value:l,avatar:d}=this.props,c=sl(this.props.size),u=n?null:{maxWidth:"100%",width:c.str,height:c.str,borderRadius:Ru(r)};return de.createElement(Au,this.props,de.createElement("img",{className:e+" sb-avatar__image",width:c.str,height:c.str,style:u,src:d.src,alt:mc(s,a||l),title:mc(i,a||l),onError:d.onRenderFailed}))}}J(Ou,"propTypes",{alt:q.oneOfType([q.string,q.bool]),title:q.oneOfType([q.string,q.bool]),name:q.string,value:q.string,avatar:q.object,className:q.string,unstyled:q.bool,round:q.oneOfType([q.bool,q.string,q.number]),size:q.oneOfType([q.number,q.string])});J(Ou,"defaultProps",{className:"",round:!1,size:100,unstyled:!1});class Lu extends de.PureComponent{constructor(){var e;super(...arguments),e=this,J(this,"_scaleTextNode",function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16;const{unstyled:s,textSizeRatio:i,textMarginRatio:a,avatar:l}=e.props;if(e._node=r,!r||!r.parentNode||s||l.src||!e._mounted)return;const d=r.parentNode,c=d.parentNode,{width:u,height:h}=d.getBoundingClientRect();if(u==0&&h==0){const m=Math.min(n*1.5,500);oN(()=>e._scaleTextNode(r,m),m);return}if(!c.style.fontSize){const m=h/i;c.style.fontSize="".concat(m,"px")}d.style.fontSize=null;const{width:f}=r.getBoundingClientRect();if(f<0)return;const g=u*(1-2*a);f>g&&(d.style.fontSize="calc(1em * ".concat(g/f,")"))})}componentDidMount(){this._mounted=!0,this._scaleTextNode(this._node)}componentWillUnmount(){this._mounted=!1}render(){const{className:e,round:r,unstyled:n,title:s,name:i,value:a,avatar:l}=this.props,d=sl(this.props.size),c=n?null:{width:d.str,height:d.str,lineHeight:"initial",textAlign:"center",color:this.props.fgColor,background:l.color,borderRadius:Ru(r)},u=n?null:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},h=n?null:{display:"table-cell",verticalAlign:"middle",fontSize:"100%",whiteSpace:"nowrap"},f=[l.value,this.props.size].join("");return de.createElement(Au,this.props,de.createElement("div",{className:e+" sb-avatar__text",style:c,title:mc(s,i||a)},de.createElement("div",{style:u},de.createElement("span",{style:h},de.createElement("span",{ref:this._scaleTextNode,key:f},l.value)))))}}J(Lu,"propTypes",{name:q.string,value:q.string,avatar:q.object,title:q.oneOfType([q.string,q.bool]),className:q.string,unstyled:q.bool,fgColor:q.string,textSizeRatio:q.number,textMarginRatio:q.number,round:q.oneOfType([q.bool,q.string,q.number]),size:q.oneOfType([q.number,q.string])});J(Lu,"defaultProps",{className:"",fgColor:"#FFF",round:!1,size:100,textSizeRatio:3,textMarginRatio:.15,unstyled:!1});function mN(t){const e=fN(t),r=Cx(de.forwardRef((n,s)=>de.createElement(e,ls({},n,{propertyName:"avatar"}),i=>{const a=i.src?Ou:Lu;return de.createElement(a,ls({},n,{avatar:i,ref:s}))})));return Object.assign(r,{getRandomColor:Pu,ConfigProvider:Ur,Cache:jo})}var Ex={exports:{}},Px={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,n){return r<<n|r>>>32-n},rotr:function(r,n){return r<<32-n|r>>>n},endian:function(r){if(r.constructor==Number)return e.rotl(r,8)&16711935|e.rotl(r,24)&4278255360;for(var n=0;n<r.length;n++)r[n]=e.endian(r[n]);return r},randomBytes:function(r){for(var n=[];r>0;r--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(r){for(var n=[],s=0,i=0;s<r.length;s++,i+=8)n[i>>>5]|=r[s]<<24-i%32;return n},wordsToBytes:function(r){for(var n=[],s=0;s<r.length*32;s+=8)n.push(r[s>>>5]>>>24-s%32&255);return n},bytesToHex:function(r){for(var n=[],s=0;s<r.length;s++)n.push((r[s]>>>4).toString(16)),n.push((r[s]&15).toString(16));return n.join("")},hexToBytes:function(r){for(var n=[],s=0;s<r.length;s+=2)n.push(parseInt(r.substr(s,2),16));return n},bytesToBase64:function(r){for(var n=[],s=0;s<r.length;s+=3)for(var i=r[s]<<16|r[s+1]<<8|r[s+2],a=0;a<4;a++)s*8+a*6<=r.length*8?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],s=0,i=0;s<r.length;i=++s%4)i!=0&&n.push((t.indexOf(r.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|t.indexOf(r.charAt(s))>>>6-i*2);return n}};Px.exports=e})();var gN=Px.exports,pc={utf8:{stringToBytes:function(t){return pc.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(pc.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r)&255);return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}},Gf=pc;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var pN=function(t){return t!=null&&(Rx(t)||xN(t)||!!t._isBuffer)};function Rx(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function xN(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Rx(t.slice(0,0))}(function(){var t=gN,e=Gf.utf8,r=pN,n=Gf.bin,s=function(i,a){i.constructor==String?a&&a.encoding==="binary"?i=n.stringToBytes(i):i=e.stringToBytes(i):r(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var l=t.bytesToWords(i),d=i.length*8,c=1732584193,u=-271733879,h=-1732584194,f=271733878,g=0;g<l.length;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360;l[d>>>5]|=128<<d%32,l[(d+64>>>9<<4)+14]=d;for(var m=s._ff,p=s._gg,x=s._hh,y=s._ii,g=0;g<l.length;g+=16){var v=c,b=u,k=h,N=f;c=m(c,u,h,f,l[g+0],7,-680876936),f=m(f,c,u,h,l[g+1],12,-389564586),h=m(h,f,c,u,l[g+2],17,606105819),u=m(u,h,f,c,l[g+3],22,-1044525330),c=m(c,u,h,f,l[g+4],7,-176418897),f=m(f,c,u,h,l[g+5],12,1200080426),h=m(h,f,c,u,l[g+6],17,-1473231341),u=m(u,h,f,c,l[g+7],22,-45705983),c=m(c,u,h,f,l[g+8],7,1770035416),f=m(f,c,u,h,l[g+9],12,-1958414417),h=m(h,f,c,u,l[g+10],17,-42063),u=m(u,h,f,c,l[g+11],22,-1990404162),c=m(c,u,h,f,l[g+12],7,1804603682),f=m(f,c,u,h,l[g+13],12,-40341101),h=m(h,f,c,u,l[g+14],17,-1502002290),u=m(u,h,f,c,l[g+15],22,1236535329),c=p(c,u,h,f,l[g+1],5,-165796510),f=p(f,c,u,h,l[g+6],9,-1069501632),h=p(h,f,c,u,l[g+11],14,643717713),u=p(u,h,f,c,l[g+0],20,-373897302),c=p(c,u,h,f,l[g+5],5,-701558691),f=p(f,c,u,h,l[g+10],9,38016083),h=p(h,f,c,u,l[g+15],14,-660478335),u=p(u,h,f,c,l[g+4],20,-405537848),c=p(c,u,h,f,l[g+9],5,568446438),f=p(f,c,u,h,l[g+14],9,-1019803690),h=p(h,f,c,u,l[g+3],14,-187363961),u=p(u,h,f,c,l[g+8],20,1163531501),c=p(c,u,h,f,l[g+13],5,-1444681467),f=p(f,c,u,h,l[g+2],9,-51403784),h=p(h,f,c,u,l[g+7],14,1735328473),u=p(u,h,f,c,l[g+12],20,-1926607734),c=x(c,u,h,f,l[g+5],4,-378558),f=x(f,c,u,h,l[g+8],11,-2022574463),h=x(h,f,c,u,l[g+11],16,1839030562),u=x(u,h,f,c,l[g+14],23,-35309556),c=x(c,u,h,f,l[g+1],4,-1530992060),f=x(f,c,u,h,l[g+4],11,1272893353),h=x(h,f,c,u,l[g+7],16,-155497632),u=x(u,h,f,c,l[g+10],23,-1094730640),c=x(c,u,h,f,l[g+13],4,681279174),f=x(f,c,u,h,l[g+0],11,-358537222),h=x(h,f,c,u,l[g+3],16,-722521979),u=x(u,h,f,c,l[g+6],23,76029189),c=x(c,u,h,f,l[g+9],4,-640364487),f=x(f,c,u,h,l[g+12],11,-421815835),h=x(h,f,c,u,l[g+15],16,530742520),u=x(u,h,f,c,l[g+2],23,-995338651),c=y(c,u,h,f,l[g+0],6,-198630844),f=y(f,c,u,h,l[g+7],10,1126891415),h=y(h,f,c,u,l[g+14],15,-1416354905),u=y(u,h,f,c,l[g+5],21,-57434055),c=y(c,u,h,f,l[g+12],6,1700485571),f=y(f,c,u,h,l[g+3],10,-1894986606),h=y(h,f,c,u,l[g+10],15,-1051523),u=y(u,h,f,c,l[g+1],21,-2054922799),c=y(c,u,h,f,l[g+8],6,1873313359),f=y(f,c,u,h,l[g+15],10,-30611744),h=y(h,f,c,u,l[g+6],15,-1560198380),u=y(u,h,f,c,l[g+13],21,1309151649),c=y(c,u,h,f,l[g+4],6,-145523070),f=y(f,c,u,h,l[g+11],10,-1120210379),h=y(h,f,c,u,l[g+2],15,718787259),u=y(u,h,f,c,l[g+9],21,-343485551),c=c+v>>>0,u=u+b>>>0,h=h+k>>>0,f=f+N>>>0}return t.endian([c,u,h,f])};s._ff=function(i,a,l,d,c,u,h){var f=i+(a&l|~a&d)+(c>>>0)+h;return(f<<u|f>>>32-u)+a},s._gg=function(i,a,l,d,c,u,h){var f=i+(a&d|l&~d)+(c>>>0)+h;return(f<<u|f>>>32-u)+a},s._hh=function(i,a,l,d,c,u,h){var f=i+(a^l^d)+(c>>>0)+h;return(f<<u|f>>>32-u)+a},s._ii=function(i,a,l,d,c,u,h){var f=i+(l^(a|~d))+(c>>>0)+h;return(f<<u|f>>>32-u)+a},s._blocksize=16,s._digestsize=16,Ex.exports=function(i,a){if(i==null)throw new Error("Illegal argument "+i);var l=t.wordsToBytes(s(i,a));return a&&a.asBytes?l:a&&a.asString?n.bytesToString(l):t.bytesToHex(l)}})();var yN=Ex.exports;const bN=Lo(yN);class Tx{constructor(e){J(this,"props",null),J(this,"isCompatible",()=>!!this.props.email||!!this.props.md5Email),J(this,"get",r=>{const{props:n}=this,s=n.md5Email||bN(n.email),i=il(n.size);let a="https://secure.gravatar.com/avatar/".concat(s,"?d=404");i&&(a+="&s=".concat(i)),r({sourceName:"gravatar",src:a})}),this.props=e}}J(Tx,"propTypes",{email:q.string,md5Email:q.string});class Ax{constructor(e){J(this,"props",null),J(this,"isCompatible",()=>!!this.props.facebookId),J(this,"get",r=>{const{facebookId:n}=this.props,s=il(this.props.size);let i="https://graph.facebook.com/".concat(n,"/picture");s&&(i+="?width=".concat(s,"&height=").concat(s)),r({sourceName:"facebook",src:i})}),this.props=e}}J(Ax,"propTypes",{facebookId:q.string});class Ox{constructor(e){J(this,"props",null),J(this,"isCompatible",()=>!!this.props.githubHandle),J(this,"get",r=>{const{githubHandle:n}=this.props,s=il(this.props.size);let i="https://avatars.githubusercontent.com/".concat(n,"?v=4");s&&(i+="&s=".concat(s)),r({sourceName:"github",src:i})}),this.props=e}}J(Ox,"propTypes",{githubHandle:q.string});class Lx{constructor(e){J(this,"props",null),J(this,"isCompatible",()=>!!this.props.skypeId),J(this,"get",r=>{const{skypeId:n}=this.props,s="https://api.skype.com/users/".concat(n,"/profile/avatar");r({sourceName:"skype",src:s})}),this.props=e}}J(Lx,"propTypes",{skypeId:q.string});class Dx{constructor(e){J(this,"props",null),J(this,"isCompatible",()=>!!(this.props.name||this.props.value||this.props.email)),J(this,"get",r=>{const n=this.getValue();if(!n)return r(null);r({sourceName:"text",value:n,color:this.getColor()})}),this.props=e}getInitials(){const{name:e,initials:r}=this.props;return typeof r=="string"?r:typeof r=="function"?r(e,this.props):_x(e,this.props)}getValue(){return this.props.name?this.getInitials():this.props.value?this.props.value:null}getColor(){const{color:e,colors:r,name:n,email:s,value:i}=this.props;return e||Pu(n||s||i,r)}}J(Dx,"propTypes",{color:q.string,name:q.string,value:q.string,email:q.string,maxInitials:q.number,initials:q.oneOfType([q.string,q.func])});class Mx{constructor(e){J(this,"props",null),J(this,"isCompatible",()=>!!this.props.src),J(this,"get",r=>{r({sourceName:"src",src:this.props.src})}),this.props=e}}J(Mx,"propTypes",{src:q.string});class Ix{constructor(e){J(this,"props",null),J(this,"icon",""),J(this,"isCompatible",()=>!0),J(this,"get",r=>{const{color:n,colors:s}=this.props;r({sourceName:"icon",value:this.icon,color:n||Pu(this.icon,s)})}),this.props=e}}J(Ix,"propTypes",{color:q.string});function ol(t,e){var r;return r=class{constructor(s){J(this,"props",null),J(this,"isCompatible",()=>!!this.props.avatarRedirectUrl&&!!this.props[e]),J(this,"get",i=>{const{avatarRedirectUrl:a}=this.props,l=il(this.props.size),d=a.replace(/\/*$/,"/"),c=this.props[e],u=l?"size=".concat(l):"",h="".concat(d).concat(t,"/").concat(c,"?").concat(u);i({sourceName:t,src:h})}),this.props=s}},J(r,"propTypes",{[e]:q.oneOfType([q.string,q.number])}),r}const vN=ol("twitter","twitterHandle"),wN=ol("vkontakte","vkontakteId"),kN=ol("instagram","instagramId"),jN=ol("google","googleId"),NN=[Ax,jN,Ox,vN,kN,wN,Lx,Tx,Mx,Dx,Ix],Fx=mN({sources:NN}),zx=S.createContext(void 0);function SN({children:t}){const[e,r]=S.useState(()=>localStorage.getItem("theme")||"light");S.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const n=()=>{r(s=>s==="light"?"dark":"light")};return o.jsx(zx.Provider,{value:{theme:e,toggleTheme:n},children:t})}function _N(){const t=S.useContext(zx);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function CN(){const{theme:t,toggleTheme:e}=_N(),{t:r}=Te();return o.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:r("theme.toggle"),"aria-label":r("theme.toggle"),children:t==="light"?o.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):o.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})}function EN(){const{i18n:t,t:e}=Te(),r=n=>{t.changeLanguage(n)};return o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:t.language,onChange:n=>r(n.target.value),className:"appearance-none bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 pr-8 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":e("language.select"),children:[o.jsx("option",{value:"es",children:e("language.spanish")}),o.jsx("option",{value:"en",children:e("language.english")})]}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300",children:o.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})}function PN({user:t,onMenuClick:e}){const r=nt(),{t:n}=Te(),s=()=>{localStorage.removeItem("token"),r("/login")},i=d=>{const c=d.toLowerCase();return{admin:"Administrador",admissions:"Admisiones",doctor:"Mdico",lab:"Laboratorio",patient:"Paciente"}[c]||d},a=()=>t!=null&&t.name?t.name:t!=null&&t.nombres&&(t!=null&&t.apellidos)?`${t.nombres} ${t.apellidos}`:(t==null?void 0:t.email)||"Usuario",l=()=>(t==null?void 0:t.rol)||(t==null?void 0:t.role)||"patient";return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":"Toggle menu",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white truncate",children:"Sistema de Salud Laboral"})]}),o.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:t&&o.jsxs(o.Fragment,{children:[o.jsx(EN,{}),o.jsx(CN,{}),o.jsxs("button",{onClick:()=>r("/perfil"),className:"flex items-center space-x-2 p-1.5 sm:p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors",title:n("nav.profile"),children:[o.jsx(Fx,{name:a(),size:"36",round:!0,className:"flex-shrink-0",color:"#4F46E5"}),o.jsxs("div",{className:"hidden sm:block text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32 lg:max-w-none",children:a()}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i(l())})]})]}),o.jsxs("button",{onClick:s,className:"bg-red-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("span",{className:"hidden sm:inline",children:n("common.logout")}),o.jsx("span",{className:"sm:hidden",children:""})]})]})})]})})})}const RN=[{name:"Dashboard",path:"/",icon:"",roles:["admin","admissions","doctor","lab"]},{name:"Admisiones",path:"/admisiones",icon:"",roles:["admin","admissions"]},{name:"Historia Clnica",path:"/medico",icon:"",roles:["admin","doctor"]},{name:"Laboratorio",path:"/laboratorio",icon:"",roles:["admin","lab"]},{name:"Concepto Aptitud",path:"/concepto-aptitud",icon:"",roles:["admin","doctor"]},{name:"Facturacin",path:"/facturacion",icon:"",roles:["admin"]},{name:"Inventario",path:"/inventario",icon:"",roles:["admin"]},{name:"Biomtrico",path:"/biometric",icon:"",roles:["admin","admissions"]},{name:"Reportes",path:"/reportes",icon:"",roles:["admin"]},{name:"Administracin",path:"/admin",icon:"",roles:["admin"]}];function Qf({userRole:t,onClose:e}){const r=Nn(),{t:n}=Te(),s=(t==null?void 0:t.toLowerCase())||"patient",i=[{name:n("nav.dashboard"),path:"/",icon:"",roles:["admin","admissions","doctor","lab"]},{name:n("nav.admissions"),path:"/admisiones",icon:"",roles:["admin","admissions"]},{name:n("nav.medical"),path:"/medico",icon:"",roles:["admin","doctor"]},{name:n("nav.lab"),path:"/laboratorio",icon:"",roles:["admin","lab"]},{name:n("nav.aptitude"),path:"/concepto-aptitud",icon:"",roles:["admin","doctor"]},{name:n("nav.billing"),path:"/facturacion",icon:"",roles:["admin"]},{name:n("nav.inventory"),path:"/inventario",icon:"",roles:["admin"]},{name:n("nav.biometric"),path:"/biometric",icon:"",roles:["admin","admissions"]},{name:n("nav.reports"),path:"/reportes",icon:"",roles:["admin"]},{name:n("nav.admin"),path:"/admin",icon:"",roles:["admin"]}];de.useEffect(()=>{console.log("Rol del usuario en Sidebar:",s),console.log("Men items disponibles:",RN.map(l=>l.name))},[s]);const a=i.filter(l=>l.roles.includes(s)||s==="admin");return o.jsxs("nav",{className:"w-64 bg-white dark:bg-gray-800 shadow-lg lg:shadow-sm border-r border-gray-200 dark:border-gray-700 fixed lg:fixed top-14 sm:top-16 left-0 bottom-0 p-4 overflow-y-auto z-40",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-4 lg:hidden",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Men"}),o.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Cerrar men",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-1",children:[a.map(l=>{const d=r.pathname===l.path;return o.jsxs(mf,{to:l.path,onClick:e,className:`flex items-center px-3 py-2.5 rounded-md text-sm font-medium transition-colors ${d?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("span",{className:"mr-3 text-lg",children:l.icon}),o.jsx("span",{className:"truncate",children:l.name})]},l.path)}),o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),o.jsxs(mf,{to:"/perfil",onClick:e,className:`flex items-center px-3 py-2.5 rounded-md text-sm font-medium transition-colors ${r.pathname==="/perfil"?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsx("span",{className:"mr-3 text-lg",children:""}),o.jsx("span",{className:"truncate",children:n("nav.profile")})]})]})]})}function ze({children:t}){var c,u;const e=nt(),[r,n]=S.useState(null),[s,i]=S.useState(!0),[a,l]=S.useState(!1);if(S.useEffect(()=>{if(!localStorage.getItem("token")){e("/login");return}$.get("/me").then(f=>{const g=f.data.user;g&&(g.role=g.rol||g.role,g.name=`${g.nombres||g.name||""} ${g.apellidos||""}`.trim()||g.name),n(g),i(!1)}).catch(()=>{localStorage.removeItem("token"),e("/login")})},[e]),s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando..."})]})});const d=((c=r==null?void 0:r.rol)==null?void 0:c.toLowerCase())||((u=r==null?void 0:r.role)==null?void 0:u.toLowerCase())||"patient";return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(PN,{user:r,onMenuClick:()=>l(!a)}),o.jsx("div",{className:"hidden lg:block",children:o.jsx(Qf,{userRole:d})}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 z-40 lg:hidden",onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-y-0 left-0 z-50 lg:hidden top-14 sm:top-16",children:o.jsx(Qf,{userRole:d,onClose:()=>l(!1)})})]}),o.jsx("main",{className:"pt-14 sm:pt-16 lg:pl-64 min-h-screen overflow-y-auto",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:t})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vi(t){return t+.5|0}const Cr=(t,e,r)=>Math.max(Math.min(t,r),e);function Fs(t){return Cr(Vi(t*2.55),0,255)}function zr(t){return Cr(Vi(t*255),0,255)}function ir(t){return Cr(Vi(t/2.55)/100,0,1)}function Jf(t){return Cr(Vi(t*100),0,100)}const kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xc=[..."0123456789ABCDEF"],TN=t=>xc[t&15],AN=t=>xc[(t&240)>>4]+xc[t&15],ma=t=>(t&240)>>4===(t&15),ON=t=>ma(t.r)&&ma(t.g)&&ma(t.b)&&ma(t.a);function LN(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&kt[t[1]]*17,g:255&kt[t[2]]*17,b:255&kt[t[3]]*17,a:e===5?kt[t[4]]*17:255}:(e===7||e===9)&&(r={r:kt[t[1]]<<4|kt[t[2]],g:kt[t[3]]<<4|kt[t[4]],b:kt[t[5]]<<4|kt[t[6]],a:e===9?kt[t[7]]<<4|kt[t[8]]:255})),r}const DN=(t,e)=>t<255?e(t):"";function MN(t){var e=ON(t)?TN:AN;return t?"#"+e(t.r)+e(t.g)+e(t.b)+DN(t.a,e):void 0}const IN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bx(t,e,r){const n=e*Math.min(r,1-r),s=(i,a=(i+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function FN(t,e,r){const n=(s,i=(s+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function zN(t,e,r){const n=Bx(t,1,.5);let s;for(e+r>1&&(s=1/(e+r),e*=s,r*=s),s=0;s<3;s++)n[s]*=1-e-r,n[s]+=e;return n}function BN(t,e,r,n,s){return t===s?(e-r)/n+(e<r?6:0):e===s?(r-t)/n+2:(t-e)/n+4}function Du(t){const r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),l=(i+a)/2;let d,c,u;return i!==a&&(u=i-a,c=l>.5?u/(2-i-a):u/(i+a),d=BN(r,n,s,u,i),d=d*60+.5),[d|0,c||0,l]}function Mu(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(zr)}function Iu(t,e,r){return Mu(Bx,t,e,r)}function $N(t,e,r){return Mu(zN,t,e,r)}function UN(t,e,r){return Mu(FN,t,e,r)}function $x(t){return(t%360+360)%360}function HN(t){const e=IN.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Fs(+e[5]):zr(+e[5]));const s=$x(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=$N(s,i,a):e[1]==="hsv"?n=UN(s,i,a):n=Iu(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function VN(t,e){var r=Du(t);r[0]=$x(r[0]+e),r=Iu(r),t.r=r[0],t.g=r[1],t.b=r[2]}function WN(t){if(!t)return;const e=Du(t),r=e[0],n=Jf(e[1]),s=Jf(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${s}%, ${ir(t.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const Zf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},em={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qN(){const t={},e=Object.keys(em),r=Object.keys(Zf);let n,s,i,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],s=0;s<r.length;s++)i=r[s],l=l.replace(i,Zf[i]);i=parseInt(em[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let ga;function KN(t){ga||(ga=qN(),ga.transparent=[0,0,0,0]);const e=ga[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const YN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XN(t){const e=YN.exec(t);let r=255,n,s,i;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?Fs(a):Cr(a*255,0,255)}return n=+e[1],s=+e[3],i=+e[5],n=255&(e[2]?Fs(n):Cr(n,0,255)),s=255&(e[4]?Fs(s):Cr(s,0,255)),i=255&(e[6]?Fs(i):Cr(i,0,255)),{r:n,g:s,b:i,a:r}}}function GN(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ir(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,En=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function QN(t,e,r){const n=En(ir(t.r)),s=En(ir(t.g)),i=En(ir(t.b));return{r:zr(Gl(n+r*(En(ir(e.r))-n))),g:zr(Gl(s+r*(En(ir(e.g))-s))),b:zr(Gl(i+r*(En(ir(e.b))-i))),a:t.a+r*(e.a-t.a)}}function pa(t,e,r){if(t){let n=Du(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Iu(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Ux(t,e){return t&&Object.assign(e||{},t)}function tm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=zr(t[3]))):(e=Ux(t,{r:0,g:0,b:0,a:1}),e.a=zr(e.a)),e}function JN(t){return t.charAt(0)==="r"?XN(t):HN(t)}class Ci{constructor(e){if(e instanceof Ci)return e;const r=typeof e;let n;r==="object"?n=tm(e):r==="string"&&(n=LN(e)||KN(e)||JN(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ux(this._rgb);return e&&(e.a=ir(e.a)),e}set rgb(e){this._rgb=tm(e)}rgbString(){return this._valid?GN(this._rgb):void 0}hexString(){return this._valid?MN(this._rgb):void 0}hslString(){return this._valid?WN(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,s=e.rgb;let i;const a=r===i?.5:r,l=2*a-1,d=n.a-s.a,c=((l*d===-1?l:(l+d)/(1+l*d))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=QN(this._rgb,e._rgb,r)),this}clone(){return new Ci(this.rgb)}alpha(e){return this._rgb.a=zr(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Vi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return pa(this._rgb,2,e),this}darken(e){return pa(this._rgb,2,-e),this}saturate(e){return pa(this._rgb,1,e),this}desaturate(e){return pa(this._rgb,1,-e),this}rotate(e){return VN(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function er(){}const ZN=(()=>{let t=0;return()=>t++})();function ce(t){return t==null}function Re(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function oe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ht(t,e){return Qe(t)?t:e}function te(t,e){return typeof t>"u"?e:t}const e2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Hx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ue(t,e,r,n){let s,i,a;if(Re(t))for(i=t.length,s=0;s<i;s++)e.call(r,t[s],s);else if(oe(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(r,t[a[s]],a[s])}function No(t,e){let r,n,s,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(s=t[r],i=e[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function So(t){if(Re(t))return t.map(So);if(oe(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let s=0;for(;s<n;++s)e[r[s]]=So(t[r[s]]);return e}return t}function Vx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function t2(t,e,r,n){if(!Vx(t))return;const s=e[t],i=r[t];oe(s)&&oe(i)?Ei(s,i,n):e[t]=So(i)}function Ei(t,e,r){const n=Re(e)?e:[e],s=n.length;if(!oe(t))return t;r=r||{};const i=r.merger||t2;let a;for(let l=0;l<s;++l){if(a=n[l],!oe(a))continue;const d=Object.keys(a);for(let c=0,u=d.length;c<u;++c)i(d[c],t,a,r)}return t}function Zs(t,e){return Ei(t,e,{merger:r2})}function r2(t,e,r){if(!Vx(t))return;const n=e[t],s=r[t];oe(n)&&oe(s)?Zs(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=So(s))}const rm={"":t=>t,x:t=>t.x,y:t=>t.y};function n2(t){const e=t.split("."),r=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function s2(t){const e=n2(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function vn(t,e){return(rm[e]||(rm[e]=s2(e)))(t)}function Fu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Pi=t=>typeof t<"u",Hr=t=>typeof t=="function",nm=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function i2(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const he=Math.PI,we=2*he,a2=we+he,_o=Number.POSITIVE_INFINITY,o2=he/180,Le=he/2,Xr=he/4,sm=he*2/3,Wx=Math.log10,Qt=Math.sign;function ei(t,e,r){return Math.abs(t-e)<r}function im(t){const e=Math.round(t);t=ei(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Wx(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function l2(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((s,i)=>s-i).pop(),e}function d2(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ri(t){return!d2(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function c2(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function u2(t,e,r){let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function lr(t){return t*(he/180)}function h2(t){return t*(180/he)}function am(t){if(!Qe(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function qx(t,e){const r=e.x-t.x,n=e.y-t.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*he&&(i+=we),{angle:i,distance:s}}function yc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function f2(t,e){return(t-e+a2)%we-he}function pt(t){return(t%we+we)%we}function Ti(t,e,r,n){const s=pt(t),i=pt(e),a=pt(r),l=pt(i-s),d=pt(a-s),c=pt(s-i),u=pt(s-a);return s===i||s===a||n&&i===a||l>d&&c<u}function Ye(t,e,r){return Math.max(e,Math.min(r,t))}function m2(t){return Ye(t,-32768,32767)}function dr(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function zu(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const on=(t,e,r,n)=>zu(t,r,n?s=>{const i=t[s][e];return i<r||i===r&&t[s+1][e]===r}:s=>t[s][e]<r),g2=(t,e,r)=>zu(t,r,n=>t[n][e]>=r);function p2(t,e,r){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>r;)s--;return n>0||s<t.length?t.slice(n,s):t}const Kx=["push","pop","shift","splice","unshift"];function x2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Kx.forEach(r=>{const n="_onData"+Fu(r),s=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),a}})})}function om(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),!(n.length>0)&&(Kx.forEach(i=>{delete t[i]}),delete t._chartjs)}function Yx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Xx=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Gx(t,e){let r=[],n=!1;return function(...s){r=s,n||(n=!0,Xx.call(window,()=>{n=!1,t.apply(e,r)}))}}function y2(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const Bu=t=>t==="start"?"left":t==="end"?"right":"center",We=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,b2=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function v2(t,e,r){const n=e.length;let s=0,i=n;if(t._sorted){const{iScale:a,vScale:l,_parsed:d}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:h,max:f,minDefined:g,maxDefined:m}=a.getUserBounds();if(g){if(s=Math.min(on(d,u,h).lo,r?n:on(e,u,a.getPixelForValue(h)).lo),c){const p=d.slice(0,s+1).reverse().findIndex(x=>!ce(x[l.axis]));s-=Math.max(0,p)}s=Ye(s,0,n-1)}if(m){let p=Math.max(on(d,a.axis,f,!0).hi+1,r?0:on(e,u,a.getPixelForValue(f),!0).hi+1);if(c){const x=d.slice(p-1).findIndex(y=>!ce(y[l.axis]));p+=Math.max(0,x)}i=Ye(p,s,n)-s}else i=n-s}return{start:s,count:i}}function w2(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=s,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const xa=t=>t===0||t===1,lm=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*we/r)),dm=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*we/r)+1,ti={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Le)+1,easeOutSine:t=>Math.sin(t*Le),easeInOutSine:t=>-.5*(Math.cos(he*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>xa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>xa(t)?t:lm(t,.075,.3),easeOutElastic:t=>xa(t)?t:dm(t,.075,.3),easeInOutElastic(t){return xa(t)?t:t<.5?.5*lm(t*2,.1125,.45):.5+.5*dm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ti.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ti.easeInBounce(t*2)*.5:ti.easeOutBounce(t*2-1)*.5+.5};function $u(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function cm(t){return $u(t)?t:new Ci(t)}function Ql(t){return $u(t)?t:new Ci(t).saturate(.5).darken(.1).hexString()}const k2=["x","y","borderWidth","radius","tension"],j2=["color","borderColor","backgroundColor"];function N2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:j2},numbers:{type:"number",properties:k2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function S2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const um=new Map;function _2(t,e){e=e||{};const r=t+JSON.stringify(e);let n=um.get(r);return n||(n=new Intl.NumberFormat(t,e),um.set(r,n)),n}function Uu(t,e,r){return _2(e,r).format(t)}const C2={values(t){return Re(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let s,i=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=E2(t,r)}const a=Wx(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),Uu(t,n,d)}};function E2(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Qx={formatters:C2};function P2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const wn=Object.create(null),bc=Object.create(null);function ri(t,e){if(!e)return t;const r=e.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function Jl(t,e,r){return typeof e=="string"?Ei(ri(t,e),r):Ei(ri(t,""),e)}class R2{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Ql(s.backgroundColor),this.hoverBorderColor=(n,s)=>Ql(s.borderColor),this.hoverColor=(n,s)=>Ql(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Jl(this,e,r)}get(e){return ri(this,e)}describe(e,r){return Jl(bc,e,r)}override(e,r){return Jl(wn,e,r)}route(e,r,n,s){const i=ri(this,e),a=ri(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[l],c=a[s];return oe(d)?Object.assign({},c,d):te(d,c)},set(d){this[l]=d}}})}apply(e){e.forEach(r=>r(this))}}var _e=new R2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[N2,S2,P2]);function T2(t){return!t||ce(t.size)||ce(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function hm(t,e,r,n,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,r.push(s)),i>n&&(n=i),n}function Gr(t,e,r){const n=t.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((e-s)*n)/n+s}function fm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function vc(t,e,r,n){Jx(t,e,r,n,null)}function Jx(t,e,r,n,s){let i,a,l,d,c,u,h,f;const g=e.pointStyle,m=e.rotation,p=e.radius;let x=(m||0)*o2;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),g){default:s?t.ellipse(r,n,s/2,p,0,0,we):t.arc(r,n,p,0,we),t.closePath();break;case"triangle":u=s?s/2:p,t.moveTo(r+Math.sin(x)*u,n-Math.cos(x)*p),x+=sm,t.lineTo(r+Math.sin(x)*u,n-Math.cos(x)*p),x+=sm,t.lineTo(r+Math.sin(x)*u,n-Math.cos(x)*p),t.closePath();break;case"rectRounded":c=p*.516,d=p-c,a=Math.cos(x+Xr)*d,h=Math.cos(x+Xr)*(s?s/2-c:d),l=Math.sin(x+Xr)*d,f=Math.sin(x+Xr)*(s?s/2-c:d),t.arc(r-h,n-l,c,x-he,x-Le),t.arc(r+f,n-a,c,x-Le,x),t.arc(r+h,n+l,c,x,x+Le),t.arc(r-f,n+a,c,x+Le,x+he),t.closePath();break;case"rect":if(!m){d=Math.SQRT1_2*p,u=s?s/2:d,t.rect(r-u,n-d,2*u,2*d);break}x+=Xr;case"rectRot":h=Math.cos(x)*(s?s/2:p),a=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(s?s/2:p),t.moveTo(r-h,n-l),t.lineTo(r+f,n-a),t.lineTo(r+h,n+l),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":x+=Xr;case"cross":h=Math.cos(x)*(s?s/2:p),a=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(s?s/2:p),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":h=Math.cos(x)*(s?s/2:p),a=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(s?s/2:p),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),x+=Xr,h=Math.cos(x)*(s?s/2:p),a=Math.cos(x)*p,l=Math.sin(x)*p,f=Math.sin(x)*(s?s/2:p),t.moveTo(r-h,n-l),t.lineTo(r+h,n+l),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=s?s/2:Math.cos(x)*p,l=Math.sin(x)*p,t.moveTo(r-a,n-l),t.lineTo(r+a,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(x)*(s?s/2:p),n+Math.sin(x)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ai(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function ll(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function dl(t){t.restore()}function A2(t,e,r,n,s){if(!e)return t.lineTo(r.x,r.y);if(s==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else s==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function O2(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function L2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ce(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function D2(t,e,r,n,s){if(s.strikethrough||s.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,c=r+i.actualBoundingBoxDescent,u=s.strikethrough?(d+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,u),t.lineTo(l,u),t.stroke()}}function M2(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Oi(t,e,r,n,s,i={}){const a=Re(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let d,c;for(t.save(),t.font=s.string,L2(t,i),d=0;d<a.length;++d)c=a[d],i.backdrop&&M2(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ce(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,r,n,i.maxWidth)),t.fillText(c,r,n,i.maxWidth),D2(t,r,n,c,i),n+=Number(s.lineHeight);t.restore()}function Co(t,e){const{x:r,y:n,w:s,h:i,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*he,he,!0),t.lineTo(r,n+i-a.bottomLeft),t.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,he,Le,!0),t.lineTo(r+s-a.bottomRight,n+i),t.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Le,0,!0),t.lineTo(r+s,n+a.topRight),t.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Le,!0),t.lineTo(r+a.topLeft,n)}const I2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,F2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function z2(t,e){const r=(""+t).match(I2);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const B2=t=>+t||0;function Hu(t,e){const r={},n=oe(e),s=n?Object.keys(e):e,i=oe(t)?n?a=>te(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)r[a]=B2(i(a));return r}function Zx(t){return Hu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Qn(t){return Hu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Rt(t){const e=Zx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Xe(t,e){t=t||{},e=e||_e.font;let r=te(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=te(t.style,e.style);n&&!(""+n).match(F2)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:te(t.family,e.family),lineHeight:z2(te(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:te(t.weight,e.weight),string:""};return s.string=T2(s),s}function ya(t,e,r,n){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function $2(t,e,r){const{min:n,max:s}=t,i=Hx(e,(s-n)/2),a=(l,d)=>r&&l===0?0:l+d;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function Sn(t,e){return Object.assign(Object.create(t),e)}function Vu(t,e=[""],r,n,s=()=>t[0]){const i=r||t;typeof n>"u"&&(n=ny("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:l=>Vu([l,...t],e,i,n)};return new Proxy(a,{deleteProperty(l,d){return delete l[d],delete l._keys,delete t[0][d],!0},get(l,d){return ty(l,d,()=>X2(d,e,t,l))},getOwnPropertyDescriptor(l,d){return Reflect.getOwnPropertyDescriptor(l._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,d){return gm(l).includes(d)},ownKeys(l){return gm(l)},set(l,d,c){const u=l._storage||(l._storage=s());return l[d]=u[d]=c,delete l._keys,!0}})}function ds(t,e,r,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:ey(t,n),setContext:i=>ds(t,i,r,n),override:i=>ds(t.override(i),e,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return ty(i,a,()=>H2(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function ey(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:r,indexable:n,isScriptable:Hr(r)?r:()=>r,isIndexable:Hr(n)?n:()=>n}}const U2=(t,e)=>t?t+Fu(e):e,Wu=(t,e)=>oe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ty(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function H2(t,e,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=t;let l=n[e];return Hr(l)&&a.isScriptable(e)&&(l=V2(e,l,t,r)),Re(l)&&l.length&&(l=W2(e,l,t,a.isIndexable)),Wu(e,l)&&(l=ds(l,s,i&&i[e],a)),l}function V2(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let d=e(i,a||n);return l.delete(t),Wu(t,d)&&(d=qu(s._scopes,s,t,d)),d}function W2(t,e,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(oe(e[0])){const d=e,c=s._scopes.filter(u=>u!==d);e=[];for(const u of d){const h=qu(c,s,t,u);e.push(ds(h,i,a&&a[t],l))}}return e}function ry(t,e,r){return Hr(t)?t(e,r):t}const q2=(t,e)=>t===!0?e:typeof t=="string"?vn(e,t):void 0;function K2(t,e,r,n,s){for(const i of e){const a=q2(r,i);if(a){t.add(a);const l=ry(a._fallback,r,s);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function qu(t,e,r,n){const s=e._rootScopes,i=ry(e._fallback,r,n),a=[...t,...s],l=new Set;l.add(n);let d=mm(l,a,r,i||r,n);return d===null||typeof i<"u"&&i!==r&&(d=mm(l,a,i,d,n),d===null)?!1:Vu(Array.from(l),[""],s,i,()=>Y2(e,r,n))}function mm(t,e,r,n,s){for(;r;)r=K2(t,e,r,n,s);return r}function Y2(t,e,r){const n=t._getTarget();e in n||(n[e]={});const s=n[e];return Re(s)&&oe(r)?r:s||{}}function X2(t,e,r,n){let s;for(const i of e)if(s=ny(U2(i,t),r),typeof s<"u")return Wu(t,s)?qu(r,n,t,s):s}function ny(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function gm(t){let e=t._keys;return e||(e=t._keys=G2(t._scopes)),e}function G2(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))e.add(n);return Array.from(e)}const Q2=Number.EPSILON||1e-14,cs=(t,e)=>e<t.length&&!t[e].skip&&t[e],sy=t=>t==="x"?"y":"x";function J2(t,e,r,n){const s=t.skip?e:t,i=e,a=r.skip?e:r,l=yc(i,s),d=yc(a,i);let c=l/(l+d),u=d/(l+d);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=n*c,f=n*u;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function Z2(t,e,r){const n=t.length;let s,i,a,l,d,c=cs(t,0);for(let u=0;u<n-1;++u)if(d=c,c=cs(t,u+1),!(!d||!c)){if(ei(e[u],0,Q2)){r[u]=r[u+1]=0;continue}s=r[u]/e[u],i=r[u+1]/e[u],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),r[u]=s*a*e[u],r[u+1]=i*a*e[u])}}function eS(t,e,r="x"){const n=sy(r),s=t.length;let i,a,l,d=cs(t,0);for(let c=0;c<s;++c){if(a=l,l=d,d=cs(t,c+1),!l)continue;const u=l[r],h=l[n];a&&(i=(u-a[r])/3,l[`cp1${r}`]=u-i,l[`cp1${n}`]=h-i*e[c]),d&&(i=(d[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${n}`]=h+i*e[c])}}function tS(t,e="x"){const r=sy(e),n=t.length,s=Array(n).fill(0),i=Array(n);let a,l,d,c=cs(t,0);for(a=0;a<n;++a)if(l=d,d=c,c=cs(t,a+1),!!d){if(c){const u=c[e]-d[e];s[a]=u!==0?(c[r]-d[r])/u:0}i[a]=l?c?Qt(s[a-1])!==Qt(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Z2(t,s,i),eS(t,i,e)}function ba(t,e,r){return Math.max(Math.min(t,r),e)}function rS(t,e){let r,n,s,i,a,l=Ai(t[0],e);for(r=0,n=t.length;r<n;++r)a=i,i=l,l=r<n-1&&Ai(t[r+1],e),i&&(s=t[r],a&&(s.cp1x=ba(s.cp1x,e.left,e.right),s.cp1y=ba(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=ba(s.cp2x,e.left,e.right),s.cp2y=ba(s.cp2y,e.top,e.bottom)))}function nS(t,e,r,n,s){let i,a,l,d;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")tS(t,s);else{let c=n?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],d=J2(c,l,t[Math.min(i+1,a-(n?0:1))%a],e.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,c=l}e.capBezierPoints&&rS(t,r)}function Ku(){return typeof window<"u"&&typeof document<"u"}function Yu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Eo(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const cl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sS(t,e){return cl(t).getPropertyValue(e)}const iS=["top","right","bottom","left"];function un(t,e,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=iS[s];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const aS=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function oS(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:s,offsetY:i}=n;let a=!1,l,d;if(aS(s,i,t.target))l=s,d=i;else{const c=e.getBoundingClientRect();l=n.clientX-c.left,d=n.clientY-c.top,a=!0}return{x:l,y:d,box:a}}function en(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,s=cl(r),i=s.boxSizing==="border-box",a=un(s,"padding"),l=un(s,"border","width"),{x:d,y:c,box:u}=oS(t,r),h=a.left+(u&&l.left),f=a.top+(u&&l.top);let{width:g,height:m}=e;return i&&(g-=a.width+l.width,m-=a.height+l.height),{x:Math.round((d-h)/g*r.width/n),y:Math.round((c-f)/m*r.height/n)}}function lS(t,e,r){let n,s;if(e===void 0||r===void 0){const i=t&&Yu(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const a=i.getBoundingClientRect(),l=cl(i),d=un(l,"border","width"),c=un(l,"padding");e=a.width-c.width-d.width,r=a.height-c.height-d.height,n=Eo(l.maxWidth,i,"clientWidth"),s=Eo(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||_o,maxHeight:s||_o}}const Er=t=>Math.round(t*10)/10;function dS(t,e,r,n){const s=cl(t),i=un(s,"margin"),a=Eo(s.maxWidth,t,"clientWidth")||_o,l=Eo(s.maxHeight,t,"clientHeight")||_o,d=lS(t,e,r);let{width:c,height:u}=d;if(s.boxSizing==="content-box"){const f=un(s,"border","width"),g=un(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=Er(Math.min(c,a,d.maxWidth)),u=Er(Math.min(u,l,d.maxHeight)),c&&!u&&(u=Er(c/2)),(e!==void 0||r!==void 0)&&n&&d.height&&u>d.height&&(u=d.height,c=Er(Math.floor(u*n))),{width:c,height:u}}function pm(t,e,r){const n=e||1,s=Er(t.height*n),i=Er(t.width*n);t.height=Er(t.height),t.width=Er(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=n,a.height=s,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const cS=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ku()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function xm(t,e){const r=sS(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function tn(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function uS(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function hS(t,e,r,n){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=tn(t,s,r),l=tn(s,i,r),d=tn(i,e,r),c=tn(a,l,r),u=tn(l,d,r);return tn(c,u,r)}const fS=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},mS=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Jn(t,e,r){return t?fS(e,r):mS()}function iy(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function ay(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function oy(t){return t==="angle"?{between:Ti,compare:f2,normalize:pt}:{between:dr,compare:(e,r)=>e-r,normalize:e=>e}}function ym({start:t,end:e,count:r,loop:n,style:s}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:s}}function gS(t,e,r){const{property:n,start:s,end:i}=r,{between:a,normalize:l}=oy(n),d=e.length;let{start:c,end:u,loop:h}=t,f,g;if(h){for(c+=d,u+=d,f=0,g=d;f<g&&a(l(e[c%d][n]),s,i);++f)c--,u--;c%=d,u%=d}return u<c&&(u+=d),{start:c,end:u,loop:h,style:t.style}}function ly(t,e,r){if(!r)return[t];const{property:n,start:s,end:i}=r,a=e.length,{compare:l,between:d,normalize:c}=oy(n),{start:u,end:h,loop:f,style:g}=gS(t,e,r),m=[];let p=!1,x=null,y,v,b;const k=()=>d(s,b,y)&&l(s,b)!==0,N=()=>l(i,y)===0||d(i,b,y),j=()=>p||k(),w=()=>!p||N();for(let _=u,E=u;_<=h;++_)v=e[_%a],!v.skip&&(y=c(v[n]),y!==b&&(p=d(y,s,i),x===null&&j()&&(x=l(y,s)===0?_:E),x!==null&&w()&&(m.push(ym({start:x,end:_,loop:f,count:a,style:g})),x=null),E=_,b=y));return x!==null&&m.push(ym({start:x,end:h,loop:f,count:a,style:g})),m}function dy(t,e){const r=[],n=t.segments;for(let s=0;s<n.length;s++){const i=ly(n[s],t.points,e);i.length&&r.push(...i)}return r}function pS(t,e,r,n){let s=0,i=e-1;if(r&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,r&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function xS(t,e,r,n){const s=t.length,i=[];let a=e,l=t[e],d;for(d=e+1;d<=r;++d){const c=t[d%s];c.skip||c.stop?l.skip||(n=!1,i.push({start:e%s,end:(d-1)%s,loop:n}),e=a=c.stop?d:null):(a=d,l.skip&&(e=d)),l=c}return a!==null&&i.push({start:e%s,end:a%s,loop:n}),i}function yS(t,e){const r=t.points,n=t.options.spanGaps,s=r.length;if(!s)return[];const i=!!t._loop,{start:a,end:l}=pS(r,s,i,n);if(n===!0)return bm(t,[{start:a,end:l,loop:i}],r,e);const d=l<a?l+s:l,c=!!t._fullLoop&&a===0&&l===s-1;return bm(t,xS(r,a,d,c),r,e)}function bm(t,e,r,n){return!n||!n.setContext||!r?e:bS(t,e,r,n)}function bS(t,e,r,n){const s=t._chart.getContext(),i=vm(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,d=r.length,c=[];let u=i,h=e[0].start,f=h;function g(m,p,x,y){const v=l?-1:1;if(m!==p){for(m+=d;r[m%d].skip;)m-=v;for(;r[p%d].skip;)p+=v;m%d!==p%d&&(c.push({start:m%d,end:p%d,loop:x,style:y}),u=y,h=p%d)}}for(const m of e){h=l?h:m.start;let p=r[h%d],x;for(f=h+1;f<=m.end;f++){const y=r[f%d];x=vm(n.setContext(Sn(s,{type:"segment",p0:p,p1:y,p0DataIndex:(f-1)%d,p1DataIndex:f%d,datasetIndex:a}))),vS(x,u)&&g(h,f-1,m.loop,u),p=y,u=x}h<f-1&&g(h,f-1,m.loop,u)}return c}function vm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vS(t,e){if(!e)return!1;const r=[],n=function(s,i){return $u(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function va(t,e,r){return t.options.clip?t[r]:e[r]}function wS(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:va(r,e,"left"),right:va(r,e,"right"),top:va(n,e,"top"),bottom:va(n,e,"bottom")}:e}function cy(t,e){const r=e._clip;if(r.disabled)return!1;const n=wS(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Xx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,l=!1,d;for(;a>=0;--a)d=i[a],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tr=new kS;const wm="transparent",jS={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=cm(t||wm),s=n.valid&&cm(e||wm);return s&&s.valid?s.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class NS{constructor(e,r,n,s){const i=r[n];s=ya([e.to,s,i,e.from]);const a=ya([e.from,i,s]);this._active=!0,this._fn=e.fn||jS[e.type||typeof a],this._easing=ti[e.easing]||ti.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ya([e.to,r,s,e.from]),this._from=ya([e.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,l=this._to;let d;if(this._active=i!==l&&(a||r<n),!this._active){this._target[s]=l,this._notify(!0);return}if(r<0){this._target[s]=i;return}d=r/n%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(i,l,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class uy{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!oe(e))return;const r=Object.keys(_e.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!oe(i))return;const a={};for(const l of r)a[l]=i[l];(Re(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,r){const n=r.options,s=_S(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&SS(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(r),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const c=a[d];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,r));continue}const u=r[c];let h=i[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=h=new NS(f,e,c,u),s.push(h)}return s}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return tr.add(this._chart,n),!0}}function SS(t,e){const r=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const i=t[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function _S(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function km(t,e){const r=t&&t.options||{},n=r.reverse,s=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:s,end:n?s:i}}function CS(t,e,r){if(r===!1)return!1;const n=km(t,r),s=km(e,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function ES(t){let e,r,n,s;return oe(t)?(e=t.top,r=t.right,n=t.bottom,s=t.left):e=r=n=s=t,{top:e,right:r,bottom:n,left:s,disabled:t===!1}}function hy(t,e){const r=[],n=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function jm(t,e,r,n={}){const s=t.keys,i=n.mode==="single";let a,l,d,c;if(e===null)return;let u=!1;for(a=0,l=s.length;a<l;++a){if(d=+s[a],d===r){if(u=!0,n.all)continue;break}c=t.values[d],Qe(c)&&(i||e===0||Qt(e)===Qt(c))&&(e+=c)}return!u&&!n.all?0:e}function PS(t,e){const{iScale:r,vScale:n}=e,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let d,c,u;for(d=0,c=a.length;d<c;++d)u=a[d],l[d]={[s]:u,[i]:t[u]};return l}function Zl(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function RS(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function TS(t){const{min:e,max:r,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function AS(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function Nm(t,e,r,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const i=t[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function Sm(t,e){const{chart:r,_cachedMeta:n}=t,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:l}=n,d=i.axis,c=a.axis,u=RS(i,a,n),h=e.length;let f;for(let g=0;g<h;++g){const m=e[g],{[d]:p,[c]:x}=m,y=m._stacks||(m._stacks={});f=y[c]=AS(s,u,p),f[l]=x,f._top=Nm(f,a,!0,n.type),f._bottom=Nm(f,a,!1,n.type);const v=f._visualValues||(f._visualValues={});v[l]=x}}function ed(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function OS(t,e){return Sn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function LS(t,e,r){return Sn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Ps(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const td=t=>t==="reset"||t==="none",_m=(t,e)=>e?t:Object.assign({},t),DS=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:hy(r,!0),values:null};class hn{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Zl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ps(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(h,f,g,m)=>h==="x"?f:h==="r"?m:g,i=r.xAxisID=te(n.xAxisID,ed(e,"x")),a=r.yAxisID=te(n.yAxisID,ed(e,"y")),l=r.rAxisID=te(n.rAxisID,ed(e,"r")),d=r.indexAxis,c=r.iAxisID=s(d,i,a,l),u=r.vAxisID=s(d,a,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&om(this._data,this),e._stacked&&Ps(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(oe(r)){const s=this._cachedMeta;this._data=PS(r,s)}else if(n!==r){if(n){om(n,this);const s=this._cachedMeta;Ps(s),s._parsed=[]}r&&Object.isExtensible(r)&&x2(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=Zl(r.vScale,r),r.stack!==n.stack&&(s=!0,Ps(r),r.stack=n.stack),this._resyncElements(e),(s||i!==r._stacked)&&(Sm(this,r._parsed),r._stacked=Zl(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,l=i.axis;let d=e===0&&r===s.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{Re(s[e])?f=this.parseArrayData(n,s,e,r):oe(s[e])?f=this.parseObjectData(n,s,e,r):f=this.parsePrimitiveData(n,s,e,r);const g=()=>h[l]===null||c&&h[l]<c[l];for(u=0;u<r;++u)n._parsed[u+e]=h=f[u],d&&(g()&&(d=!1),c=h);n._sorted=d}a&&Sm(this,f)}parsePrimitiveData(e,r,n,s){const{iScale:i,vScale:a}=e,l=i.axis,d=a.axis,c=i.getLabels(),u=i===a,h=new Array(s);let f,g,m;for(f=0,g=s;f<g;++f)m=f+n,h[f]={[l]:u||i.parse(c[m],m),[d]:a.parse(r[m],m)};return h}parseArrayData(e,r,n,s){const{xScale:i,yScale:a}=e,l=new Array(s);let d,c,u,h;for(d=0,c=s;d<c;++d)u=d+n,h=r[u],l[d]={x:i.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(e,r,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=new Array(s);let u,h,f,g;for(u=0,h=s;u<h;++u)f=u+n,g=r[f],c[u]={x:i.parse(vn(g,l),f),y:a.parse(vn(g,d),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const s=this.chart,i=this._cachedMeta,a=r[e.axis],l={keys:hy(s,!0),values:r._stacks[e.axis]._visualValues};return jm(l,a,i.index,{mode:n})}updateRangeFromParsed(e,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const l=s&&n._stacks[r.axis];s&&l&&(s.values=l,a=jm(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,l=this._getOtherScale(e),d=DS(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=TS(l);let f,g;function m(){g=s[f];const p=g[l.axis];return!Qe(g[e.axis])||u>p||h<p}for(f=0;f<a&&!(!m()&&(this.updateRangeFromParsed(c,e,g,d),i));++f);if(i){for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,g,d);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][e.axis],Qe(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=ES(te(this.options.clip,CS(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],l=this._drawStart||0,d=this._drawCount||s.length-l,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,d),u=l;u<l+d;++u){const h=s[u];h.hidden||(h.active&&c?a.push(h):h.draw(e,i))}for(u=0;u<a.length;++u)a[u].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=LS(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=OS(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=e+"-"+r,l=i[a],d=this.enableOptionSharing&&Pi(n);if(l)return _m(l,d);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(_e.elements[e]),m=()=>this.getContext(n,s,r),p=c.resolveNamedOptions(f,g,m,h);return p.$shared&&(p.$shared=d,i[a]=Object.freeze(_m(p,d))),p}_resolveAnimations(e,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,l=i[a];if(l)return l;let d;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);d=u.createResolver(f,this.getContext(e,n,r))}const c=new uy(s,d&&d.animations);return d&&d._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||td(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(e,r,n,s){td(s)?Object.assign(e,n):this._resolveAnimations(r,s).update(e,n)}updateSharedOptions(e,r,n){e&&!td(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,s){e.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,d,c]of this._syncList)this[l](d,c);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,r,n=!0){const s=this._cachedMeta,i=s.data,a=e+r;let l;const d=c=>{for(c.length+=r,l=c.length-1;l>=a;l--)c[l]=c[l-r]};for(d(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,s){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,r);n._stacked&&Ps(n,s)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,s]=e;this[r](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(hn,"defaults",{}),G(hn,"datasetElementType",null),G(hn,"dataElementType",null);function MS(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(t));t._cache.$bar=Yx(n.sort((s,i)=>s-i))}return t._cache.$bar}function IS(t){const e=t.iScale,r=MS(e,t.type);let n=e._length,s,i,a,l;const d=()=>{a===32767||a===-32768||(Pi(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(s=0,i=r.length;s<i;++s)a=e.getPixelForValue(r[s]),d();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),d();return n}function FS(t,e,r,n){const s=r.barThickness;let i,a;return ce(s)?(i=e.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function zS(t,e,r,n){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const d=r.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const c=i-(i-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/n,ratio:r.barPercentage,start:c}}function BS(t,e,r,n){const s=r.parse(t[0],n),i=r.parse(t[1],n),a=Math.min(s,i),l=Math.max(s,i);let d=a,c=l;Math.abs(a)>Math.abs(l)&&(d=l,c=a),e[r.axis]=c,e._custom={barStart:d,barEnd:c,start:s,end:i,min:a,max:l}}function fy(t,e,r,n){return Re(t)?BS(t,e,r,n):e[r.axis]=r.parse(t,n),e}function Cm(t,e,r,n){const s=t.iScale,i=t.vScale,a=s.getLabels(),l=s===i,d=[];let c,u,h,f;for(c=r,u=r+n;c<u;++c)f=e[c],h={},h[s.axis]=l||s.parse(a[c],c),d.push(fy(f,h,i,c));return d}function rd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function $S(t,e,r){return t!==0?Qt(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function US(t){let e,r,n,s,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:e,top:s,bottom:i}}function HS(t,e,r,n){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:d,top:c,bottom:u}=US(t);s==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?s=c:(r._bottom||0)===n?s=u:(i[Em(u,a,l,d)]=!0,s=c)),i[Em(s,a,l,d)]=!0,t.borderSkipped=i}function Em(t,e,r,n){return n?(t=VS(t,e,r),t=Pm(t,r,e)):t=Pm(t,e,r),t}function VS(t,e,r){return t===e?r:t===r?e:t}function Pm(t,e,r){return t==="start"?e:t==="end"?r:t}function WS(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Ua extends hn{parsePrimitiveData(e,r,n,s){return Cm(e,r,n,s)}parseArrayData(e,r,n,s){return Cm(e,r,n,s)}parseObjectData(e,r,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:d="y"}=this._parsing,c=i.axis==="x"?l:d,u=a.axis==="x"?l:d,h=[];let f,g,m,p;for(f=n,g=n+s;f<g;++f)p=r[f],m={},m[i.axis]=i.parse(vn(p,c),f),h.push(fy(vn(p,u),m,a,f));return h}updateRangeFromParsed(e,r,n,s){super.updateRangeFromParsed(e,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(e),a=i._custom,l=rd(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,d=l.getBasePixel(),c=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s);for(let g=r;g<r+n;g++){const m=this.getParsed(g),p=i||ce(m[l.axis])?{base:d,head:d}:this._calculateBarValuePixels(g),x=this._calculateBarIndexPixels(g,u),y=(m._stacks||{})[l.axis],v={horizontal:c,base:p.base,enableBorderRadius:!y||rd(m._custom)||a===y._top||a===y._bottom,x:c?p.head:x.center,y:c?x.center:p.head,height:c?x.size:Math.abs(p.size),width:c?Math.abs(p.size):x.size};f&&(v.options=h||this.resolveDataElementOptions(g,e[g].active?"active":s));const b=v.options||e[g].options;HS(v,b,y,a),WS(v,b,u.ratio),this.updateElement(e[g],g,v,s)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(r),d=l&&l[n.axis],c=u=>{const h=u._parsed.find(g=>g[n.axis]===d),f=h&&h[u.vScale.axis];if(ce(f)||isNaN(f))return!0};for(const u of s)if(!(r!==void 0&&c(u))&&((i===!1||a.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[te(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const s=this._getStacks(e,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||IS(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,l=i||0,d=this.getParsed(e),c=d._custom,u=rd(c);let h=d[r.axis],f=0,g=n?this.applyStack(r,d,n):h,m,p;g!==h&&(f=g-h,g=h),u&&(h=c.barStart,g=c.barEnd-c.barStart,h!==0&&Qt(h)!==Qt(c.barEnd)&&(f=0),f+=h);const x=!ce(i)&&!u?i:f;let y=r.getPixelForValue(x);if(this.chart.getDataVisibility(e)?m=r.getPixelForValue(f+g):m=y,p=m-y,Math.abs(p)<a){p=$S(p,r,l)*a,h===l&&(y-=p/2);const v=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),k=Math.min(v,b),N=Math.max(v,b);y=Math.max(Math.min(y,N),k),m=y+p,n&&!u&&(d._stacks[r.axis]._visualValues[s]=r.getValueForPixel(m)-r.getValueForPixel(y))}if(y===r.getPixelForValue(l)){const v=Qt(p)*r.getLineWidthForValue(l)/2;y+=v,p-=v}return{size:p,base:y,head:m,center:m+p/2}}_calculateBarIndexPixels(e,r){const n=r.scale,s=this.options,i=s.skipNull,a=te(s.maxBarThickness,1/0);let l,d;const c=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,h=s.barThickness==="flex"?zS(e,r,s,u*c):FS(e,r,s,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(te(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=h.start+h.chunk*m+h.chunk/2,d=Math.min(a,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),d=Math.min(a,r.min*r.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}G(Ua,"id","bar"),G(Ua,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),G(Ua,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function qS(t,e,r){let n=1,s=1,i=0,a=0;if(e<we){const l=t,d=l+e,c=Math.cos(l),u=Math.sin(l),h=Math.cos(d),f=Math.sin(d),g=(b,k,N)=>Ti(b,l,d,!0)?1:Math.max(k,k*r,N,N*r),m=(b,k,N)=>Ti(b,l,d,!0)?-1:Math.min(k,k*r,N,N*r),p=g(0,c,h),x=g(Le,u,f),y=m(he,c,h),v=m(he+Le,u,f);n=(p-y)/2,s=(x-v)/2,i=-(p+y)/2,a=-(x+v)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:a}}class zs extends hn{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=d=>+n[d];if(oe(n[e])){const{key:d="value"}=this._parsing;i=c=>+vn(n[c],d)}let a,l;for(a=e,l=e+r;a<l;++a)s._parsed[a]=i(a)}}_getRotation(){return lr(this.options.rotation-90)}_getCircumference(){return lr(this.options.circumference)}_getRotationExtents(){let e=we,r=-we;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),r=Math.max(r,i+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),d=Math.min(e2(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:m,offsetY:p}=qS(h,u,d),x=(n.width-a)/f,y=(n.height-a)/g,v=Math.max(Math.min(x,y)/2,0),b=Hx(this.options.radius,v),k=Math.max(b*d,0),N=(b-k)/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=p*b,s.total=this.calculateTotal(),this.outerRadius=b-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/we)}updateElements(e,r,n,s){const i=s==="reset",a=this.chart,l=a.chartArea,c=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&c.animateScale,g=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(r,s);let y=this._getRotation(),v;for(v=0;v<r;++v)y+=this._circumference(v,i);for(v=r;v<r+n;++v){const b=this._circumference(v,i),k=e[v],N={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:m,innerRadius:g};x&&(N.options=p||this.resolveDataElementOptions(v,k.active?"active":s)),y+=b,this.updateElement(k,v,N,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,s;for(s=0;s<r.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?we*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=Uu(r._parsed[e],n.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let s,i,a,l,d;if(!e){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)d=l.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(r=Math.max(r,d.borderWidth||0,d.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,s=e.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}G(zs,"id","doughnut"),G(zs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),G(zs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),G(zs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((d,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:d,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(c),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:n,borderRadius:a&&(l||h.borderRadius),index:c}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Ha extends hn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:l,count:d}=v2(r,s,a);this._drawStart=l,this._drawCount=d,w2(r)&&(l=0,d=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(s,l,d,e)}updateElements(e,r,n,s){const i=s==="reset",{iScale:a,vScale:l,_stacked:d,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,s),f=a.axis,g=l.axis,{spanGaps:m,segment:p}=this.options,x=Ri(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",v=r+n,b=e.length;let k=r>0&&this.getParsed(r-1);for(let N=0;N<b;++N){const j=e[N],w=y?j:{};if(N<r||N>=v){w.skip=!0;continue}const _=this.getParsed(N),E=ce(_[g]),C=w[f]=a.getPixelForValue(_[f],N),T=w[g]=i||E?l.getBasePixel():l.getPixelForValue(d?this.applyStack(l,_,d):_[g],N);w.skip=isNaN(C)||isNaN(T)||E,w.stop=N>0&&Math.abs(_[f]-k[f])>x,p&&(w.parsed=_,w.raw=c.data[N]),h&&(w.options=u||this.resolveDataElementOptions(N,j.active?"active":s)),y||this.updateElement(j,N,w,s),k=_}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}G(Ha,"id","line"),G(Ha,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),G(Ha,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Qr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xu{constructor(e){G(this,"options");this.options=e||{}}static override(e){Object.assign(Xu.prototype,e)}init(){}formats(){return Qr()}parse(){return Qr()}format(){return Qr()}add(){return Qr()}diff(){return Qr()}startOf(){return Qr()}endOf(){return Qr()}}var KS={_date:Xu};function YS(t,e,r,n){const{controller:s,data:i,_sorted:a}=t,l=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const c=l._reversePixels?g2:on;if(n){if(s._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=c(i,e,r-h),g=c(i,e,r+h);return{lo:f.lo,hi:g.hi}}}}else{const u=c(i,e,r);if(d){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,g=f.slice(0,u.lo+1).reverse().findIndex(p=>!ce(p[h.axis]));u.lo-=Math.max(0,g);const m=f.slice(u.hi).findIndex(p=>!ce(p[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function ul(t,e,r,n,s){const i=t.getSortedVisibleDatasetMetas(),a=r[e];for(let l=0,d=i.length;l<d;++l){const{index:c,data:u}=i[l],{lo:h,hi:f}=YS(i[l],e,a,s);for(let g=h;g<=f;++g){const m=u[g];m.skip||n(m,c,g)}}}function XS(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,s){const i=e?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function nd(t,e,r,n,s){const i=[];return!s&&!t.isPointInArea(e)||ul(t,r,e,function(l,d,c){!s&&!Ai(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:d,index:c})},!0),i}function GS(t,e,r,n){let s=[];function i(a,l,d){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:h}=qx(a,{x:e.x,y:e.y});Ti(h,c,u)&&s.push({element:a,datasetIndex:l,index:d})}return ul(t,r,e,i),s}function QS(t,e,r,n,s,i){let a=[];const l=XS(r);let d=Number.POSITIVE_INFINITY;function c(u,h,f){const g=u.inRange(e.x,e.y,s);if(n&&!g)return;const m=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(m))&&!g)return;const x=l(e,m);x<d?(a=[{element:u,datasetIndex:h,index:f}],d=x):x===d&&a.push({element:u,datasetIndex:h,index:f})}return ul(t,r,e,c),a}function sd(t,e,r,n,s,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?GS(t,e,r,s):QS(t,e,r,n,s,i)}function Rm(t,e,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let l=!1;return ul(t,r,e,(d,c,u)=>{d[a]&&d[a](e[r],s)&&(i.push({element:d,datasetIndex:c,index:u}),l=l||d.inRange(e.x,e.y,s))}),n&&!l?[]:i}var JS={modes:{index(t,e,r,n){const s=en(e,t),i=r.axis||"x",a=r.includeInvisible||!1,l=r.intersect?nd(t,s,i,n,a):sd(t,s,i,!1,n,a),d=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,h=c.data[u];h&&!h.skip&&d.push({element:h,datasetIndex:c.index,index:u})}),d):[]},dataset(t,e,r,n){const s=en(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;let l=r.intersect?nd(t,s,i,n,a):sd(t,s,i,!1,n,a);if(l.length>0){const d=l[0].datasetIndex,c=t.getDatasetMeta(d).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:d,index:u})}return l},point(t,e,r,n){const s=en(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return nd(t,s,i,n,a)},nearest(t,e,r,n){const s=en(e,t),i=r.axis||"xy",a=r.includeInvisible||!1;return sd(t,s,i,r.intersect,n,a)},x(t,e,r,n){const s=en(e,t);return Rm(t,s,"x",r.intersect,n)},y(t,e,r,n){const s=en(e,t);return Rm(t,s,"y",r.intersect,n)}}};const my=["left","top","right","bottom"];function Rs(t,e){return t.filter(r=>r.pos===e)}function Tm(t,e){return t.filter(r=>my.indexOf(r.pos)===-1&&r.box.axis===e)}function Ts(t,e){return t.sort((r,n)=>{const s=e?n:r,i=e?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function ZS(t){const e=[];let r,n,s,i,a,l;for(r=0,n=(t||[]).length;r<n;++r)s=t[r],{position:i,options:{stack:a,stackWeight:l=1}}=s,e.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:l});return e}function e_(t){const e={};for(const r of t){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!my.includes(s))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function t_(t,e){const r=e_(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:d}=l.box,c=r[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*n:d&&e.availableWidth,l.height=s):(l.width=n,l.height=u?u*s:d&&e.availableHeight)}return r}function r_(t){const e=ZS(t),r=Ts(e.filter(c=>c.box.fullSize),!0),n=Ts(Rs(e,"left"),!0),s=Ts(Rs(e,"right")),i=Ts(Rs(e,"top"),!0),a=Ts(Rs(e,"bottom")),l=Tm(e,"x"),d=Tm(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(d).concat(a).concat(l),chartArea:Rs(e,"chartArea"),vertical:n.concat(s).concat(d),horizontal:i.concat(a).concat(l)}}function Am(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function gy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function n_(t,e,r,n){const{pos:s,box:i}=r,a=t.maxPadding;if(!oe(s)){r.size&&(t[s]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[s]+=r.size}i.getPadding&&gy(a,i.getPadding());const l=Math.max(0,e.outerWidth-Am(a,t,"left","right")),d=Math.max(0,e.outerHeight-Am(a,t,"top","bottom")),c=l!==t.w,u=d!==t.h;return t.w=l,t.h=d,r.horizontal?{same:c,other:u}:{same:u,other:c}}function s_(t){const e=t.maxPadding;function r(n){const s=Math.max(e[n]-t[n],0);return t[n]+=s,s}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function i_(t,e){const r=e.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],r[a])}),i}return n(t?["left","right"]:["top","bottom"])}function Bs(t,e,r,n){const s=[];let i,a,l,d,c,u;for(i=0,a=t.length,c=0;i<a;++i){l=t[i],d=l.box,d.update(l.width||e.w,l.height||e.h,i_(l.horizontal,e));const{same:h,other:f}=n_(e,r,l,n);c|=h&&s.length,u=u||f,d.fullSize||s.push(l)}return c&&Bs(s,e,r,n)||u}function wa(t,e,r,n,s){t.top=r,t.left=e,t.right=e+n,t.bottom=r+s,t.width=n,t.height=s}function Om(t,e,r,n){const s=r.padding;let{x:i,y:a}=e;for(const l of t){const d=l.box,c=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const h=e.w*u,f=c.size||d.height;Pi(c.start)&&(a=c.start),d.fullSize?wa(d,s.left,a,r.outerWidth-s.right-s.left,f):wa(d,e.left+c.placed,a,h,f),c.start=a,c.placed+=h,a=d.bottom}else{const h=e.h*u,f=c.size||d.width;Pi(c.start)&&(i=c.start),d.fullSize?wa(d,i,s.top,f,r.outerHeight-s.bottom-s.top):wa(d,i,e.top+c.placed,f,h),c.start=i,c.placed+=h,i=d.right}}e.x=i,e.y=a}var _t={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const s=Rt(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(r-s.height,0),l=r_(t.boxes),d=l.vertical,c=l.horizontal;ue(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=d.reduce((p,x)=>x.box.options&&x.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},s);gy(f,Rt(n));const g=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),m=t_(d.concat(c),h);Bs(l.fullSize,g,h,m),Bs(d,g,h,m),Bs(c,g,h,m)&&Bs(d,g,h,m),s_(g),Om(l.leftAndTop,g,h,m),g.x+=g.w,g.y+=g.h,Om(l.rightAndBottom,g,h,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ue(l.chartArea,p=>{const x=p.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class py{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,s){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(e){return!0}updateConfig(e){}}class a_ extends py{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Va="$chartjs",o_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lm=t=>t===null||t==="";function l_(t,e){const r=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[Va]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Lm(s)){const i=xm(t,"width");i!==void 0&&(t.width=i)}if(Lm(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=xm(t,"height");i!==void 0&&(t.height=i)}return t}const xy=cS?{passive:!0}:!1;function d_(t,e,r){t&&t.addEventListener(e,r,xy)}function c_(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,xy)}function u_(t,e){const r=o_[t.type]||t.type,{x:n,y:s}=en(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Po(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function h_(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Po(l.addedNodes,n),a=a&&!Po(l.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function f_(t,e,r){const n=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||Po(l.removedNodes,n),a=a&&!Po(l.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Li=new Map;let Dm=0;function yy(){const t=window.devicePixelRatio;t!==Dm&&(Dm=t,Li.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function m_(t,e){Li.size||window.addEventListener("resize",yy),Li.set(t,e)}function g_(t){Li.delete(t),Li.size||window.removeEventListener("resize",yy)}function p_(t,e,r){const n=t.canvas,s=n&&Yu(n);if(!s)return;const i=Gx((l,d)=>{const c=s.clientWidth;r(l,d),c<s.clientWidth&&r()},window),a=new ResizeObserver(l=>{const d=l[0],c=d.contentRect.width,u=d.contentRect.height;c===0&&u===0||i(c,u)});return a.observe(s),m_(t,i),a}function id(t,e,r){r&&r.disconnect(),e==="resize"&&g_(t)}function x_(t,e,r){const n=t.canvas,s=Gx(i=>{t.ctx!==null&&r(u_(i,t))},t);return d_(n,e,s),s}class y_ extends py{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(l_(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Va])return!1;const n=r[Va].initial;["height","width"].forEach(i=>{const a=n[i];ce(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[Va],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const s=e.$proxies||(e.$proxies={}),a={attach:h_,detach:f_,resize:p_}[r]||x_;s[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),s=n[r];if(!s)return;({attach:id,detach:id,resize:id}[r]||c_)(e,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,s){return dS(e,r,n,s)}isAttached(e){const r=e&&Yu(e);return!!(r&&r.isConnected)}}function b_(t){return!Ku()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?a_:y_}class Ft{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Ri(this.x)&&Ri(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const s={};return e.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}}G(Ft,"defaults",{}),G(Ft,"defaultRoutes");function v_(t,e){const r=t.options.ticks,n=w_(t),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?j_(e):[],a=i.length,l=i[0],d=i[a-1],c=[];if(a>s)return N_(e,c,i,a/s),c;const u=k_(i,e,s);if(a>0){let h,f;const g=a>1?Math.round((d-l)/(a-1)):null;for(ka(e,c,u,ce(g)?0:l-g,l),h=0,f=a-1;h<f;h++)ka(e,c,u,i[h],i[h+1]);return ka(e,c,u,d,ce(g)?e.length:d+g),c}return ka(e,c,u),c}function w_(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),s=t._maxLength/r;return Math.floor(Math.min(n,s))}function k_(t,e,r){const n=S_(t),s=e.length/r;if(!n)return Math.max(s,1);const i=l2(n);for(let a=0,l=i.length-1;a<l;a++){const d=i[a];if(d>s)return d}return Math.max(s,1)}function j_(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function N_(t,e,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=r[s*n])}function ka(t,e,r,n,s){const i=te(n,0),a=Math.min(te(s,t.length),t.length);let l=0,d,c,u;for(r=Math.ceil(r),s&&(d=s-n,r=d/Math.floor(d/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(c=Math.max(i,0);c<a;c++)c===u&&(e.push(t[c]),l++,u=Math.round(i+l*r))}function S_(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const __=t=>t==="left"?"right":t==="right"?"left":t,Mm=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Im=(t,e)=>Math.min(e||t,t);function Fm(t,e){const r=[],n=t.length/e,s=t.length;let i=0;for(;i<s;i+=n)r.push(t[Math.floor(i)]);return r}function C_(t,e,r){const n=t.ticks.length,s=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,l=1e-6;let d=t.getPixelForTick(s),c;if(!(r&&(n===1?c=Math.max(d-i,a-d):e===0?c=(t.getPixelForTick(1)-d)/2:c=(d-t.getPixelForTick(s-1))/2,d+=s<e?c:-c,d<i-l||d>a+l)))return d}function E_(t,e){ue(t,r=>{const n=r.gc,s=n.length/2;let i;if(s>e){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function As(t){return t.drawTicks?t.tickLength:0}function zm(t,e){if(!t.display)return 0;const r=Xe(t.font,e),n=Rt(t.padding);return(Re(t.text)?t.text.length:1)*r.lineHeight+n.height}function P_(t,e){return Sn(t,{scale:e,type:"scale"})}function R_(t,e,r){return Sn(t,{tick:r,index:e,type:"tick"})}function T_(t,e,r){let n=Bu(t);return(r&&e!=="right"||!r&&e==="right")&&(n=__(n)),n}function A_(t,e,r,n){const{top:s,left:i,bottom:a,right:l,chart:d}=t,{chartArea:c,scales:u}=d;let h=0,f,g,m;const p=a-s,x=l-i;if(t.isHorizontal()){if(g=We(n,i,l),oe(r)){const y=Object.keys(r)[0],v=r[y];m=u[y].getPixelForValue(v)+p-e}else r==="center"?m=(c.bottom+c.top)/2+p-e:m=Mm(t,r,e);f=l-i}else{if(oe(r)){const y=Object.keys(r)[0],v=r[y];g=u[y].getPixelForValue(v)-x+e}else r==="center"?g=(c.left+c.right)/2-x+e:g=Mm(t,r,e);m=We(n,a,s),h=r==="left"?-Le:Le}return{titleX:g,titleY:m,maxWidth:f,rotation:h}}class ys extends Ft{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return e=Ht(e,Number.POSITIVE_INFINITY),r=Ht(r,Number.NEGATIVE_INFINITY),n=Ht(n,Number.POSITIVE_INFINITY),s=Ht(s,Number.NEGATIVE_INFINITY),{min:Ht(e,n),max:Ht(r,s),minDefined:Qe(e),maxDefined:Qe(r)}}getMinMax(e){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let d=0,c=l.length;d<c;++d)a=l[d].controller.getMinMax(this,e),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:Ht(r,Ht(n,r)),max:Ht(n,Ht(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$2(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?Fm(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=v_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=xe(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Im(this.ticks.length,e.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,l,d,c;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,g=Ye(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),h+6>l&&(l=g/(n-(e.offset?.5:1)),d=this.maxHeight-As(e.grid)-r.padding-zm(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),a=h2(Math.min(Math.asin(Ye((u.highest.height+6)/l,-1,1)),Math.asin(Ye(d/c,-1,1))-Math.asin(Ye(f/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=zm(s,r.options.font);if(l?(e.width=this.maxWidth,e.height=As(i)+d):(e.height=this.maxHeight,e.width=As(i)+d),n.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),g=n.padding*2,m=lr(this.labelRotation),p=Math.cos(m),x=Math.sin(m);if(l){const y=n.mirror?0:x*h.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+y+g)}else{const y=n.mirror?0:p*h.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+y+g)}this._calculatePadding(c,u,x,p)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,s){const{ticks:{align:i,padding:a},position:l}=this.options,d=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;d?c?(f=s*e.width,g=n*r.height):(f=n*e.height,g=s*r.width):i==="start"?g=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=r.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+a)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ce(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Fm(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],l=[],d=Math.floor(r/Im(r,n));let c=0,u=0,h,f,g,m,p,x,y,v,b,k,N;for(h=0;h<r;h+=d){if(m=e[h].label,p=this._resolveTickFontOptions(h),s.font=x=p.string,y=i[x]=i[x]||{data:{},gc:[]},v=p.lineHeight,b=k=0,!ce(m)&&!Re(m))b=hm(s,y.data,y.gc,b,m),k=v;else if(Re(m))for(f=0,g=m.length;f<g;++f)N=m[f],!ce(N)&&!Re(N)&&(b=hm(s,y.data,y.gc,b,N),k+=v);a.push(b),l.push(k),c=Math.max(b,c),u=Math.max(k,u)}E_(i,r);const j=a.indexOf(c),w=l.indexOf(u),_=E=>({width:a[E]||0,height:l[E]||0});return{first:_(0),last:_(r-1),widest:_(j),highest:_(w),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return m2(this._alignToPixels?Gr(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=R_(this.getContext(),e,n))}return this.$context||(this.$context=P_(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=lr(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,d=i?i.highest.height+a:0;return this.isHorizontal()?d*n>l*s?l/n:d/s:d*s<l*n?d/n:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:l}=s,d=i.offset,c=this.isHorizontal(),h=this.ticks.length+(d?1:0),f=As(i),g=[],m=l.setContext(this.getContext()),p=m.display?m.width:0,x=p/2,y=function(L){return Gr(n,L,p)};let v,b,k,N,j,w,_,E,C,T,A,I;if(a==="top")v=y(this.bottom),w=this.bottom-f,E=v-x,T=y(e.top)+x,I=e.bottom;else if(a==="bottom")v=y(this.top),T=e.top,I=y(e.bottom)-x,w=v+x,E=this.top+f;else if(a==="left")v=y(this.right),j=this.right-f,_=v-x,C=y(e.left)+x,A=e.right;else if(a==="right")v=y(this.left),C=e.left,A=y(e.right)-x,j=v+x,_=this.left+f;else if(r==="x"){if(a==="center")v=y((e.top+e.bottom)/2+.5);else if(oe(a)){const L=Object.keys(a)[0],W=a[L];v=y(this.chart.scales[L].getPixelForValue(W))}T=e.top,I=e.bottom,w=v+x,E=w+f}else if(r==="y"){if(a==="center")v=y((e.left+e.right)/2);else if(oe(a)){const L=Object.keys(a)[0],W=a[L];v=y(this.chart.scales[L].getPixelForValue(W))}j=v-x,_=j-f,C=e.left,A=e.right}const D=te(s.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/D));for(b=0;b<h;b+=V){const L=this.getContext(b),W=i.setContext(L),M=l.setContext(L),U=W.lineWidth,R=W.color,B=M.dash||[],F=M.dashOffset,X=W.tickWidth,Q=W.tickColor,ie=W.tickBorderDash||[],ne=W.tickBorderDashOffset;k=C_(this,b,d),k!==void 0&&(N=Gr(n,k,U),c?j=_=C=A=N:w=E=T=I=N,g.push({tx1:j,ty1:w,tx2:_,ty2:E,x1:C,y1:T,x2:A,y2:I,width:U,color:R,borderDash:B,borderDashOffset:F,tickWidth:X,tickColor:Q,tickBorderDash:ie,tickBorderDashOffset:ne}))}return this._ticksLength=h,this._borderValue=v,g}_computeLabelItems(e){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:c,padding:u,mirror:h}=i,f=As(n.grid),g=f+u,m=h?-u:g,p=-lr(this.labelRotation),x=[];let y,v,b,k,N,j,w,_,E,C,T,A,I="middle";if(s==="top")j=this.bottom-m,w=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+m,w=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(f);w=V.textAlign,N=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(f);w=V.textAlign,N=V.x}else if(r==="x"){if(s==="center")j=(e.top+e.bottom)/2+g;else if(oe(s)){const V=Object.keys(s)[0],L=s[V];j=this.chart.scales[V].getPixelForValue(L)+g}w=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")N=(e.left+e.right)/2-g;else if(oe(s)){const V=Object.keys(s)[0],L=s[V];N=this.chart.scales[V].getPixelForValue(L)}w=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(d==="start"?I="top":d==="end"&&(I="bottom"));const D=this._getLabelSizes();for(y=0,v=l.length;y<v;++y){b=l[y],k=b.label;const V=i.setContext(this.getContext(y));_=this.getPixelForTick(y)+i.labelOffset,E=this._resolveTickFontOptions(y),C=E.lineHeight,T=Re(k)?k.length:1;const L=T/2,W=V.color,M=V.textStrokeColor,U=V.textStrokeWidth;let R=w;a?(N=_,w==="inner"&&(y===v-1?R=this.options.reverse?"left":"right":y===0?R=this.options.reverse?"right":"left":R="center"),s==="top"?c==="near"||p!==0?A=-T*C+C/2:c==="center"?A=-D.highest.height/2-L*C+C:A=-D.highest.height+C/2:c==="near"||p!==0?A=C/2:c==="center"?A=D.highest.height/2-L*C:A=D.highest.height-T*C,h&&(A*=-1),p!==0&&!V.showLabelBackdrop&&(N+=C/2*Math.sin(p))):(j=_,A=(1-T)*C/2);let B;if(V.showLabelBackdrop){const F=Rt(V.backdropPadding),X=D.heights[y],Q=D.widths[y];let ie=A-F.top,ne=0-F.left;switch(I){case"middle":ie-=X/2;break;case"bottom":ie-=X;break}switch(w){case"center":ne-=Q/2;break;case"right":ne-=Q;break;case"inner":y===v-1?ne-=Q:y>0&&(ne-=Q/2);break}B={left:ne,top:ie,width:Q+F.width,height:X+F.height,color:V.backdropColor}}x.push({label:k,font:E,textOffset:A,options:{rotation:p,color:W,strokeColor:M,strokeWidth:U,textAlign:R,textBaseline:I,translation:[N,j],backdrop:B}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-lr(this.labelRotation))return e==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,d=a.widest.width;let c,u;return r==="left"?s?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=d/2):(c="right",u+=d)):(u=this.right-l,n==="near"?c="right":n==="center"?(c="center",u-=d/2):(c="left",u=this.left)):r==="right"?s?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=d/2):(c="left",u-=d)):(u=this.left+l,n==="near"?c="left":n==="center"?(c="center",u+=d/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(d,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const d=s[i];r.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Gr(e,this.left,a)-a/2,u=Gr(e,this.right,l)+l/2,h=f=d):(h=Gr(e,this.top,a)-a/2,f=Gr(e,this.bottom,l)+l/2,c=u=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(c,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&ll(n,s);const i=this.getLabelItems(e);for(const a of i){const l=a.options,d=a.font,c=a.label,u=a.textOffset;Oi(n,c,0,u,d,l)}s&&dl(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=Xe(n.font),a=Rt(n.padding),l=n.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||oe(r)?(d+=a.bottom,Re(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=a.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=A_(this,d,r,l);Oi(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:T_(l,r,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=te(e.grid&&e.grid.z,-1),s=te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ys.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const l=r[i];l[n]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Xe(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ja{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;D_(r)&&(n=this.register(r));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,O_(e,a,n),this.override&&_e.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,s=this.scope;n in r&&delete r[n],s&&n in _e[s]&&(delete _e[s][n],this.override&&delete wn[n])}}function O_(t,e,r){const n=Ei(Object.create(null),[r?_e.get(r):{},_e.get(e),t.defaults]);_e.set(e,n),t.defaultRoutes&&L_(e,t.defaultRoutes),t.descriptors&&_e.describe(e,t.descriptors)}function L_(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),s=n.pop(),i=[t].concat(n).join("."),a=e[r].split("."),l=a.pop(),d=a.join(".");_e.route(i,s,d,l)})}function D_(t){return"id"in t&&"defaults"in t}class M_{constructor(){this.controllers=new ja(hn,"datasets",!0),this.elements=new ja(Ft,"elements"),this.plugins=new ja(Object,"plugins"),this.scales=new ja(ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ue(s,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,r,n){const s=Fu(e);xe(n["before"+s],[],n),r[e](n),xe(n["after"+s],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const s=r.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var qt=new M_;class I_{constructor(){this._init=void 0}notify(e,r,n,s){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,n,s){s=s||{};for(const i of e){const a=i.plugin,l=a[n],d=[r,s,i.options];if(xe(l,d,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,s=te(n.options&&n.options.plugins,{}),i=F_(n);return s===!1&&!r?[]:B_(e,i,s,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(s(r,n),e,"stop"),this._notify(s(n,r),e,"start")}}function F_(t){const e={},r=[],n=Object.keys(qt.plugins.items);for(let i=0;i<n.length;i++)r.push(qt.getPlugin(n[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function z_(t,e){return!e&&t===!1?null:t===!0?{}:t}function B_(t,{plugins:e,localIds:r},n,s){const i=[],a=t.getContext();for(const l of e){const d=l.id,c=z_(n[d],s);c!==null&&i.push({plugin:l,options:$_(t.config,{plugin:l,local:r[d]},c,a)})}return i}function $_(t,{plugin:e,local:r},n,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wc(t,e){const r=_e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function U_(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function H_(t,e){return t===e?"_index_":"_value_"}function Bm(t){if(t==="x"||t==="y"||t==="r")return t}function V_(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function kc(t,...e){if(Bm(t))return t;for(const r of e){const n=r.axis||V_(r.position)||t.length>1&&Bm(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function $m(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function W_(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return $m(t,"x",r[0])||$m(t,"y",r[0])}return{}}function q_(t,e){const r=wn[t.type]||{scales:{}},n=e.scales||{},s=wc(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!oe(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const d=kc(a,l,W_(a,t),_e.scales[l.type]),c=H_(d,s),u=r.scales||{};i[a]=Zs(Object.create(null),[{axis:d},l,u[d],u[c]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,d=a.indexAxis||wc(l,e),u=(wn[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=U_(h,d),g=a[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),Zs(i[g],[{axis:f},n[g],u[h]])})}),Object.keys(i).forEach(a=>{const l=i[a];Zs(l,[_e.scales[l.type],_e.scale])}),i}function by(t){const e=t.options||(t.options={});e.plugins=te(e.plugins,{}),e.scales=q_(t,e)}function vy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function K_(t){return t=t||{},t.data=vy(t.data),by(t),t}const Um=new Map,wy=new Set;function Na(t,e){let r=Um.get(t);return r||(r=e(),Um.set(t,r),wy.add(r)),r}const Os=(t,e,r)=>{const n=vn(e,r);n!==void 0&&t.add(n)};class Y_{constructor(e){this._config=K_(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=vy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),by(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Na(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Na(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Na(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Na(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let s=n.get(e);return(!s||r)&&(s=new Map,n.set(e,s)),s}getOptionScopes(e,r,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),l=a.get(r);if(l)return l;const d=new Set;r.forEach(u=>{e&&(d.add(e),u.forEach(h=>Os(d,e,h))),u.forEach(h=>Os(d,s,h)),u.forEach(h=>Os(d,wn[i]||{},h)),u.forEach(h=>Os(d,_e,h)),u.forEach(h=>Os(d,bc,h))});const c=Array.from(d);return c.length===0&&c.push(Object.create(null)),wy.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,wn[r]||{},_e.datasets[r]||{},{type:r},_e,bc]}resolveNamedOptions(e,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=Hm(this._resolverCache,e,s);let d=a;if(G_(a,r)){i.$shared=!1,n=Hr(n)?n():n;const c=this.createResolver(e,n,l);d=ds(a,n,c)}for(const c of r)i[c]=d[c];return i}createResolver(e,r,n=[""],s){const{resolver:i}=Hm(this._resolverCache,e,n);return oe(r)?ds(i,r,void 0,s):i}}function Hm(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=r.join();let i=n.get(s);return i||(i={resolver:Vu(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,i)),i}const X_=t=>oe(t)&&Object.getOwnPropertyNames(t).some(e=>Hr(t[e]));function G_(t,e){const{isScriptable:r,isIndexable:n}=ey(t);for(const s of e){const i=r(s),a=n(s),l=(a||i)&&t[s];if(i&&(Hr(l)||X_(l))||a&&Re(l))return!0}return!1}var Q_="4.5.1";const J_=["top","bottom","left","right","chartArea"];function Vm(t,e){return t==="top"||t==="bottom"||J_.indexOf(t)===-1&&e==="x"}function Wm(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function qm(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),xe(r&&r.onComplete,[t],e)}function Z_(t){const e=t.chart,r=e.options.animation;xe(r&&r.onProgress,[t],e)}function ky(t){return Ku()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Wa={},Km=t=>{const e=ky(t);return Object.values(Wa).filter(r=>r.canvas===e).pop()};function eC(t,e,r){const n=Object.keys(t);for(const s of n){const i=+s;if(i>=e){const a=t[s];delete t[s],(r>0||i>e)&&(t[i+r]=a)}}}function tC(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var br;let Wi=(br=class{static register(...e){qt.add(...e),Ym()}static unregister(...e){qt.remove(...e),Ym()}constructor(e,r){const n=this.config=new Y_(r),s=ky(e),i=Km(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||b_(s)),this.platform.updateConfig(n);const l=this.platform.acquireContext(s,a.aspectRatio),d=l&&l.canvas,c=d&&d.height,u=d&&d.width;if(this.id=ZN(),this.ctx=l,this.canvas=d,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new I_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=y2(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Wa[this.id]=this,!l||!d){console.error("Failed to create chart: can't acquire context from the given item");return}tr.listen(this,"complete",qm),tr.listen(this,"progress",Z_),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return ce(e)?r&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fm(this.canvas,this.ctx),this}stop(){return tr.stop(this),this}resize(e,r){tr.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,pm(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),xe(n.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ue(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,s=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const l=r[a],d=kc(a,l),c=d==="r",u=d==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ue(i,a=>{const l=a.options,d=l.id,c=kc(d,l),u=te(l.type,a.dtype);(l.position===void 0||Vm(l.position,c)!==Vm(a.dposition))&&(l.position=a.dposition),s[d]=!0;let h=null;if(d in n&&n[d].type===u)h=n[d];else{const f=qt.getScale(u);h=new f({id:d,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),ue(s,(a,l)=>{a||delete n[l]}),ue(n,a=>{_t.configure(this,a,a.options),_t.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Wm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=i.indexAxis||wc(l,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const d=qt.getController(l),{datasetElementType:c,dataElementType:u}=_e.datasets[l];Object.assign(d,{dataElementType:qt.getElement(u),datasetElementType:c&&qt.getElement(c)}),a.controller=new d(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ue(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||ue(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wm("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ue(this.scales,e=>{_t.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!nm(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;eC(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!nm(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_t.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ue(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Hr(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tr.has(this)?this.attached&&!tr.running(this)&&tr.start(this):(this.draw(),qm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=cy(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&ll(r,s),e.controller.draw(),s&&dl(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,s){const i=JS.modes[r];return typeof i=="function"?i(this,e,n,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Sn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Pi(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),tr.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),fm(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Wa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),e[i]=a},s=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};ue(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(d,c)=>{r.addEventListener(this,d,c),e[d]=c},s=(d,c)=>{e[d]&&(r.removeEventListener(this,d,c),delete e[d])},i=(d,c)=>{this.canvas&&this.resize(d,c)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){ue(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ue(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const s=n?"set":"remove";let i,a,l,d;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,d=e.length;l<d;++l){a=e[l];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!No(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const s=this.options.hover,i=(d,c)=>d.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=i(r,e),l=n?e:i(e,r);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:s=[],options:i}=this,a=r,l=this._getActiveElements(e,s,n,a),d=i2(e),c=tC(e,this._lastEvent,n,d);n&&(this._lastEvent=null,xe(i.onHover,[e,l,this],this),d&&xe(i.onClick,[e,l,this],this));const u=!No(l,s);return(u||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,s){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},G(br,"defaults",_e),G(br,"instances",Wa),G(br,"overrides",wn),G(br,"registry",qt),G(br,"version",Q_),G(br,"getChart",Km),br);function Ym(){return ue(Wi.instances,t=>t._plugins.invalidate())}function rC(t,e,r){const{startAngle:n,x:s,y:i,outerRadius:a,innerRadius:l,options:d}=e,{borderWidth:c,borderJoinStyle:u}=d,h=Math.min(c/a,pt(n-r));if(t.beginPath(),t.arc(s,i,a-c/2,n+h/2,r-h/2),l>0){const f=Math.min(c/l,pt(n-r));t.arc(s,i,l+c/2,r-f/2,n+f/2,!0)}else{const f=Math.min(c/2,a*pt(n-r));if(u==="round")t.arc(s,i,f,r-he/2,n+he/2,!0);else if(u==="bevel"){const g=2*f*f,m=-g*Math.cos(r+he/2)+s,p=-g*Math.sin(r+he/2)+i,x=g*Math.cos(n+he/2)+s,y=g*Math.sin(n+he/2)+i;t.lineTo(m,p),t.lineTo(x,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function nC(t,e,r){const{startAngle:n,pixelMargin:s,x:i,y:a,outerRadius:l,innerRadius:d}=e;let c=s/l;t.beginPath(),t.arc(i,a,l,n-c,r+c),d>s?(c=s/d,t.arc(i,a,d,r+c,n-c,!0)):t.arc(i,a,s,r+Le,n-Le),t.closePath(),t.clip()}function sC(t){return Hu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function iC(t,e,r,n){const s=sC(t.options.borderRadius),i=(r-e)/2,a=Math.min(i,n*e/2),l=d=>{const c=(r-Math.min(i,d))*n/2;return Ye(d,0,Math.min(i,c))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Ye(s.innerStart,0,a),innerEnd:Ye(s.innerEnd,0,a)}}function Pn(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ro(t,e,r,n,s,i){const{x:a,y:l,startAngle:d,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+n+r-c,0),f=u>0?u+n+r+c:0;let g=0;const m=s-d;if(n){const V=u>0?u-n:0,L=h>0?h-n:0,W=(V+L)/2,M=W!==0?m*W/(W+n):m;g=(m-M)/2}const p=Math.max(.001,m*h-r/he)/h,x=(m-p)/2,y=d+x+g,v=s-x-g,{outerStart:b,outerEnd:k,innerStart:N,innerEnd:j}=iC(e,f,h,v-y),w=h-b,_=h-k,E=y+b/w,C=v-k/_,T=f+N,A=f+j,I=y+N/T,D=v-j/A;if(t.beginPath(),i){const V=(E+C)/2;if(t.arc(a,l,h,E,V),t.arc(a,l,h,V,C),k>0){const U=Pn(_,C,a,l);t.arc(U.x,U.y,k,C,v+Le)}const L=Pn(A,v,a,l);if(t.lineTo(L.x,L.y),j>0){const U=Pn(A,D,a,l);t.arc(U.x,U.y,j,v+Le,D+Math.PI)}const W=(v-j/f+(y+N/f))/2;if(t.arc(a,l,f,v-j/f,W,!0),t.arc(a,l,f,W,y+N/f,!0),N>0){const U=Pn(T,I,a,l);t.arc(U.x,U.y,N,I+Math.PI,y-Le)}const M=Pn(w,y,a,l);if(t.lineTo(M.x,M.y),b>0){const U=Pn(w,E,a,l);t.arc(U.x,U.y,b,y-Le,E)}}else{t.moveTo(a,l);const V=Math.cos(E)*h+a,L=Math.sin(E)*h+l;t.lineTo(V,L);const W=Math.cos(C)*h+a,M=Math.sin(C)*h+l;t.lineTo(W,M)}t.closePath()}function aC(t,e,r,n,s){const{fullCircles:i,startAngle:a,circumference:l}=e;let d=e.endAngle;if(i){Ro(t,e,r,n,d,s);for(let c=0;c<i;++c)t.fill();isNaN(l)||(d=a+(l%we||we))}return Ro(t,e,r,n,d,s),t.fill(),d}function oC(t,e,r,n,s){const{fullCircles:i,startAngle:a,circumference:l,options:d}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:g}=d,m=d.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(i){Ro(t,e,r,n,p,s);for(let x=0;x<i;++x)t.stroke();isNaN(l)||(p=a+(l%we||we))}m&&nC(t,e,p),d.selfJoin&&p-a>=he&&g===0&&u!=="miter"&&rC(t,e,p),i||(Ro(t,e,r,n,p,s),t.stroke())}class Vn extends Ft{constructor(r){super();G(this,"circumference");G(this,"endAngle");G(this,"fullCircles");G(this,"innerRadius");G(this,"outerRadius");G(this,"pixelMargin");G(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:a,distance:l}=qx(i,{x:r,y:n}),{startAngle:d,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,m=te(f,c-d),p=Ti(a,d,c)&&d!==c,x=m>=we||p,y=dr(l,u+g,h+g);return x&&y}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:a,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,h=(i+a)/2,f=(l+d+u+c)/2;return{x:n+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>we?Math.floor(s/we):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const d=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(d)*i,Math.sin(d)*i);const c=1-Math.sin(Math.min(he,s||0)),u=i*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,aC(r,this,u,a,l),oC(r,this,u,a,l),r.restore()}}G(Vn,"id","arc"),G(Vn,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),G(Vn,"defaultRoutes",{backgroundColor:"backgroundColor"}),G(Vn,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function jy(t,e,r=e){t.lineCap=te(r.borderCapStyle,e.borderCapStyle),t.setLineDash(te(r.borderDash,e.borderDash)),t.lineDashOffset=te(r.borderDashOffset,e.borderDashOffset),t.lineJoin=te(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=te(r.borderWidth,e.borderWidth),t.strokeStyle=te(r.borderColor,e.borderColor)}function lC(t,e,r){t.lineTo(r.x,r.y)}function dC(t){return t.stepped?A2:t.tension||t.cubicInterpolationMode==="monotone"?O2:lC}function Ny(t,e,r={}){const n=t.length,{start:s=0,end:i=n-1}=r,{start:a,end:l}=e,d=Math.max(s,a),c=Math.min(i,l),u=s<a&&i<a||s>l&&i>l;return{count:n,start:d,loop:e.loop,ilen:c<d&&!u?n+c-d:c-d}}function cC(t,e,r,n){const{points:s,options:i}=e,{count:a,start:l,loop:d,ilen:c}=Ny(s,r,n),u=dC(i);let{move:h=!0,reverse:f}=n||{},g,m,p;for(g=0;g<=c;++g)m=s[(l+(f?c-g:g))%a],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):u(t,p,m,f,i.stepped),p=m);return d&&(m=s[(l+(f?c:0))%a],u(t,p,m,f,i.stepped)),!!d}function uC(t,e,r,n){const s=e.points,{count:i,start:a,ilen:l}=Ny(s,r,n),{move:d=!0,reverse:c}=n||{};let u=0,h=0,f,g,m,p,x,y;const v=k=>(a+(c?l-k:k))%i,b=()=>{p!==x&&(t.lineTo(u,x),t.lineTo(u,p),t.lineTo(u,y))};for(d&&(g=s[v(0)],t.moveTo(g.x,g.y)),f=0;f<=l;++f){if(g=s[v(f)],g.skip)continue;const k=g.x,N=g.y,j=k|0;j===m?(N<p?p=N:N>x&&(x=N),u=(h*u+k)/++h):(b(),t.lineTo(k,N),m=j,h=0,p=x=N),y=N}b()}function jc(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?uC:cC}function hC(t){return t.stepped?uS:t.tension||t.cubicInterpolationMode==="monotone"?hS:tn}function fC(t,e,r,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,r,n)&&s.closePath()),jy(t,e.options),t.stroke(s)}function mC(t,e,r,n){const{segments:s,options:i}=e,a=jc(e);for(const l of s)jy(t,i,l.style),t.beginPath(),a(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const gC=typeof Path2D=="function";function pC(t,e,r,n){gC&&!e.options.segment?fC(t,e,r,n):mC(t,e,r,n)}class cr extends Ft{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;nS(this._points,n,e,s,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yS(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,s=e[r],i=this.points,a=dy(this,{property:r,start:s,end:s});if(!a.length)return;const l=[],d=hC(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:h,end:f}=a[c],g=i[h],m=i[f];if(g===m){l.push(g);continue}const p=Math.abs((s-g[r])/(m[r]-g[r])),x=d(g,m,p,n.stepped);x[r]=e[r],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,r,n){return jc(this)(e,this,r,n)}path(e,r,n){const s=this.segments,i=jc(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const l of s)a&=i(e,this,l,{start:r,end:r+n-1});return!!a}draw(e,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),pC(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(cr,"id","line"),G(cr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(cr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(cr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Xm(t,e,r,n){const s=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<s.radius+s.hitRadius}class ni extends Ft{constructor(r){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return Xm(this,r,"x",n)}inYRange(r,n){return Xm(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!Ai(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,vc(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}G(ni,"id","point"),G(ni,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(ni,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sy(t,e){const{x:r,y:n,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,d,c,u,h;return t.horizontal?(h=a/2,l=Math.min(r,s),d=Math.max(r,s),c=n-h,u=n+h):(h=i/2,l=r-h,d=r+h,c=Math.min(n,s),u=Math.max(n,s)),{left:l,top:c,right:d,bottom:u}}function Pr(t,e,r,n){return t?0:Ye(e,r,n)}function xC(t,e,r){const n=t.options.borderWidth,s=t.borderSkipped,i=Zx(n);return{t:Pr(s.top,i.top,0,r),r:Pr(s.right,i.right,0,e),b:Pr(s.bottom,i.bottom,0,r),l:Pr(s.left,i.left,0,e)}}function yC(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Qn(s),a=Math.min(e,r),l=t.borderSkipped,d=n||oe(s);return{topLeft:Pr(!d||l.top||l.left,i.topLeft,0,a),topRight:Pr(!d||l.top||l.right,i.topRight,0,a),bottomLeft:Pr(!d||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:Pr(!d||l.bottom||l.right,i.bottomRight,0,a)}}function bC(t){const e=Sy(t),r=e.right-e.left,n=e.bottom-e.top,s=xC(t,r/2,n/2),i=yC(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function ad(t,e,r,n){const s=e===null,i=r===null,l=t&&!(s&&i)&&Sy(t,n);return l&&(s||dr(e,l.left,l.right))&&(i||dr(r,l.top,l.bottom))}function vC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function wC(t,e){t.rect(e.x,e.y,e.w,e.h)}function od(t,e,r={}){const n=t.x!==r.x?-e:0,s=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class si extends Ft{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=bC(this),l=vC(a.radius)?Co:wC;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,od(a,r,i)),e.clip(),l(e,od(i,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,od(i,r)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,r,n){return ad(this,e,r,n)}inXRange(e,r){return ad(this,e,null,r)}inYRange(e,r){return ad(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}G(si,"id","bar"),G(si,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),G(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kC(t,e,r){const n=t.segments,s=t.points,i=e.points,a=[];for(const l of n){let{start:d,end:c}=l;c=hl(d,c,s);const u=Nc(r,s[d],s[c],l.loop);if(!e.segments){a.push({source:l,target:u,start:s[d],end:s[c]});continue}const h=dy(e,u);for(const f of h){const g=Nc(r,i[f.start],i[f.end],f.loop),m=ly(l,s,g);for(const p of m)a.push({source:p,target:f,start:{[r]:Gm(u,g,"start",Math.max)},end:{[r]:Gm(u,g,"end",Math.min)}})}}return a}function Nc(t,e,r,n){if(n)return;let s=e[t],i=r[t];return t==="angle"&&(s=pt(s),i=pt(i)),{property:t,start:s,end:i}}function jC(t,e){const{x:r=null,y:n=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:a,end:l})=>{l=hl(a,l,s);const d=s[a],c=s[l];n!==null?(i.push({x:d.x,y:n}),i.push({x:c.x,y:n})):r!==null&&(i.push({x:r,y:d.y}),i.push({x:r,y:c.y}))}),i}function hl(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Gm(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function _y(t,e){let r=[],n=!1;return Re(t)?(n=!0,r=t):r=jC(t,e),r.length?new cr({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function Qm(t){return t&&t.fill!==!1}function NC(t,e,r){let s=t[e].fill;const i=[e];let a;if(!r)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Qe(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;i.push(s),s=a.fill}return!1}function SC(t,e,r){const n=PC(t);if(oe(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return Qe(s)&&Math.floor(s)===s?_C(n[0],e,s,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function _C(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function CC(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:oe(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function EC(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:oe(t)?n=t.value:n=e.getBaseValue(),n}function PC(t){const e=t.options,r=e.fill;let n=te(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function RC(t){const{scale:e,index:r,line:n}=t,s=[],i=n.segments,a=n.points,l=TC(e,r);l.push(_y({x:null,y:e.bottom},n));for(let d=0;d<i.length;d++){const c=i[d];for(let u=c.start;u<=c.end;u++)AC(s,a[u],l)}return new cr({points:s,options:{}})}function TC(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const i=n[s];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function AC(t,e,r){const n=[];for(let s=0;s<r.length;s++){const i=r[s],{first:a,last:l,point:d}=OC(i,e,"x");if(!(!d||a&&l)){if(a)n.unshift(d);else if(t.push(d),!l)break}}t.push(...n)}function OC(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const s=n[r],i=t.segments,a=t.points;let l=!1,d=!1;for(let c=0;c<i.length;c++){const u=i[c],h=a[u.start][r],f=a[u.end][r];if(dr(s,h,f)){l=s===h,d=s===f;break}}return{first:l,last:d,point:n}}class Cy{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:s,y:i,radius:a}=this;return r=r||{start:0,end:we},e.arc(s,i,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:s}=this,i=e.angle;return{x:r+Math.cos(i)*s,y:n+Math.sin(i)*s,angle:i}}}function LC(t){const{chart:e,fill:r,line:n}=t;if(Qe(r))return DC(e,r);if(r==="stack")return RC(t);if(r==="shape")return!0;const s=MC(t);return s instanceof Cy?s:_y(s,n)}function DC(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function MC(t){return(t.scale||{}).getPointPositionForValue?FC(t):IC(t)}function IC(t){const{scale:e={},fill:r}=t,n=CC(r,e);if(Qe(n)){const s=e.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function FC(t){const{scale:e,fill:r}=t,n=e.options,s=e.getLabels().length,i=n.reverse?e.max:e.min,a=EC(r,e,i),l=[];if(n.grid.circular){const d=e.getPointPositionForValue(0,i);return new Cy({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<s;++d)l.push(e.getPointPositionForValue(d,a));return l}function ld(t,e,r){const n=LC(e),{chart:s,index:i,line:a,scale:l,axis:d}=e,c=a.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:g=h}=u||{},m=s.getDatasetMeta(i),p=cy(s,m);n&&a.points.length&&(ll(t,r),zC(t,{line:a,target:n,above:f,below:g,area:r,scale:l,axis:d,clip:p}),dl(t))}function zC(t,e){const{line:r,target:n,above:s,below:i,area:a,scale:l,clip:d}=e,c=r._loop?"angle":e.axis;t.save();let u=i;i!==s&&(c==="x"?(Jm(t,n,a.top),dd(t,{line:r,target:n,color:s,scale:l,property:c,clip:d}),t.restore(),t.save(),Jm(t,n,a.bottom)):c==="y"&&(Zm(t,n,a.left),dd(t,{line:r,target:n,color:i,scale:l,property:c,clip:d}),t.restore(),t.save(),Zm(t,n,a.right),u=s)),dd(t,{line:r,target:n,color:u,scale:l,property:c,clip:d}),t.restore()}function Jm(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of n){const{start:d,end:c}=l,u=s[d],h=s[hl(d,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(h.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function Zm(t,e,r){const{segments:n,points:s}=e;let i=!0,a=!1;t.beginPath();for(const l of n){const{start:d,end:c}=l,u=s[d],h=s[hl(d,c,s)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(r,h.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function dd(t,e){const{line:r,target:n,property:s,color:i,scale:a,clip:l}=e,d=kC(r,n,s);for(const{source:c,target:u,start:h,end:f}of d){const{style:{backgroundColor:g=i}={}}=c,m=n!==!0;t.save(),t.fillStyle=g,BC(t,a,l,m&&Nc(s,h,f)),t.beginPath();const p=!!r.pathSegment(t,c);let x;if(m){p?t.closePath():eg(t,n,f,s);const y=!!n.pathSegment(t,u,{move:p,reverse:!0});x=p&&y,x||eg(t,n,h,s)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function BC(t,e,r,n){const s=e.chart.chartArea,{property:i,start:a,end:l}=n||{};if(i==="x"||i==="y"){let d,c,u,h;i==="x"?(d=a,c=s.top,u=l,h=s.bottom):(d=s.left,c=a,u=s.right,h=l),t.beginPath(),r&&(d=Math.max(d,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),h=Math.min(h,r.bottom)),t.rect(d,c,u-d,h-c),t.clip()}}function eg(t,e,r,n){const s=e.interpolate(r,n);s&&t.lineTo(s.x,s.y)}var $C={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,s=[];let i,a,l,d;for(a=0;a<n;++a)i=t.getDatasetMeta(a),l=i.dataset,d=null,l&&l.options&&l instanceof cr&&(d={visible:t.isDatasetVisible(a),index:a,fill:SC(l,a,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=d,s.push(d);for(a=0;a<n;++a)d=s[a],!(!d||d.fill===!1)&&(d.fill=NC(s,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&ld(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const i=n[s].$filler;Qm(i)&&ld(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!Qm(n)||r.drawTime!=="beforeDatasetDraw"||ld(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tg=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},UC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class rg extends Ft{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,s)=>e.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,s=Xe(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=tg(n,i);let c,u;r.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,i,l,d)+10):(u=this.maxHeight,c=this._fitCols(a,s,l,d)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((m,p)=>{const x=n+r/2+i.measureText(m.text).width;(p===0||c[c.length-1]+x+2*l>a)&&(h+=u,c[c.length-(p>0?0:1)]=0,g+=u,f++),d[p]={left:0,top:g,row:f,width:x,height:s},c[c.length-1]+=x+l}),h}_fitCols(e,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let h=l,f=0,g=0,m=0,p=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:v,itemHeight:b}=HC(n,r,i,x,s);y>0&&g+b+2*l>u&&(h+=f+l,c.push({width:f,height:g}),m+=f+l,p++,f=g=0),d[y]={left:m,top:g,col:p,width:v,height:b},f=Math.max(f,v),g+=b+l}),h+=f,c.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=Jn(i,this.left,this.width);if(this.isHorizontal()){let l=0,d=We(n,this.left+s,this.right-this.lineWidths[l]);for(const c of r)l!==c.row&&(l=c.row,d=We(n,this.left+s,this.right-this.lineWidths[l])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(d),c.width),d+=c.width+s}else{let l=0,d=We(n,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const c of r)c.col!==l&&(l=c.col,d=We(n,this.top+e+s,this.bottom-this.columnSizes[l].height)),c.top=d,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),d+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ll(e,this),this._draw(),dl(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,l=_e.color,d=Jn(e.rtl,this.left,this.width),c=Xe(a.font),{padding:u}=a,h=c.size,f=h/2;let g;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:x}=tg(a,h),y=function(j,w,_){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;s.save();const E=te(_.lineWidth,1);if(s.fillStyle=te(_.fillStyle,l),s.lineCap=te(_.lineCap,"butt"),s.lineDashOffset=te(_.lineDashOffset,0),s.lineJoin=te(_.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=te(_.strokeStyle,l),s.setLineDash(te(_.lineDash,[])),a.usePointStyle){const C={radius:p*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:E},T=d.xPlus(j,m/2),A=w+f;Jx(s,C,T,A,a.pointStyleWidth&&m)}else{const C=w+Math.max((h-p)/2,0),T=d.leftForLtr(j,m),A=Qn(_.borderRadius);s.beginPath(),Object.values(A).some(I=>I!==0)?Co(s,{x:T,y:C,w:m,h:p,radius:A}):s.rect(T,C,m,p),s.fill(),E!==0&&s.stroke()}s.restore()},v=function(j,w,_){Oi(s,_.text,j,w+x/2,c,{strikethrough:_.hidden,textAlign:d.textAlign(_.textAlign)})},b=this.isHorizontal(),k=this._computeTitleHeight();b?g={x:We(i,this.left+u,this.right-n[0]),y:this.top+u+k,line:0}:g={x:this.left+u,y:We(i,this.top+k+u,this.bottom-r[0].height),line:0},iy(this.ctx,e.textDirection);const N=x+u;this.legendItems.forEach((j,w)=>{s.strokeStyle=j.fontColor,s.fillStyle=j.fontColor;const _=s.measureText(j.text).width,E=d.textAlign(j.textAlign||(j.textAlign=a.textAlign)),C=m+f+_;let T=g.x,A=g.y;d.setWidth(this.width),b?w>0&&T+C+u>this.right&&(A=g.y+=N,g.line++,T=g.x=We(i,this.left+u,this.right-n[g.line])):w>0&&A+N>this.bottom&&(T=g.x=T+r[g.line].width+u,g.line++,A=g.y=We(i,this.top+k+u,this.bottom-r[g.line].height));const I=d.x(T);if(y(I,A,j),T=b2(E,T+m+f,b?T+C:this.right,e.rtl),v(d.x(T),A,j),b)g.x+=C+u;else if(typeof j.text!="string"){const D=c.lineHeight;g.y+=Ey(j,D)+u}else g.y+=N}),ay(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Xe(r.font),s=Rt(r.padding);if(!r.display)return;const i=Jn(e.rtl,this.left,this.width),a=this.ctx,l=r.position,d=n.size/2,c=s.top+d;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=We(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((p,x)=>Math.max(p,x.height),0);u=c+We(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=We(l,h,h+f);a.textAlign=i.textAlign(Bu(l)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Oi(a,r.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,r=Xe(e.font),n=Rt(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,s,i;if(dr(e,this.left,this.right)&&dr(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],dr(e,s.left,s.left+s.width)&&dr(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!qC(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=UC(s,n);s&&!i&&xe(r.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&xe(r.onHover,[e,n,this],this)}else n&&xe(r.onClick,[e,n,this],this)}}function HC(t,e,r,n,s){const i=VC(n,t,e,r),a=WC(s,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function VC(t,e,r,n){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+r.size/2+n.measureText(s).width}function WC(t,e,r){let n=t;return typeof e.text!="string"&&(n=Ey(e,r)),n}function Ey(t,e){const r=t.text?t.text.length:0;return e*r}function qC(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Py={id:"legend",_element:rg,start(t,e,r){const n=t.legend=new rg({ctx:t.ctx,options:r,chart:t});_t.configure(t,n,r),_t.addBox(t,n)},stop(t){_t.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;_t.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const c=d.controller.getStyle(r?0:void 0),u=Rt(c.borderWidth);return{text:e[d.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(l||c.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ry extends Ft{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const s=Re(n.text)?n.text.length:1;this._padding=Rt(n.padding);const i=s*Xe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:s,right:i,options:a}=this,l=a.align;let d=0,c,u,h;return this.isHorizontal()?(u=We(l,n,i),h=r+e,c=i-n):(a.position==="left"?(u=n+e,h=We(l,s,r),d=he*-.5):(u=i-e,h=We(l,r,s),d=he*.5),c=s-r),{titleX:u,titleY:h,maxWidth:c,rotation:d}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Xe(r.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:d,rotation:c}=this._drawArgs(i);Oi(e,r.text,0,0,n,{color:r.color,maxWidth:d,rotation:c,textAlign:Bu(r.align),textBaseline:"middle",translation:[a,l]})}}function KC(t,e){const r=new Ry({ctx:t.ctx,options:e,chart:t});_t.configure(t,r,e),_t.addBox(t,r),t.titleBlock=r}var Ty={id:"title",_element:Ry,start(t,e,r){KC(t,r)},stop(t){const e=t.titleBlock;_t.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;_t.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $s={average(t){if(!t.length)return!1;let e,r,n=new Set,s=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const d=l.tooltipPosition();n.add(d.x),s+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,d)=>l+d)/n.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,s=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const d=t[i].element;if(d&&d.hasValue()){const c=d.getCenterPoint(),u=yc(e,c);u<s&&(s=u,l=d)}}if(l){const d=l.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function Vt(t,e){return e&&(Re(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function rr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YC(t,e){const{element:r,datasetIndex:n,index:s}=e,i=t.getDatasetMeta(n).controller,{label:a,value:l}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function ng(t,e){const r=t.chart.ctx,{body:n,footer:s,title:i}=t,{boxWidth:a,boxHeight:l}=e,d=Xe(e.bodyFont),c=Xe(e.titleFont),u=Xe(e.footerFont),h=i.length,f=s.length,g=n.length,m=Rt(e.padding);let p=m.height,x=0,y=n.reduce((k,N)=>k+N.before.length+N.lines.length+N.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(p+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const k=e.displayColors?Math.max(l,d.lineHeight):d.lineHeight;p+=g*k+(y-g)*d.lineHeight+(y-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const b=function(k){x=Math.max(x,r.measureText(k).width+v)};return r.save(),r.font=c.string,ue(t.title,b),r.font=d.string,ue(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,ue(n,k=>{ue(k.before,b),ue(k.lines,b),ue(k.after,b)}),v=0,r.font=u.string,ue(t.footer,b),r.restore(),x+=m.width,{width:x,height:p}}function XC(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function GC(t,e,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function QC(t,e,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:l,right:d}}=t;let c="center";return n==="center"?c=s<=(l+d)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),GC(c,t,e,r)&&(c="center"),c}function sg(t,e,r){const n=r.yAlign||e.yAlign||XC(t,r);return{xAlign:r.xAlign||e.xAlign||QC(t,e,r,n),yAlign:n}}function JC(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function ZC(t,e,r){let{y:n,height:s}=t;return e==="top"?n+=r:e==="bottom"?n-=s+r:n-=s/2,n}function ig(t,e,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:d}=r,c=s+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:g}=Qn(a);let m=JC(e,l);const p=ZC(e,d,c);return d==="center"?l==="left"?m+=c:l==="right"&&(m-=c):l==="left"?m-=Math.max(u,f)+s:l==="right"&&(m+=Math.max(h,g)+s),{x:Ye(m,0,n.width-e.width),y:Ye(p,0,n.height-e.height)}}function Sa(t,e,r){const n=Rt(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function ag(t){return Vt([],rr(t))}function e4(t,e,r){return Sn(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function og(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Ay={beforeTitle:er,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:er,beforeBody:er,beforeLabel:er,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ce(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:er,afterBody:er,beforeFooter:er,footer:er,afterFooter:er};function at(t,e,r,n){const s=t[e].call(r,n);return typeof s>"u"?Ay[e].call(r,n):s}class Sc extends Ft{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new uy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=e4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,s=at(n,"beforeTitle",this,e),i=at(n,"title",this,e),a=at(n,"afterTitle",this,e);let l=[];return l=Vt(l,rr(s)),l=Vt(l,rr(i)),l=Vt(l,rr(a)),l}getBeforeBody(e,r){return ag(at(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,s=[];return ue(e,i=>{const a={before:[],lines:[],after:[]},l=og(n,i);Vt(a.before,rr(at(l,"beforeLabel",this,i))),Vt(a.lines,at(l,"label",this,i)),Vt(a.after,rr(at(l,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,r){return ag(at(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,s=at(n,"beforeFooter",this,e),i=at(n,"footer",this,e),a=at(n,"afterFooter",this,e);let l=[];return l=Vt(l,rr(s)),l=Vt(l,rr(i)),l=Vt(l,rr(a)),l}_createItems(e){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let l=[],d,c;for(d=0,c=r.length;d<c;++d)l.push(YC(this.chart,r[d]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),ue(l,u=>{const h=og(e.callbacks,u);s.push(at(h,"labelColor",this,u)),i.push(at(h,"labelPointStyle",this,u)),a.push(at(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=$s[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const d=this._size=ng(this,n),c=Object.assign({},l,d),u=sg(this.chart,n,c),h=ig(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:d.width,height:d.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,s){const i=this.getCaretPosition(e,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:d,topRight:c,bottomLeft:u,bottomRight:h}=Qn(l),{x:f,y:g}=e,{width:m,height:p}=r;let x,y,v,b,k,N;return i==="center"?(k=g+p/2,s==="left"?(x=f,y=x-a,b=k+a,N=k-a):(x=f+m,y=x+a,b=k-a,N=k+a),v=x):(s==="left"?y=f+Math.max(d,u)+a:s==="right"?y=f+m-Math.max(c,h)-a:y=this.caretX,i==="top"?(b=g,k=b-a,x=y-a,v=y+a):(b=g+p,k=b+a,x=y+a,v=y-a),N=b),{x1:x,x2:y,x3:v,y1:b,y2:k,y3:N}}drawTitle(e,r,n){const s=this.title,i=s.length;let a,l,d;if(i){const c=Jn(n.rtl,this.x,this.width);for(e.x=Sa(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=Xe(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,d=0;d<i;++d)r.fillText(s[d],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,d+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,s,i){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:d,boxWidth:c}=i,u=Xe(i.bodyFont),h=Sa(this,"left",i),f=s.x(h),g=d<u.lineHeight?(u.lineHeight-d)/2:0,m=r.y+g;if(i.usePointStyle){const p={radius:Math.min(c,d)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=s.leftForLtr(f,c)+c/2,y=m+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,vc(e,p,x,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,vc(e,p,x,y)}else{e.lineWidth=oe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=s.leftForLtr(f,c),x=s.leftForLtr(s.xPlus(f,1),c-2),y=Qn(a.borderRadius);Object.values(y).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Co(e,{x:p,y:m,w:c,h:d,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Co(e,{x,y:m+1,w:c-2,h:d-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,m,c,d),e.strokeRect(p,m,c,d),e.fillStyle=a.backgroundColor,e.fillRect(x,m+1,c-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:d,boxWidth:c,boxPadding:u}=n,h=Xe(n.bodyFont);let f=h.lineHeight,g=0;const m=Jn(n.rtl,this.x,this.width),p=function(_){r.fillText(_,m.x(e.x+g),e.y+f/2),e.y+=f+i},x=m.textAlign(a);let y,v,b,k,N,j,w;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=Sa(this,x,n),r.fillStyle=n.bodyColor,ue(this.beforeBody,p),g=l&&x!=="right"?a==="center"?c/2+u:c+2+u:0,k=0,j=s.length;k<j;++k){for(y=s[k],v=this.labelTextColors[k],r.fillStyle=v,ue(y.before,p),b=y.lines,l&&b.length&&(this._drawColorBox(r,e,k,m,n),f=Math.max(h.lineHeight,d)),N=0,w=b.length;N<w;++N)p(b[N]),f=h.lineHeight;ue(y.after,p)}g=0,f=h.lineHeight,ue(this.afterBody,p),e.y-=i}drawFooter(e,r,n){const s=this.footer,i=s.length;let a,l;if(i){const d=Jn(n.rtl,this.x,this.width);for(e.x=Sa(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",a=Xe(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,l=0;l<i;++l)r.fillText(s[l],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,s){const{xAlign:i,yAlign:a}=this,{x:l,y:d}=e,{width:c,height:u}=n,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:m}=Qn(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+h,d),a==="top"&&this.drawCaret(e,r,n,s),r.lineTo(l+c-f,d),r.quadraticCurveTo(l+c,d,l+c,d+f),a==="center"&&i==="right"&&this.drawCaret(e,r,n,s),r.lineTo(l+c,d+u-m),r.quadraticCurveTo(l+c,d+u,l+c-m,d+u),a==="bottom"&&this.drawCaret(e,r,n,s),r.lineTo(l+g,d+u),r.quadraticCurveTo(l,d+u,l,d+u-g),a==="center"&&i==="left"&&this.drawCaret(e,r,n,s),r.lineTo(l,d+h),r.quadraticCurveTo(l,d,l+h,d),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=$s[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=ng(this,e),d=Object.assign({},a,this._size),c=sg(r,e,d),u=ig(e,d,c,r);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Rt(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,r),iy(e,r.textDirection),i.y+=a.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),ay(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,s=e.map(({datasetIndex:l,index:d})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[d],index:d}}),i=!No(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,r,n),l=this._positionChanged(a,e),d=r||!No(a,i)||l;return d&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),d}_getActiveElements(e,r,n,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:s,options:i}=this,a=$s[i.position].call(this,e,r);return a!==!1&&(n!==a.x||s!==a.y)}}G(Sc,"positioners",$s);var Oy={id:"tooltip",_element:Sc,positioners:$s,afterInit(t,e,r){r&&(t.tooltip=new Sc({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ay},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const t4=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function r4(t,e,r,n){const s=t.indexOf(e);if(s===-1)return t4(t,e,r,n);const i=t.lastIndexOf(e);return s!==i?r:s}const n4=(t,e)=>t===null?null:Ye(Math.round(t),0,e);function lg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class To extends ys{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ce(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:r4(n,e,te(r,e),this._addedLabels),n4(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)s.push({value:a});return s}getLabelForValue(e){return lg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}G(To,"id","category"),G(To,"defaults",{ticks:{callback:lg}});function s4(t,e){const r=[],{bounds:s,step:i,min:a,max:l,precision:d,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,g=i||1,m=u-1,{min:p,max:x}=e,y=!ce(a),v=!ce(l),b=!ce(c),k=(x-p)/(h+1);let N=im((x-p)/m/g)*g,j,w,_,E;if(N<1e-14&&!y&&!v)return[{value:p},{value:x}];E=Math.ceil(x/N)-Math.floor(p/N),E>m&&(N=im(E*N/m/g)*g),ce(d)||(j=Math.pow(10,d),N=Math.ceil(N*j)/j),s==="ticks"?(w=Math.floor(p/N)*N,_=Math.ceil(x/N)*N):(w=p,_=x),y&&v&&i&&c2((l-a)/i,N/1e3)?(E=Math.round(Math.min((l-a)/N,u)),N=(l-a)/E,w=a,_=l):b?(w=y?a:w,_=v?l:_,E=c-1,N=(_-w)/E):(E=(_-w)/N,ei(E,Math.round(E),N/1e3)?E=Math.round(E):E=Math.ceil(E));const C=Math.max(am(N),am(w));j=Math.pow(10,ce(d)?C:d),w=Math.round(w*j)/j,_=Math.round(_*j)/j;let T=0;for(y&&(f&&w!==a?(r.push({value:a}),w<a&&T++,ei(Math.round((w+T*N)*j)/j,a,dg(a,k,t))&&T++):w<a&&T++);T<E;++T){const A=Math.round((w+T*N)*j)/j;if(v&&A>l)break;r.push({value:A})}return v&&f&&_!==l?r.length&&ei(r[r.length-1].value,l,dg(l,k,t))?r[r.length-1].value=l:r.push({value:l}):(!v||_===l)&&r.push({value:_}),r}function dg(t,e,{horizontal:r,minRotation:n}){const s=lr(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class i4 extends ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=d=>s=r?s:d,l=d=>i=n?i:d;if(e){const d=Qt(s),c=Qt(i);d<0&&c<0?l(0):d>0&&c>0&&a(0)}if(s===i){let d=i===0?1:Math.abs(i*.05);l(i+d),e||a(s-d)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=s4(s,i);return e.bounds==="ticks"&&u2(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-r)/Math.max(e.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Uu(e,this.chart.options.locale,this.options.ticks.format)}}class Ao extends i4{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Qe(e)?e:0,this.max=Qe(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=lr(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}G(Ao,"id","linear"),G(Ao,"defaults",{ticks:{callback:Qx.formatters.numeric}});const fl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lt=Object.keys(fl);function cg(t,e){return t-e}function ug(t,e){if(ce(e))return null;const r=t._adapter,{parser:n,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Qe(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(Ri(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function hg(t,e,r,n){const s=lt.length;for(let i=lt.indexOf(t);i<s-1;++i){const a=fl[lt[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(l*a.size))<=n)return lt[i]}return lt[s-1]}function a4(t,e,r,n,s){for(let i=lt.length-1;i>=lt.indexOf(r);i--){const a=lt[i];if(fl[a].common&&t._adapter.diff(s,n,a)>=e-1)return a}return lt[r?lt.indexOf(r):0]}function o4(t){for(let e=lt.indexOf(t)+1,r=lt.length;e<r;++e)if(fl[lt[e]].common)return lt[e]}function fg(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:s}=zu(r,e),i=r[n]>=e?r[n]:r[s];t[i]=!0}}function l4(t,e,r,n){const s=t._adapter,i=+s.startOf(e[0].value,n),a=e[e.length-1].value;let l,d;for(l=i;l<=a;l=+s.add(l,1,n))d=r[l],d>=0&&(e[d].major=!0);return e}function mg(t,e,r){const n=[],s={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],s[l]=a,n.push({value:l,major:!1});return i===0||!r?n:l4(t,n,s,r)}class Oo extends ys{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),s=this._adapter=new KS._date(e.adapters.date);s.init(r),Zs(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ug(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function d(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!l&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!l)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=Qe(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Qe(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,l=p2(s,i,a);return this._unit=r.unit||(n.autoSkip?hg(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):a4(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:o4(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),mg(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?r=1-s:r=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Ye(r,0,a),n=Ye(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||hg(i.minUnit,r,n,this._getLabelCapacity(r)),l=te(s.ticks.stepSize,1),d=a==="week"?i.isoWeekday:!1,c=Ri(d)||d===!0,u={};let h=r,f,g;if(c&&(h=+e.startOf(h,"isoWeek",d)),h=+e.startOf(h,c?"day":a),e.diff(n,r,a)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+a);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<n;f=+e.add(f,l,a),g++)fg(u,f,m);return(f===n||s.bounds==="ticks"||g===1)&&fg(u,f,m),Object.keys(u).sort(cg).map(p=>+p)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return xe(a,[e,r,n],this);const l=i.time.displayFormats,d=this._unit,c=this._majorUnit,u=d&&l[d],h=c&&l[c],f=n[r],g=c&&h&&f&&f.major;return this._adapter.format(e,s||(g?h:u))}generateTickLabels(e){let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,s=lr(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*a,h:n*a+l*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,mg(this,[e],this._majorUnit),s),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)e.push(ug(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Yx(e.sort(cg))}}G(Oo,"id","time"),G(Oo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _a(t,e,r){let n=0,s=t.length-1,i,a,l,d;r?(e>=t[n].pos&&e<=t[s].pos&&({lo:n,hi:s}=on(t,"pos",e)),{pos:i,time:l}=t[n],{pos:a,time:d}=t[s]):(e>=t[n].time&&e<=t[s].time&&({lo:n,hi:s}=on(t,"time",e)),{time:i,pos:l}=t[n],{time:a,pos:d}=t[s]);const c=a-i;return c?l+(d-l)*(e-i)/c:l}class gg extends Oo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=_a(r,this.min),this._tableRange=_a(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,s=[],i=[];let a,l,d,c,u;for(a=0,l=e.length;a<l;++a)c=e[a],c>=r&&c<=n&&s.push(c);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,l=s.length;a<l;++a)u=s[a+1],d=s[a-1],c=s[a],Math.round((u+d)/2)!==c&&i.push({time:c,pos:a/(l-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(_a(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return _a(this._table,n*this._tableRange+this._minPos,!0)}}G(gg,"id","timeseries"),G(gg,"defaults",Oo.defaults);const Ly="label";function pg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function d4(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Dy(t,e){t.labels=e}function My(t,e,r=Ly){const n=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function c4(t,e=Ly){const r={labels:[],datasets:[]};return Dy(r,t.labels),My(r,t.datasets,e),r}function u4(t,e){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:l,options:d,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,g=S.useRef(null),m=S.useRef(null),p=()=>{g.current&&(m.current=new Wi(g.current,{type:a,data:c4(l,i),options:d&&{...d},plugins:c}),pg(e,m.current))},x=()=>{pg(e,null),m.current&&(m.current.destroy(),m.current=null)};return S.useEffect(()=>{!s&&m.current&&d&&d4(m.current,d)},[s,d]),S.useEffect(()=>{!s&&m.current&&Dy(m.current.config.data,l.labels)},[s,l.labels]),S.useEffect(()=>{!s&&m.current&&l.datasets&&My(m.current.config.data,l.datasets,i)},[s,l.datasets]),S.useEffect(()=>{m.current&&(s?(x(),setTimeout(p)):m.current.update(h))},[s,d,l.labels,l.datasets,h]),S.useEffect(()=>{m.current&&(x(),setTimeout(p))},[a]),S.useEffect(()=>(p(),()=>x()),[]),o.jsx("canvas",{ref:g,role:"img",height:r,width:n,...f,children:u})}const h4=S.forwardRef(u4);function Gu(t,e){return Wi.register(e),S.forwardRef((r,n)=>o.jsx(h4,{...r,ref:n,type:t}))}const qa=Gu("line",Ha),ii=Gu("bar",Ua),Iy=Gu("doughnut",zs);Wi.register(To,Ao,ni,cr,si,Vn,Ty,Oy,Py,$C);function f4(){const{t}=Te(),e=nt(),[r,n]=S.useState("resumen"),[s,i]=S.useState(null),[a,l]=S.useState(null),[d,c]=S.useState([]),[u,h]=S.useState([]),[f,g]=S.useState(!0);S.useEffect(()=>{m()},[]);const m=async()=>{var k,N;try{const[j,w,_,E,C]=await Promise.all([$.get("/analytics/dashboards").catch(()=>({data:null})),$.get("/analytics/dashboard/charts").catch(()=>({data:null})),$.get("/admissions/stats").catch(()=>({data:null})),$.get("/admissions?limit=5&page=1").catch(()=>({data:{data:[]}})),$.get("/admissions?limit=5&page=1&estado=programado").catch(()=>({data:{data:[]}}))]);if(j.data){const T=j.data;_.data?i({...T,admisionesHoy:_.data.hoy||0,admisionesProgramadas:_.data.programadas||0,admisionesCompletadas:_.data.completadas||0,admisionesCanceladas:_.data.canceladas||0}):i(T)}if(w.data&&l(w.data),(k=E.data)!=null&&k.data&&c(E.data.data.slice(0,5)),(N=C.data)!=null&&N.data){const T=C.data.data.filter(A=>new Date(A.fecha_programada)>=new Date).sort((A,I)=>new Date(A.fecha_programada).getTime()-new Date(I.fecha_programada).getTime()).slice(0,5);h(T)}}catch(j){console.error("Error cargando dashboard:",j)}finally{g(!1)}},p=k=>({programado:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",en_proceso:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"})[k]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",x=k=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(k),y=k=>new Date(k).toLocaleDateString("es-PE",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:12}}}},b=[{id:"resumen",label:"Resumen",icon:""},{id:"graficos",label:"Grficos",icon:""}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6 lg:py-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:t("dashboard.title")}),o.jsx("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base lg:text-lg text-gray-600 dark:text-gray-400",children:t("dashboard.subtitle")})]}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:b.map(k=>o.jsxs("button",{onClick:()=>n(k.id),className:`
                    whitespace-nowrap py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-sm sm:text-base flex items-center gap-2
                    ${r===k.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:[o.jsx("span",{children:k.icon}),k.label]},k.id))})}),f?o.jsxs("div",{className:"text-center py-12 sm:py-16 lg:py-20",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t("common.loading")})]}):o.jsxs(o.Fragment,{children:[r==="resumen"&&s&&o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-blue-200 dark:border-blue-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:t("dashboard.patients")}),o.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mt-2",children:s.totalPacientes}),s.pacientesNuevosMes!==void 0&&o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:["+",s.pacientesNuevosMes," este mes"]})]}),o.jsx("div",{className:"flex-shrink-0 bg-blue-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-green-200 dark:border-green-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600 dark:text-green-400 uppercase tracking-wide",children:t("dashboard.admissions")}),o.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mt-2",children:s.totalAdmisiones}),o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Este mes: ",o.jsx("span",{className:"font-semibold",children:s.admisionesMes})]}),s.admisionesHoy!==void 0&&o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Hoy: ",o.jsx("span",{className:"font-semibold",children:s.admisionesHoy})]})]})]}),o.jsx("div",{className:"flex-shrink-0 bg-green-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-purple-200 dark:border-purple-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide",children:t("dashboard.concepts")}),o.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mt-2",children:s.conceptosEmitidos}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Este mes"})]}),o.jsx("div",{className:"flex-shrink-0 bg-purple-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-yellow-200 dark:border-yellow-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-yellow-600 dark:text-yellow-400 uppercase tracking-wide",children:t("dashboard.income")}),o.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white mt-2",children:x(Number(s.ingresosMes))}),o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Facturas: ",o.jsx("span",{className:"font-semibold",children:s.facturasMes})]}),s.ingresosAnio!==void 0&&o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:["Ao: ",o.jsx("span",{className:"font-semibold",children:x(Number(s.ingresosAnio))})]})]})]}),o.jsx("div",{className:"flex-shrink-0 bg-yellow-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-red-200 dark:border-red-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-600 dark:text-red-400 uppercase tracking-wide",children:t("dashboard.pendingExams")}),o.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mt-2",children:s.examenesPendientes}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Requieren atencin"})]}),o.jsx("div",{className:"flex-shrink-0 bg-red-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),s.admisionesProgramadas!==void 0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-indigo-200 dark:border-indigo-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:"Programadas"}),o.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mt-2",children:s.admisionesProgramadas})]}),o.jsx("div",{className:"flex-shrink-0 bg-indigo-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl shadow-lg p-4 sm:p-6 border border-emerald-200 dark:border-emerald-800 hover:shadow-xl transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-emerald-600 dark:text-emerald-400 uppercase tracking-wide",children:"Completadas"}),o.jsx("p",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mt-2",children:s.admisionesCompletadas})]}),o.jsx("div",{className:"flex-shrink-0 bg-emerald-500 rounded-lg p-3 sm:p-4",children:o.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Admisiones Recientes"}),o.jsx("button",{onClick:()=>e("/admisiones"),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium",children:"Ver todas "})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:d.length>0?o.jsx("div",{className:"space-y-3",children:d.map(k=>o.jsxs("div",{onClick:()=>e(`/admisiones/${k.id}`),className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[k.paciente.usuario.nombres," ",k.paciente.usuario.apellidos]}),o.jsxs("div",{className:"mt-1 flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[o.jsxs("span",{children:["DNI: ",k.paciente.usuario.dni]}),o.jsx("span",{children:""}),o.jsx("span",{children:y(k.fecha_programada)})]})]}),o.jsx("div",{className:"ml-4 flex-shrink-0",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(k.estado)}`,children:k.estado})})]},k.id))}):o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No hay admisiones recientes"})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Prximas Citas"}),o.jsx("button",{onClick:()=>e("/admisiones/calendario"),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium",children:"Ver calendario "})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:u.length>0?o.jsx("div",{className:"space-y-3",children:u.map(k=>o.jsxs("div",{onClick:()=>e(`/admisiones/${k.id}`),className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[k.paciente.usuario.nombres," ",k.paciente.usuario.apellidos]}),o.jsxs("div",{className:"mt-1 flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[o.jsx("span",{children:k.tipo_examen}),o.jsx("span",{children:""}),o.jsx("span",{children:y(k.fecha_programada)})]})]}),o.jsx("div",{className:"ml-4 flex-shrink-0",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(k.estado)}`,children:k.estado})})]},k.id))}):o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No hay citas programadas"})})]})]})]}),r==="graficos"&&a&&o.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Admisiones Mensuales"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(qa,{data:{labels:a.admisionesMensuales.map(k=>k.mes),datasets:[{label:"Admisiones",data:a.admisionesMensuales.map(k=>k.cantidad),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:v})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Ingresos Mensuales"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(qa,{data:{labels:a.ingresosMensuales.map(k=>k.mes),datasets:[{label:"Ingresos (S/)",data:a.ingresosMensuales.map(k=>k.monto),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4}]},options:{...v,scales:{y:{beginAtZero:!0,ticks:{callback:function(k){return`S/ ${k.toLocaleString("es-PE")}`}}}}}})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top 5 Empresas por Pacientes"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(ii,{data:{labels:a.pacientesPorEmpresa.map(k=>k.empresa.length>15?k.empresa.substring(0,15)+"...":k.empresa),datasets:[{label:"Pacientes",data:a.pacientesPorEmpresa.map(k=>k.cantidad),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)"]}]},options:v})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Conceptos de Aptitud por Resultado"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(Iy,{data:{labels:a.conceptosPorResultado.map(k=>k.resultado),datasets:[{data:a.conceptosPorResultado.map(k=>k.cantidad),backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)","rgba(59, 130, 246, 0.8)","rgba(168, 85, 247, 0.8)"]}]},options:v})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Exmenes de Laboratorio por Estado"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(ii,{data:{labels:a.examenesPorEstado.map(k=>k.estado),datasets:[{label:"Cantidad",data:a.examenesPorEstado.map(k=>k.cantidad),backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)"]}]},options:v})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tendencias: Admisiones vs Conceptos"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(qa,{data:{labels:a.admisionesMensuales.map(k=>k.mes),datasets:[{label:"Admisiones",data:a.admisionesMensuales.map(k=>k.cantidad),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!1,tension:.4},{label:"Conceptos Emitidos",data:a.conceptosMensuales.map(k=>k.cantidad),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",fill:!1,tension:.4}]},options:v})})]})]})}),r==="graficos"&&!a&&!f&&o.jsx("div",{className:"text-center py-12 sm:py-16 text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:o.jsx("p",{className:"text-lg",children:"No hay datos de grficos disponibles"})})]})]})})})}function m4(){const t=nt(),{t:e}=Te(),[r,n]=S.useState("estadisticas"),[s,i]=S.useState(null),[a,l]=S.useState([]),[d,c]=S.useState(!0),[u,h]=S.useState(""),[f,g]=S.useState(""),[m,p]=S.useState(1),[x,y]=S.useState(1);S.useEffect(()=>{v()},[m]);const v=async()=>{var w;c(!0);try{const[_,E]=await Promise.all([$.get("/admissions/stats"),$.get(`/admissions?page=${m}&limit=10`)]);i(_.data),l(E.data.data||[]),y(((w=E.data.meta)==null?void 0:w.totalPages)||1)}catch(_){console.error("Error cargando datos:",_)}finally{c(!1)}},b=a.filter(w=>{const _=!u||w.paciente.usuario.nombres.toLowerCase().includes(u.toLowerCase())||w.paciente.usuario.apellidos.toLowerCase().includes(u.toLowerCase())||w.paciente.usuario.dni.includes(u),E=!f||w.estado===f;return _&&E}),k=w=>({programado:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",confirmado:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",en_proceso:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",completado:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelado:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[w]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",N=w=>({programado:e("admissions.programado"),confirmado:e("admissions.confirmado"),en_proceso:e("admissions.en_proceso"),completado:e("admissions.completado"),cancelado:e("admissions.cancelado")})[w]||w,j=[{id:"estadisticas",label:"Estadsticas"},{id:"lista",label:"Lista"}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-6",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:text-3xl",children:e("admissions.title")}),o.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:e("admissions.subtitle")})]}),o.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[o.jsxs("button",{onClick:()=>t("/admisiones/calendario"),className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:[" ",e("admissions.calendar")]}),o.jsxs("button",{onClick:()=>t("/admisiones/empresas"),className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:[" ",e("admissions.companies")]}),o.jsxs("button",{onClick:()=>t("/admisiones/nueva"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600",children:[" ",e("admissions.newAdmission")]})]})]}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:j.map(w=>o.jsx("button",{onClick:()=>n(w.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${r===w.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:w.label},w.id))})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[r==="estadisticas"&&o.jsx("div",{className:"p-4 sm:p-6",children:d?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando estadsticas..."})]}):s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Resumen General"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl shadow-lg p-6 border border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Hoy"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:s.hoy}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Admisiones"})]}),o.jsx("div",{className:"bg-blue-500 rounded-lg p-3",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl shadow-lg p-6 border border-purple-200 dark:border-purple-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide",children:"Esta Semana"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:s.estaSemana}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Admisiones"})]}),o.jsx("div",{className:"bg-purple-500 rounded-lg p-3",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl shadow-lg p-6 border border-green-200 dark:border-green-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 uppercase tracking-wide",children:"Este Mes"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:s.esteMes}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Admisiones"})]}),o.jsx("div",{className:"bg-green-500 rounded-lg p-3",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),o.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 rounded-xl shadow-lg p-6 border border-indigo-200 dark:border-indigo-800",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:"Total"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:s.total}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Admisiones"})]}),o.jsx("div",{className:"bg-indigo-500 rounded-lg p-3",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Por Estado"}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full mb-2",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Programadas"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:s.programadas})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-full mb-2",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Confirmadas"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:s.confirmadas})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-full mb-2",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"En Proceso"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:s.enProceso})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full mb-2",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completadas"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:s.completadas})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 dark:bg-red-900 rounded-full mb-2",children:o.jsx("span",{className:"text-xl",children:""})}),o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Canceladas"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:s.canceladas})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Por Tipo de Examen (Top 5)"}),s.porTipoExamen.length>0?o.jsx("div",{className:"space-y-3",children:s.porTipoExamen.map((w,_)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:w.tipo}),o.jsx("div",{className:"mt-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-indigo-600 dark:bg-indigo-500 h-2 rounded-full",style:{width:`${w.cantidad/s.total*100}%`}})})]}),o.jsxs("div",{className:"ml-4 text-right",children:[o.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.cantidad}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(w.cantidad/s.total*100).toFixed(1),"%"]})]})]},_))}):o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay datos disponibles"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Por Empresa (Top 5)"}),s.porEmpresa.length>0?o.jsx("div",{className:"space-y-3",children:s.porEmpresa.map((w,_)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:w.empresa}),o.jsx("div",{className:"mt-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-green-600 dark:bg-green-500 h-2 rounded-full",style:{width:`${w.cantidad/s.total*100}%`}})})]}),o.jsxs("div",{className:"ml-4 text-right",children:[o.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.cantidad}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(w.cantidad/s.total*100).toFixed(1),"%"]})]})]},_))}):o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay datos disponibles"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Prximas Citas (7 das)"}),s.proximasCitas.length>0?o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.proximasCitas.map(w=>o.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer transition-colors",onClick:()=>t(`/admisiones/${w.id}`),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.paciente}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[w.empresa,"  ",w.tipoExamen]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(w.fecha).toLocaleDateString("es-PE",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${k(w.estado)}`,children:N(w.estado)})]})},w.id))}):o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay citas prximas"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Admisiones Recientes"}),s.admisionesRecientes.length>0?o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.admisionesRecientes.map(w=>o.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer transition-colors",onClick:()=>t(`/admisiones/${w.id}`),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.paciente}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[w.empresa,"  ",w.tipoExamen]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(w.createdAt).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${k(w.estado)}`,children:N(w.estado)})]})},w.id))}):o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay admisiones recientes"})]})]})]}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay datos disponibles"})})}),r==="lista"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:"Lista de Admisiones"}),o.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),o.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("common.search")}),o.jsx("input",{type:"text",placeholder:"Paciente o DNI...",value:u,onChange:w=>h(w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("admissions.status")}),o.jsxs("select",{value:f,onChange:w=>g(w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"",children:e("common.all")}),o.jsx("option",{value:"programado",children:e("admissions.programado")}),o.jsx("option",{value:"confirmado",children:e("admissions.confirmado")}),o.jsx("option",{value:"en_proceso",children:e("admissions.en_proceso")}),o.jsx("option",{value:"completado",children:e("admissions.completado")}),o.jsx("option",{value:"cancelado",children:e("admissions.cancelado")})]})]})]}),d?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:e("common.loading")})]}):b.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("common.noData")})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Paciente"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tipo de Examen"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Empresa"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha Programada"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Mdico"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:b.map(w=>{var _;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[w.paciente.usuario.nombres," ",w.paciente.usuario.apellidos]}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["DNI: ",w.paciente.usuario.dni]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:w.tipo_examen})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:((_=w.empresa)==null?void 0:_.razon_social)||"N/A"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:new Date(w.fecha_programada).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"})}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(w.fecha_programada).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:w.medico?`Dr. ${w.medico.nombres} ${w.medico.apellidos}`:"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(w.estado)}`,children:N(w.estado)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsx("button",{onClick:()=>t(`/admisiones/${w.id}`),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300",children:"Ver Detalles"})})]},w.id)})})]})}),x>1&&o.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 pt-4",children:[o.jsx("button",{onClick:()=>p(w=>Math.max(1,w-1)),disabled:m===1,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),o.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Pgina ",m," de ",x]}),o.jsx("button",{onClick:()=>p(w=>Math.min(x,w+1)),disabled:m===x,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})]})]})]})})})}const Fy=S.createContext(void 0);function g4({children:t}){const[e,r]=S.useState([]),[n,s]=S.useState(null),i=S.useCallback(m=>{r(p=>p.filter(x=>x.id!==m))},[]),a=S.useCallback((m,p="info",x=4e3)=>{const y=Math.random().toString(36).substring(2,9),v={id:y,message:m,type:p,duration:x};r(b=>[...b,v]),x>0&&setTimeout(()=>{i(y)},x)},[i]),l=S.useCallback((m,p)=>{a(m,"success",p)},[a]),d=S.useCallback((m,p)=>{a(m,"error",p)},[a]),c=S.useCallback((m,p)=>{a(m,"warning",p)},[a]),u=S.useCallback((m,p)=>{a(m,"info",p)},[a]),h=S.useCallback((m,p,x)=>{s({message:m,onConfirm:p,onCancel:x})},[]),f=S.useCallback(()=>{n&&(n.onConfirm(),s(null))},[n]),g=S.useCallback(()=>{var m;n&&((m=n.onCancel)==null||m.call(n),s(null))},[n]);return o.jsxs(Fy.Provider,{value:{toasts:e,showToast:a,showSuccess:l,showError:d,showWarning:c,showInfo:u,showConfirm:h,removeToast:i},children:[t,o.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md w-full sm:w-auto",children:e.map(m=>o.jsxs("div",{className:`
              relative flex items-center p-4 rounded-lg shadow-lg border-l-4 animate-in slide-in-from-right
              ${m.type==="success"?"bg-green-50 dark:bg-green-900/20 border-green-500 text-green-800 dark:text-green-200":m.type==="error"?"bg-red-50 dark:bg-red-900/20 border-red-500 text-red-800 dark:text-red-200":m.type==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500 text-yellow-800 dark:text-yellow-200":"bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-800 dark:text-blue-200"}
            `,children:[o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-sm font-medium",children:m.message})}),o.jsx("button",{onClick:()=>i(m.id),className:"ml-4 text-current opacity-70 hover:opacity-100",children:o.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},m.id))}),n&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 dark:bg-opacity-75",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Confirmar"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:n.message}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:g,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Cancelar"}),o.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600",children:"Confirmar"})]})]})})]})}function Bt(){const t=S.useContext(Fy);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function p4(){const{t}=Te(),e=nt(),{showSuccess:r,showError:n,showWarning:s}=Bt(),[i]=H0(),a=i.get("patientId"),[l,d]=S.useState(1),[c,u]=S.useState(null),[h,f]=S.useState([]),[g,m]=S.useState([]),[p,x]=S.useState([]),[y,v]=S.useState([]),[b,k]=S.useState(!1),[N,j]=S.useState({dni:"",nombres:"",apellidos:"",email:"",telefono:"",empresa_id:"",tipo_sangre:"",alergias:"",medicamentos_actuales:"",antecedentes_familiares:""}),[w,_]=S.useState({tipo_examen:"",fecha_programada:"",hora:"",medico_id:"",motivo_consulta:"",tipo_comprobante:"03",metodo_pago:""}),[E,C]=S.useState(!1),[T,A]=S.useState(!1),[I,D]=S.useState({}),[V,L]=S.useState(""),[W,M]=S.useState([]),[U,R]=S.useState(!1),[B,F]=S.useState(!1),X=de.useRef(null);S.useEffect(()=>{Q()},[]),S.useEffect(()=>{a&&it(a),i.get("newPatient")==="true"&&(k(!0),ie())},[a,i]),S.useEffect(()=>{w.fecha_programada&&w.tipo_examen&&ml()},[w.fecha_programada,w.tipo_examen,w.medico_id]);const Q=async()=>{var z;try{const[me,De]=await Promise.all([$.get("/admissions/exam-types").catch(()=>({data:[]})),$.get("/users?rol=doctor").catch(()=>({data:[]}))]);f(me.data||[]),m(((z=De.data)==null?void 0:z.data)||[])}catch(me){console.error("Error cargando datos:",me)}},ie=async()=>{try{const z=await $.get("/admissions/companies");v(Array.isArray(z.data)?z.data:[])}catch(z){console.error("Error cargando empresas:",z),v([])}},ne=async z=>{var me,De,Je,P,re;z.preventDefault(),A(!0);try{if(!N.dni||N.dni.length!==8){s("El DNI debe tener 8 dgitos"),A(!1);return}const Y={dni:N.dni,nombres:N.nombres,apellidos:N.apellidos,email:N.email||`${N.dni}@temp.com`,telefono:N.telefono,empresa_id:N.empresa_id||null,tipo_sangre:N.tipo_sangre||null,alergias:N.alergias||null,medicamentos_actuales:N.medicamentos_actuales||null,antecedentes_familiares:N.antecedentes_familiares||null},se=await $.post("/patients",Y);u({id:se.data.id,dni:((me=se.data.usuario)==null?void 0:me.dni)||N.dni,nombres:((De=se.data.usuario)==null?void 0:De.nombres)||N.nombres,apellidos:((Je=se.data.usuario)==null?void 0:Je.apellidos)||N.apellidos,empresa:se.data.empresa}),k(!1),d(2),r("Paciente registrado exitosamente")}catch(Y){console.error("Error creando paciente:",Y),n(((re=(P=Y.response)==null?void 0:P.data)==null?void 0:re.error)||"Error al registrar paciente")}finally{A(!1)}},it=async z=>{var me,De,Je;try{const P=await $.get(`/patients/${z}`);u({id:P.data.id,dni:((me=P.data.usuario)==null?void 0:me.dni)||"",nombres:((De=P.data.usuario)==null?void 0:De.nombres)||"",apellidos:((Je=P.data.usuario)==null?void 0:Je.apellidos)||"",empresa:P.data.empresa}),d(2)}catch(P){console.error("Error cargando paciente:",P)}},Jt=async z=>{if(z.length<2){M([]),F(!1);return}R(!0);try{const me=await $.get("/patients/search",{params:{q:z}}),De=Array.isArray(me.data)?me.data:[];M(De),F(De.length>0)}catch(me){console.error("Error buscando pacientes:",me),M([]),F(!1)}finally{R(!1)}},Zt=z=>{const me=z.target.value;if(L(me),X.current&&clearTimeout(X.current),me.length<2){M([]),F(!1);return}X.current=setTimeout(()=>{Jt(me)},300)},Yr=z=>{u({id:z.id,dni:z.dni,nombres:z.nombres,apellidos:z.apellidos,empresa:z.razon_social?{razon_social:z.razon_social}:void 0}),L(`${z.nombres} ${z.apellidos} - DNI: ${z.dni}`),M([]),F(!1),d(2)},ml=async()=>{try{const z=await $.get("/admissions/calendar/slots",{params:{date:w.fecha_programada,examType:w.tipo_examen,doctorId:w.medico_id||void 0}});x(z.data||[])}catch(z){console.error("Error cargando horarios:",z),x([])}},gl=async z=>{var me,De;z.preventDefault(),C(!0);try{const Je=await $.post("/admissions",{paciente_id:c.id,tipo_examen:w.tipo_examen,fecha_programada:w.fecha_programada,hora:w.hora,medico_id:w.medico_id||null,motivo_consulta:w.motivo_consulta,tipo_comprobante:w.tipo_comprobante,metodo_pago:w.metodo_pago});if(Je.data.success){const P=Je.data.id;if(Object.keys(I).length>0)try{const re=Object.entries(I).map(async([Y,se])=>{const Ki=new FormData;Ki.append("file",se),Ki.append("tipo",Y),await $.post(`/admissions/${P}/documents`,Ki)});await Promise.all(re)}catch(re){console.error("Error subiendo documentos:",re)}e(`/admisiones/${P}`)}}catch(Je){n(((De=(me=Je.response)==null?void 0:me.data)==null?void 0:De.error)||"Error al crear admisin")}finally{C(!1)}},qi=[{name:"Paciente",completed:l>1,current:l===1},{name:"Informacin",completed:l>2,current:l===2},{name:"Documentos",completed:l>3,current:l===3},{name:"Confirmacin",completed:l>4,current:l===4}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-white sm:text-3xl",children:t("admissions.newAdmission")}),o.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Registre una nueva admisin para evaluacin ocupacional"})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx("nav",{className:"flex items-center justify-center overflow-x-auto","aria-label":"Progress",children:o.jsx("ol",{className:"flex items-center space-x-4 sm:space-x-6 lg:space-x-8 min-w-max",children:qi.map((z,me)=>o.jsxs("li",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:`relative flex h-8 w-8 items-center justify-center rounded-full ${z.completed?"bg-green-600":z.current?"bg-indigo-600":"bg-gray-300"}`,children:z.completed?"":me+1}),o.jsxs("span",{className:`ml-2 sm:ml-3 text-xs sm:text-sm font-medium ${z.current?"text-indigo-600 dark:text-indigo-400":z.completed?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:[o.jsx("span",{className:"hidden sm:inline",children:z.name}),o.jsx("span",{className:"sm:hidden",children:z.name.split(" ")[0]})]})]}),me<qi.length-1&&o.jsx("div",{className:"hidden sm:block ml-4 sm:ml-6 lg:ml-8 w-16 sm:w-24 lg:w-32 h-0.5 bg-gray-300"})]},z.name))})})}),b?o.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 sm:p-6",children:o.jsxs("form",{onSubmit:ne,children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Registrar Nuevo Paciente"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"DNI *"}),o.jsx("input",{type:"text",value:N.dni,onChange:z=>j({...N,dni:z.target.value.replace(/\D/g,"")}),maxLength:8,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"12345678"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telfono"}),o.jsx("input",{type:"text",value:N.telefono,onChange:z=>j({...N,telefono:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombres *"}),o.jsx("input",{type:"text",value:N.nombres,onChange:z=>j({...N,nombres:z.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Apellidos *"}),o.jsx("input",{type:"text",value:N.apellidos,onChange:z=>j({...N,apellidos:z.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:N.email,onChange:z=>j({...N,email:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Empresa"}),o.jsxs("select",{value:N.empresa_id,onChange:z=>j({...N,empresa_id:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Sin empresa"}),y.map(z=>o.jsx("option",{value:z.id,children:z.razon_social},z.id))]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Sangre"}),o.jsxs("select",{value:N.tipo_sangre,onChange:z=>j({...N,tipo_sangre:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"No especificado"}),o.jsx("option",{value:"A+",children:"A+"}),o.jsx("option",{value:"A-",children:"A-"}),o.jsx("option",{value:"B+",children:"B+"}),o.jsx("option",{value:"B-",children:"B-"}),o.jsx("option",{value:"AB+",children:"AB+"}),o.jsx("option",{value:"AB-",children:"AB-"}),o.jsx("option",{value:"O+",children:"O+"}),o.jsx("option",{value:"O-",children:"O-"})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Alergias"}),o.jsx("textarea",{value:N.alergias,onChange:z=>j({...N,alergias:z.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Medicamentos Actuales"}),o.jsx("textarea",{value:N.medicamentos_actuales,onChange:z=>j({...N,medicamentos_actuales:z.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Antecedentes Familiares"}),o.jsx("textarea",{value:N.antecedentes_familiares,onChange:z=>j({...N,antecedentes_familiares:z.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-between",children:[o.jsx("button",{type:"button",onClick:()=>{k(!1),e("/admisiones/nueva")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:T,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:T?"Registrando...":"Registrar Paciente"})]})]})}):o.jsxs("form",{onSubmit:gl,className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[l===1&&o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Seleccionar Paciente"}),o.jsxs("div",{className:"mb-4 relative",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Buscar por DNI, Nombre o Apellido"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Escriba el DNI o nombre del paciente...",value:V,onChange:Zt,onFocus:()=>{W.length>0&&F(!0)},onBlur:()=>{setTimeout(()=>F(!1),200)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),U&&o.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600 dark:border-indigo-400"})})]}),B&&W.length>0&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:o.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:W.map(z=>o.jsx("li",{onClick:()=>Yr(z),className:"px-4 py-3 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[z.nombres," ",z.apellidos]}),o.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[o.jsxs("span",{children:["DNI: ",z.dni]}),z.razon_social&&o.jsxs("span",{className:"truncate",children:["Empresa: ",z.razon_social]})]})]}),o.jsx("div",{className:"ml-4",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},z.id))})}),B&&W.length===0&&V.length>=2&&!U&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg p-4",children:o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"No se encontraron pacientes con ese criterio de bsqueda"})})]}),c&&o.jsx("div",{className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Paciente seleccionado:"}),o.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:[c.nombres," ",c.apellidos," - DNI: ",c.dni]}),c.empresa&&o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["Empresa: ",c.empresa.razon_social]})]}),o.jsx("button",{type:"button",onClick:()=>{u(null),L(""),M([]),F(!1)},className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:o.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 text-center",children:"No encuentra al paciente?"}),o.jsx("button",{type:"button",onClick:()=>{k(!0),ie()},className:"w-full bg-indigo-600 dark:bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 transition-colors",children:"Registrar Nuevo Paciente"})]})]}),l===2&&c&&o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informacin de la Admisin"}),o.jsxs("div",{className:"mb-4 bg-gray-50 rounded-lg p-4",children:[o.jsxs("p",{className:"font-medium",children:[c.nombres," ",c.apellidos]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["DNI: ",c.dni]}),c.empresa&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Empresa: ",c.empresa.razon_social]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Examen *"}),o.jsxs("select",{value:w.tipo_examen,onChange:z=>_({...w,tipo_examen:z.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Seleccione un tipo"}),h.map(z=>o.jsxs("option",{value:z.codigo,children:[z.nombre," (",z.duracion_minutos," min)"]},z.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),o.jsx("input",{type:"date",value:w.fecha_programada,onChange:z=>_({...w,fecha_programada:z.target.value}),min:new Date().toISOString().split("T")[0],required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora *"}),o.jsxs("select",{value:w.hora,onChange:z=>_({...w,hora:z.target.value}),disabled:!w.fecha_programada||p.length===0,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Seleccione una hora"}),p.map(z=>o.jsx("option",{value:z,children:z},z))]}),w.fecha_programada&&p.length===0&&o.jsx("p",{className:"mt-1 text-sm text-yellow-600",children:"No hay horarios disponibles"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mdico Asignado"}),o.jsxs("select",{value:w.medico_id,onChange:z=>_({...w,medico_id:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Auto-asignar"}),g.map(z=>o.jsxs("option",{value:z.id,children:["Dr. ",z.nombres," ",z.apellidos," ",z.especialidad?`- ${z.especialidad}`:""]},z.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo de Consulta"}),o.jsx("textarea",{value:w.motivo_consulta,onChange:z=>_({...w,motivo_consulta:z.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Describa el motivo de la consulta..."})]})]}),o.jsxs("div",{className:"mt-6 flex justify-between",children:[o.jsx("button",{type:"button",onClick:()=>d(1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Atrs"}),o.jsx("button",{type:"button",onClick:()=>d(3),disabled:!w.tipo_examen||!w.fecha_programada||!w.hora,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:"Continuar"})]})]}),l===3&&o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Documentos Requeridos"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Puede subir documentos ahora o despus de crear la admisin. (Opcional)"}),o.jsx("div",{className:"space-y-4 mb-6",children:[{key:"dni",label:"DNI"},{key:"carnet_salud",label:"Carnet de Salud"},{key:"historia_clinica",label:"Historia Clnica"},{key:"examenes_previos",label:"Exmenes Previos"},{key:"otros",label:"Otros Documentos"}].map(z=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:z.label}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:me=>{var Je;const De=(Je=me.target.files)==null?void 0:Je[0];De&&D({...I,[z.key]:De})},className:`block w-full text-sm text-gray-500 dark:text-gray-400\r
                            file:mr-4 file:py-2 file:px-4\r
                            file:rounded-md file:border-0\r
                            file:text-sm file:font-semibold\r
                            file:bg-indigo-50 file:text-indigo-700\r
                            hover:file:bg-indigo-100\r
                            dark:file:bg-indigo-900 dark:file:text-indigo-200`}),I[z.key]&&o.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400",children:[" ",I[z.key].name]})]})]},z.key))}),o.jsxs("div",{className:"mt-6 flex justify-between",children:[o.jsx("button",{type:"button",onClick:()=>d(2),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Atrs"}),o.jsx("button",{type:"button",onClick:()=>d(4),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Continuar"})]})]}),l===4&&o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmacin y Facturacin"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Resumen"}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Paciente:"})," ",c==null?void 0:c.nombres," ",c==null?void 0:c.apellidos]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"DNI:"})," ",c==null?void 0:c.dni]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Tipo de Examen:"})," ",w.tipo_examen]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Fecha y Hora:"})," ",w.fecha_programada," ",w.hora]})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Comprobante *"}),o.jsxs("select",{value:w.tipo_comprobante,onChange:z=>_({...w,tipo_comprobante:z.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"03",children:"Boleta"}),o.jsx("option",{value:"01",children:"Factura"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo de Pago *"}),o.jsxs("select",{value:w.metodo_pago,onChange:z=>_({...w,metodo_pago:z.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Seleccione"}),o.jsx("option",{value:"efectivo",children:"Efectivo"}),o.jsx("option",{value:"tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"transferencia",children:"Transferencia"}),o.jsx("option",{value:"yape",children:"Yape"}),o.jsx("option",{value:"plin",children:"Plin"})]})]})]})}),o.jsxs("div",{className:"mt-6 flex justify-between",children:[o.jsx("button",{type:"button",onClick:()=>d(3),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Atrs"}),o.jsx("button",{type:"submit",disabled:E||!w.metodo_pago,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:E?"Procesando...":"Confirmar y Crear Admisin"})]})]})]})]})})})}function x4({facturaId:t,amount:e,metodoPago:r,onSuccess:n,onError:s,onManualPayment:i}){const[a,l]=S.useState(""),[d,c]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[m,p]=S.useState(!1),[x,y]=S.useState(null),v=E=>{const C=E.replace(/\s+/g,"").replace(/[^0-9]/gi,""),T=C.match(/\d{4,16}/g),A=T&&T[0]||"",I=[];for(let D=0,V=A.length;D<V;D+=4)I.push(A.substring(D,D+4));return I.length?I.join(" "):C},b=E=>{const C=E.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return C.length>=2?C.substring(0,2)+"/"+C.substring(2,4):C},k=E=>{const C=v(E.target.value);l(C)},N=E=>{const C=b(E.target.value);h(C)},j=E=>{const C=E.target.value.replace(/\s+/g,"").replace(/[^0-9]/gi,"");C.length<=4&&g(C)},w=()=>!a||a.replace(/\s/g,"").length<13?(y("Nmero de tarjeta invlido"),!1):!d||d.trim().length<3?(y("Nombre del titular es requerido"),!1):!u||u.length<5?(y("Fecha de expiracin invlida"),!1):!f||f.length<3?(y("CVV invlido"),!1):!0,_=async E=>{E.preventDefault(),y(null),w()&&(p(!0),setTimeout(async()=>{var C,T;try{const A=`sim_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(i)await i(A);else{const I=await $.post("/facturacion/pagos",{factura_id:t,monto:e,metodo_pago:r,payment_intent_id:A,transaccion_id:A});n(I.data.id||t)}p(!1)}catch(A){console.error("Error procesando pago:",A),s(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.error)||"Error al procesar el pago"),p(!1)}},2e3))};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("svg",{className:"h-4 w-4 text-green-600 dark:text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o.jsx("span",{children:"Pago seguro y encriptado. Tus datos estn protegidos."})]})}),o.jsxs("form",{onSubmit:_,className:"space-y-4",autoComplete:"off",noValidate:!0,children:[o.jsxs("div",{className:"p-4 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Datos de la Tarjeta"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nmero de Tarjeta"}),o.jsx("input",{type:"text",value:a,onChange:k,placeholder:"Ingrese los 16 dgitos",maxLength:19,autoComplete:"off",name:"payment-number","data-payment-field":"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:m})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Nombre del Titular"}),o.jsx("input",{type:"text",value:d,onChange:E=>c(E.target.value.toUpperCase()),placeholder:"Nombre completo",autoComplete:"off",name:"payment-name","data-payment-field":"name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:m})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Fecha de Expiracin"}),o.jsx("input",{type:"text",value:u,onChange:N,placeholder:"Mes / Ao",maxLength:5,autoComplete:"off",name:"payment-expiry","data-payment-field":"expiry",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:m})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Cdigo de Seguridad"}),o.jsx("input",{type:"text",value:f,onChange:j,placeholder:"3 dgitos",maxLength:4,autoComplete:"off",name:"payment-code","data-payment-field":"code",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:m})]})]})]}),x&&o.jsx("p",{className:"mt-3 text-sm text-red-600 dark:text-red-400",children:x})]}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total a Pagar:"}),o.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["S/ ",e.toFixed(2)]})]})}),o.jsx("button",{type:"submit",disabled:m,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center",children:m?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando pago..."]}):`Pagar S/ ${e.toFixed(2)}`}),o.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500 dark:text-gray-400 mt-2",children:[o.jsx("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Procesado por pasarela de pagos segura"})]})]})]})}function y4({facturaId:t,amount:e,metodoPago:r,onSuccess:n,onError:s,onManualPayment:i}){const[a,l]=S.useState(""),[d,c]=S.useState(!1),u=async h=>{var f,g;h.preventDefault(),c(!0);try{if(i)i(a);else{const m=await $.post("/facturacion/pagos",{factura_id:t,monto:e,metodo_pago:r,transaccion_id:a||`manual_${Date.now()}`});n(m.data.id||t)}}catch(m){s(((g=(f=m.response)==null?void 0:f.data)==null?void 0:g.error)||"Error al procesar el pago")}finally{c(!1)}};return o.jsx("div",{className:"space-y-4",children:o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nmero de Transaccin / Referencia"}),o.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ingrese el nmero de transaccin",required:!0})]}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total a Pagar:"}),o.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["S/ ",e.toFixed(2)]})]})}),o.jsx("button",{type:"submit",disabled:d,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:d?"Procesando...":`Registrar Pago S/ ${e.toFixed(2)}`})]})})}function b4(t){return t.metodoPago==="tarjeta"?o.jsx(x4,{...t}):o.jsx(y4,{...t})}function v4(){var D,V;const{t}=Te(),{showSuccess:e,showError:r,showWarning:n}=Bt(),{id:s}=Yw(),i=nt(),[a,l]=S.useState(null),[d,c]=S.useState(!0),[u,h]=S.useState("info"),[f,g]=S.useState(!1),[m,p]=S.useState({tipo:"otros",file:null}),[x,y]=S.useState(null),[v,b]=S.useState(!1),[k,N]=S.useState({metodo_pago:"efectivo",transaccion_id:""});S.useEffect(()=>{s&&j()},[s]);const j=async()=>{try{const L=await $.get(`/admissions/${s}`);l(L.data)}catch(L){console.error("Error cargando admisin:",L),r("Error al cargar la admisin")}finally{c(!1)}},w=async L=>{var W,M;try{await $.put(`/admissions/${s}`,{estado:L}),await j()}catch(U){r(((M=(W=U.response)==null?void 0:W.data)==null?void 0:M.error)||"Error al actualizar estado")}},_=async(L,W)=>{var M,U;try{const R=await $.get(`/facturacion/facturas/${L}/boleta`,{responseType:"blob"}),B=window.URL.createObjectURL(new Blob([R.data])),F=document.createElement("a");F.href=B,F.setAttribute("download",`boleta-${W||L}.pdf`),document.body.appendChild(F),F.click(),F.remove(),window.URL.revokeObjectURL(B)}catch(R){console.error("Error descargando boleta:",R),r(((U=(M=R.response)==null?void 0:M.data)==null?void 0:U.error)||"Error al descargar boleta")}},E=async L=>{var M,U,R,B;if(L.preventDefault(),!(a!=null&&a.factura)){n("No hay factura asociada");return}if(k.metodo_pago==="tarjeta")return;let W=(M=a.factura)==null?void 0:M.id;if(!W)try{const F=await $.get("/facturacion/facturas"),Q=(((U=F.data)==null?void 0:U.data)||F.data||[]).find(ie=>ie.admision_id===a.id);if(Q&&Q.id)W=Q.id;else{n("No se pudo encontrar el ID de la factura. Por favor, intente desde la pgina de Facturacin.");return}}catch(F){console.error("Error buscando factura:",F),r("Error al buscar la factura. Por favor, intente desde la pgina de Facturacin.");return}b(!0);try{await $.post("/facturacion/pagos",{factura_id:W,monto:a.factura.total?Number(a.factura.total):0,metodo_pago:k.metodo_pago,transaccion_id:k.transaccion_id||null}),e("Pago registrado exitosamente"),N({metodo_pago:"efectivo",transaccion_id:""}),await j()}catch(F){console.error("Error procesando pago:",F),r(((B=(R=F.response)==null?void 0:R.data)==null?void 0:B.error)||"Error al procesar pago")}finally{b(!1)}},C=async L=>{e("Pago procesado exitosamente"),N({metodo_pago:"efectivo",transaccion_id:""}),await j()},T=L=>{r(L)},A=async L=>{var M,U,R,B;if(!(a!=null&&a.factura)){n("No hay factura asociada");return}let W=(M=a.factura)==null?void 0:M.id;if(!W)try{const F=await $.get("/facturacion/facturas"),Q=(((U=F.data)==null?void 0:U.data)||F.data||[]).find(ie=>ie.admision_id===a.id);if(Q&&Q.id)W=Q.id;else{n("No se pudo encontrar el ID de la factura.");return}}catch{r("Error al buscar la factura.");return}b(!0);try{await $.post("/facturacion/pagos",{factura_id:W,monto:a.factura.total?Number(a.factura.total):0,metodo_pago:k.metodo_pago,transaccion_id:L||null}),e("Pago registrado exitosamente"),N({metodo_pago:"efectivo",transaccion_id:""}),await j()}catch(F){console.error("Error procesando pago:",F),r(((B=(R=F.response)==null?void 0:R.data)==null?void 0:B.error)||"Error al procesar pago")}finally{b(!1)}},I=L=>({programado:"bg-blue-100 text-blue-800",confirmado:"bg-yellow-100 text-yellow-800",en_proceso:"bg-purple-100 text-purple-800",completado:"bg-green-100 text-green-800",cancelado:"bg-red-100 text-red-800"})[L]||"bg-gray-100 text-gray-800";return d?o.jsx(ze,{children:o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando admisin..."})]})}):a?o.jsxs(ze,{children:[o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("button",{onClick:()=>i("/admisiones"),className:"text-indigo-600 hover:text-indigo-700 mb-4",children:" Volver a Admisiones"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Admisin #",a.id.substring(0,8)]}),o.jsxs("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:[a.paciente.usuario.nombres," ",a.paciente.usuario.apellidos]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${I(a.estado)}`,children:a.estado}),a.estado==="programado"&&o.jsx("button",{onClick:()=>w("confirmado"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Confirmar"}),a.estado==="confirmado"&&o.jsx("button",{onClick:()=>w("en_proceso"),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Iniciar Atencin"}),a.estado==="en_proceso"&&o.jsx("button",{onClick:()=>w("completado"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Completar"})]})]})]}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:["info","documentos","seguimiento","factura"].map(L=>o.jsxs("button",{onClick:()=>h(L),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${u===L?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:[L==="info"&&"Informacin",L==="documentos"&&"Documentos",L==="seguimiento"&&"Seguimiento",L==="factura"&&"Facturacin"]},L))})}),u==="info"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Datos del Paciente"}),o.jsxs("dl",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"DNI"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:a.paciente.usuario.dni})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Nombres Completos"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[a.paciente.usuario.nombres," ",a.paciente.usuario.apellidos]})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.paciente.usuario.email})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Telfono"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.paciente.usuario.telefono})]}),a.paciente.empresa&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Empresa"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.paciente.empresa.razon_social})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"RUC"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.paciente.empresa.ruc})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Informacin de la Cita"}),o.jsxs("dl",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Tipo de Examen"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.tipo_examen})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha y Hora"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(a.fecha_programada).toLocaleString("es-PE")})]}),a.medico&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Mdico Asignado"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:["Dr. ",a.medico.nombres," ",a.medico.apellidos,a.medico.especialidad&&` - ${a.medico.especialidad}`]})]}),a.motivo_consulta&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Motivo de Consulta"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.motivo_consulta})]}),a.observaciones_admision&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:a.observaciones_admision})]})]})]})]}),o.jsxs("div",{className:"mt-6 flex space-x-4",children:[o.jsx("button",{onClick:()=>i(`/medico?admissionId=${s}`),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Ver Historia Clnica"}),o.jsx("button",{onClick:()=>i(`/concepto-aptitud?admissionId=${s}`),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Generar Concepto de Aptitud"})]})]}),u==="documentos"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Documentos Adjuntos"})}),o.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Subir Nuevo Documento"}),o.jsxs("form",{onSubmit:async L=>{var W,M;if(L.preventDefault(),!m.file){n("Seleccione un archivo");return}g(!0);try{const U=new FormData;U.append("file",m.file),U.append("tipo",m.tipo),await $.post(`/admissions/${s}/documents`,U),e("Documento subido exitosamente"),p({tipo:"otros",file:null}),await j()}catch(U){r(((M=(W=U.response)==null?void 0:W.data)==null?void 0:M.error)||"Error al subir documento")}finally{g(!1)}},className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("select",{value:m.tipo,onChange:L=>p({...m,tipo:L.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"dni",children:"DNI"}),o.jsx("option",{value:"carnet_salud",children:"Carnet de Salud"}),o.jsx("option",{value:"historia_clinica",children:"Historia Clnica"}),o.jsx("option",{value:"examenes_previos",children:"Exmenes Previos"}),o.jsx("option",{value:"otros",children:"Otros Documentos"})]}),o.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:L=>{var M;const W=(M=L.target.files)==null?void 0:M[0];W&&p({...m,file:W})},className:`block w-full text-sm text-gray-500 dark:text-gray-400\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-md file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-indigo-50 file:text-indigo-700\r
                      hover:file:bg-indigo-100\r
                      dark:file:bg-indigo-900 dark:file:text-indigo-200`,required:!0}),o.jsx("button",{type:"submit",disabled:f||!m.file,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Subiendo...":"Subir"})]})]}),a.documentos&&a.documentos.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nombre del Archivo"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha de Subida"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.documentos.map(L=>{var B,F,X;const W=(B=L.nombre_archivo)==null?void 0:B.match(/\.(pdf|jpg|jpeg|png|gif|webp)$/i),M=(F=L.nombre_archivo)==null?void 0:F.match(/\.(jpg|jpeg|png|gif|webp)$/i),U=(X=L.nombre_archivo)==null?void 0:X.match(/\.pdf$/i),R=`/api/public/admissions/${s}/documents/${L.id}`;return`${s}${L.id}`,o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.nombre_archivo})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:L.tipo})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:new Date(L.created_at).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[W&&o.jsx("button",{onClick:()=>y({id:L.id,nombre:L.nombre_archivo,tipo:U?"pdf":M?"image":"other"}),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300",children:"Ver"}),o.jsx("a",{href:R,download:!0,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:"Descargar"})]})})]},L.id)})})]})}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay documentos adjuntos"})})]}),u==="seguimiento"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Seguimiento Logstico"}),o.jsx("button",{onClick:j,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),a.seguimiento_logistico&&a.seguimiento_logistico.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ubicacin"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Mensaje"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha y Hora"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.seguimiento_logistico.map((L,W)=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:L.estado})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:L.ubicacion||""})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:L.mensaje||""})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:new Date(L.created_at).toLocaleString("es-PE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})})]},W))})]})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No hay eventos de seguimiento"}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"El seguimiento se actualiza automticamente cuando cambia el estado de la admisin."})]})]}),u==="factura"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Informacin de Facturacin"}),a.factura?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsxs("dl",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Nmero de Factura"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:a.factura.numero_correlativo})]}),a.factura.fecha_emision&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Fecha de Emisin"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(a.factura.fecha_emision).toLocaleDateString("es-PE")})]}),a.factura.subtotal&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Subtotal"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:["S/ ",Number(a.factura.subtotal).toFixed(2)]})]}),a.factura.igv&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"IGV (18%)"}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:["S/ ",Number(a.factura.igv).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total"}),o.jsxs("dd",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:["S/ ",a.factura.total?Number(a.factura.total).toFixed(2):"0.00"]})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Estado"}),o.jsx("dd",{className:"mt-1",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.factura.estado==="pagado"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":a.factura.estado==="pendiente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:a.factura.estado==="pagado"?"Pagado":a.factura.estado==="pendiente"?"Pendiente":a.factura.estado})})]}),a.factura.metodo_pago&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Mtodo de Pago"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white capitalize",children:a.factura.metodo_pago})]})]})}),a.factura.estado==="pendiente"&&o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4",children:"Registrar Pago"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mtodo de Pago *"}),o.jsxs("select",{value:k.metodo_pago,onChange:L=>N({...k,metodo_pago:L.target.value,transaccion_id:""}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"efectivo",children:"Efectivo"}),o.jsx("option",{value:"tarjeta",children:"Tarjeta (Stripe)"}),o.jsx("option",{value:"transferencia",children:"Transferencia"}),o.jsx("option",{value:"yape",children:"Yape"}),o.jsx("option",{value:"plin",children:"Plin"})]})]}),k.metodo_pago==="tarjeta"?o.jsx("div",{children:(()=>{var W;let L=(W=a.factura)==null?void 0:W.id;return L?o.jsx(b4,{facturaId:L,amount:a.factura.total?Number(a.factura.total):0,metodoPago:k.metodo_pago,onSuccess:C,onError:T,onManualPayment:A}):o.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md",children:o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"No se pudo encontrar el ID de la factura. Por favor, intente desde la pgina de Facturacin."})})})()}):o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[(k.metodo_pago==="transferencia"||k.metodo_pago==="yape"||k.metodo_pago==="plin")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nmero de Transaccin / Referencia"}),o.jsx("input",{type:"text",value:k.transaccion_id,onChange:L=>N({...k,transaccion_id:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ingrese el nmero de transaccin"})]}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total a Pagar:"}),o.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["S/ ",a.factura.total?Number(a.factura.total).toFixed(2):"0.00"]})]})}),o.jsx("button",{type:"submit",disabled:v,className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:v?"Procesando...":"Registrar Pago"})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{onClick:async()=>{var W,M,U;let L=(W=a.factura)==null?void 0:W.id;if(!L)try{const R=await $.get("/facturacion/facturas"),F=(((M=R.data)==null?void 0:M.data)||R.data||[]).find(X=>X.admision_id===a.id);if(F&&F.id)L=F.id;else{n("No se encontr la factura para descargar");return}}catch{r("Error al buscar la factura");return}await _(L,(U=a.factura)==null?void 0:U.numero_correlativo)},className:"inline-flex items-center px-3 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-300 hover:underline",children:"Descargar boleta PDF"})})]}),((D=a.factura)==null?void 0:D.estado)==="pagado"&&o.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:o.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:["Esta factura ya ha sido pagada.",((V=a.factura)==null?void 0:V.metodo_pago)&&` Mtodo de pago: ${a.factura.metodo_pago}`]})]})})})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No hay factura asociada a esta admisin."}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"La factura se crea automticamente al crear la admisin si el tipo de examen tiene un precio base configurado."})]})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>y(null)}),o.jsxs("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:x.nombre}),o.jsxs("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:[o.jsx("span",{className:"sr-only",children:"Cerrar"}),o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6",children:o.jsx("div",{className:"w-full",style:{maxHeight:"70vh",overflow:"auto"},children:x.tipo==="pdf"?o.jsx("iframe",{src:`${$.defaults.baseURL}/admissions/${s}/documents/${x.id}?view=true`,className:"w-full border-0 rounded",style:{height:"70vh",minHeight:"500px"},title:x.nombre}):x.tipo==="image"?o.jsx("div",{className:"flex justify-center bg-gray-100 dark:bg-gray-900 p-4 rounded",children:o.jsx("img",{src:`${$.defaults.baseURL}/admissions/${s}/documents/${x.id}?view=true`,alt:x.nombre,className:"max-w-full h-auto rounded shadow-lg",style:{maxHeight:"70vh"}})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Este tipo de archivo no se puede visualizar en el navegador."}),o.jsx("a",{href:`${$.defaults.baseURL}/admissions/${s}/documents/${x.id}`,download:!0,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Descargar archivo"})]})})}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse border-t border-gray-200 dark:border-gray-600",children:[o.jsx("button",{type:"button",onClick:()=>y(null),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",children:"Cerrar"}),o.jsx("a",{href:`${$.defaults.baseURL}/admissions/${s}/documents/${x.id}`,download:!0,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500",children:"Descargar"})]})]})]})})]}):o.jsx(ze,{children:o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Admisin no encontrada"}),o.jsx("button",{onClick:()=>i("/admisiones"),className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"Volver a Admisiones"})]})})}function w4(){const{t}=Te(),e=nt(),[r,n]=S.useState([]),[s,i]=S.useState(!0),[a,l]=S.useState(new Date),[d,c]=S.useState("month"),[u,h]=S.useState(""),[f,g]=S.useState([]);S.useEffect(()=>{m(),p()},[a,u]);const m=async()=>{var w;try{const _=await $.get("/users?rol=doctor");g(((w=_.data)==null?void 0:w.data)||[])}catch(_){console.error("Error cargando doctores:",_)}},p=async()=>{i(!0);try{const w=x(),_=y(),E={start:w.toISOString(),end:_.toISOString()};u&&(E.medico_id=u);const C=await $.get("/admissions/calendar/events",{params:E});n(C.data||[])}catch(w){console.error("Error cargando eventos:",w)}finally{i(!1)}},x=()=>{const w=new Date(a);if(d==="month")w.setDate(1),w.setHours(0,0,0,0);else if(d==="week"){const _=w.getDay();w.setDate(w.getDate()-_),w.setHours(0,0,0,0)}else w.setHours(0,0,0,0);return w},y=()=>{const w=new Date(a);return d==="month"?(w.setMonth(w.getMonth()+1),w.setDate(0),w.setHours(23,59,59,999)):(d==="week"&&w.setDate(w.getDate()+(6-w.getDay())),w.setHours(23,59,59,999)),w},v=w=>{const _=new Date(a);d==="month"?_.setMonth(_.getMonth()+(w==="next"?1:-1)):d==="week"?_.setDate(_.getDate()+(w==="next"?7:-7)):_.setDate(_.getDate()+(w==="next"?1:-1)),l(_)},b=()=>{l(new Date)},k=()=>{const w=a.getFullYear(),_=a.getMonth(),E=new Date(w,_,1),T=new Date(w,_+1,0).getDate(),A=E.getDay(),I=[];for(let D=0;D<A;D++)I.push(null);for(let D=1;D<=T;D++)I.push(new Date(w,_,D));return I},N=w=>{if(!w)return[];const _=w.toISOString().split("T")[0];return r.filter(E=>new Date(E.start).toISOString().split("T")[0]===_)},j=w=>w.toLocaleDateString("es-PE",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Calendario de Citas"}),o.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Visualizacin y gestin de turnos programados"})]}),o.jsx("button",{onClick:()=>e("/admisiones/nueva"),className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm sm:text-base",children:" Nueva Cita"})]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-3 sm:p-4 mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>v("prev"),className:"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50",children:" Anterior"}),o.jsx("button",{onClick:b,className:"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50",children:"Hoy"}),o.jsx("button",{onClick:()=>v("next"),className:"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50",children:"Siguiente "}),o.jsx("span",{className:"ml-4 font-medium text-gray-900 dark:text-white",children:j(a)})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4",children:[o.jsxs("select",{value:d,onChange:w=>c(w.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm",children:[o.jsx("option",{value:"month",children:"Mes"}),o.jsx("option",{value:"week",children:"Semana"}),o.jsx("option",{value:"day",children:"Da"})]}),o.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-md text-sm",children:[o.jsx("option",{value:"",children:"Todos los mdicos"}),f.map(w=>o.jsxs("option",{value:w.id,children:["Dr. ",w.nombres," ",w.apellidos]},w.id))]})]})]})}),s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando calendario..."})]}):d==="month"?o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"].map(w=>o.jsx("div",{className:"p-2 text-center font-medium text-gray-700 bg-gray-50",children:w},w))}),o.jsx("div",{className:"grid grid-cols-7",children:k().map((w,_)=>{const E=N(w),C=w&&w.toDateString()===new Date().toDateString(),T=w&&w.getMonth()===a.getMonth();return o.jsx("div",{className:`min-h-24 border border-gray-200 p-2 ${T?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700"} ${C?"bg-blue-50 border-blue-300":""}`,children:w&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`text-sm font-medium mb-1 ${C?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:w.getDate()}),o.jsxs("div",{className:"space-y-1",children:[E.slice(0,3).map(A=>o.jsxs("div",{onClick:()=>e(`/admisiones/${A.id}`),className:"text-xs p-1 rounded cursor-pointer hover:opacity-80",style:{backgroundColor:A.backgroundColor,color:"white"},title:A.title,children:[new Date(A.start).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"})," - ",A.title.substring(0,15)]},A.id)),E.length>3&&o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",E.length-3," ms"]})]})]})},_)})})]}):o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsx("div",{className:"space-y-4",children:r.length===0?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay citas programadas para este perodo"}):r.map(w=>o.jsx("div",{onClick:()=>e(`/admisiones/${w.id}`),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:w.title}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(w.start).toLocaleString("es-PE")}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Tipo: ",w.extendedProps.tipo_examen,w.extendedProps.medico&&`  Mdico: ${w.extendedProps.medico}`]})]}),o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:w.backgroundColor},children:w.extendedProps.estado})]})},w.id))})}),o.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Leyenda"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded mr-2"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Programado"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completado"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-2"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cancelado"})]})]})]})]})})})}function k4(){const{t}=Te(),{showSuccess:e,showError:r,showConfirm:n}=Bt();nt();const[s,i]=S.useState([]),[a,l]=S.useState(!0),[d,c]=S.useState(!1),[u,h]=S.useState(null),[f,g]=S.useState(""),[m,p]=S.useState({ruc:"",razon_social:"",nombre_comercial:"",direccion:"",telefono:"",contacto_nombre:"",contacto_email:""});S.useEffect(()=>{x()},[]);const x=async()=>{l(!0);try{const j=await $.get("/admissions/companies");i(j.data||[])}catch(j){console.error("Error cargando empresas:",j)}finally{l(!1)}},y=async j=>{var w,_;j.preventDefault();try{u?await $.put(`/admissions/companies/${u.id}`,m):await $.post("/admissions/companies",m),c(!1),h(null),p({ruc:"",razon_social:"",nombre_comercial:"",direccion:"",telefono:"",contacto_nombre:"",contacto_email:""}),await x()}catch(E){r(((_=(w=E.response)==null?void 0:w.data)==null?void 0:_.error)||"Error al guardar empresa")}},v=j=>{h(j),p({ruc:j.ruc,razon_social:j.razon_social,nombre_comercial:j.nombre_comercial||"",direccion:j.direccion||"",telefono:j.telefono||"",contacto_nombre:j.contacto_nombre||"",contacto_email:j.contacto_email||""}),c(!0)},b=async j=>{n("Est seguro de eliminar esta empresa?",async()=>{var w,_;try{await $.delete(`/admissions/companies/${j}`),await x(),e("Empresa eliminada exitosamente")}catch(E){r(((_=(w=E.response)==null?void 0:w.data)==null?void 0:_.error)||"Error al eliminar empresa")}})},k=async j=>{var w,_;try{await $.put(`/admissions/companies/${j.id}`,{activo:!j.activo}),await x()}catch(E){r(((_=(w=E.response)==null?void 0:w.data)==null?void 0:_.error)||"Error al actualizar estado")}},N=s.filter(j=>j.razon_social.toLowerCase().includes(f.toLowerCase())||j.ruc.includes(f)||j.nombre_comercial&&j.nombre_comercial.toLowerCase().includes(f.toLowerCase()));return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestin de Empresas"}),o.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Administracin de empresas clientes"})]}),o.jsx("button",{onClick:()=>{c(!0),h(null),p({ruc:"",razon_social:"",nombre_comercial:"",direccion:"",telefono:"",contacto_nombre:"",contacto_email:""})},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:" Nueva Empresa"})]}),d&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:u?"Editar Empresa":"Nueva Empresa"}),o.jsxs("form",{onSubmit:y,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"RUC *"}),o.jsx("input",{type:"text",value:m.ruc,onChange:j=>p({...m,ruc:j.target.value}),required:!0,maxLength:11,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"12345678901"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razn Social *"}),o.jsx("input",{type:"text",value:m.razon_social,onChange:j=>p({...m,razon_social:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Comercial"}),o.jsx("input",{type:"text",value:m.nombre_comercial,onChange:j=>p({...m,nombre_comercial:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),o.jsx("input",{type:"text",value:m.telefono,onChange:j=>p({...m,telefono:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),o.jsx("input",{type:"text",value:m.direccion,onChange:j=>p({...m,direccion:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contacto - Nombre"}),o.jsx("input",{type:"text",value:m.contacto_nombre,onChange:j=>p({...m,contacto_nombre:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contacto - Email"}),o.jsx("input",{type:"email",value:m.contacto_email,onChange:j=>p({...m,contacto_email:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{c(!1),h(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[u?"Actualizar":"Crear"," Empresa"]})]})]})]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6",children:o.jsx("input",{type:"text",placeholder:"Buscar por RUC, razn social o nombre comercial...",value:f,onChange:j=>g(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:a?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando empresas..."})]}):N.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"No se encontraron empresas"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:hidden space-y-4 p-4",children:N.map(j=>o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.razon_social}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["RUC: ",j.ruc]}),j.nombre_comercial&&o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Nombre Comercial: ",j.nombre_comercial]})]}),o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.activo?"Activa":"Inactiva"})]}),j.contacto_nombre&&o.jsxs("div",{className:"mb-3 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("p",{className:"font-medium",children:["Contacto: ",j.contacto_nombre]}),j.contacto_email&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.contacto_email})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>v(j),className:"px-3 py-1 text-xs bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200",children:"Editar"}),o.jsx("button",{onClick:()=>k(j),className:`px-3 py-1 text-xs rounded ${j.activo?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:j.activo?"Desactivar":"Activar"}),o.jsx("button",{onClick:()=>b(j.id),className:"px-3 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Eliminar"})]})]},j.id))}),o.jsx("div",{className:"hidden lg:block overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"RUC"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Razn Social"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nombre Comercial"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contacto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:N.map(j=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:j.ruc}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:j.razon_social}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:j.nombre_comercial||"-"}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[j.contacto_nombre&&o.jsxs("div",{children:[o.jsx("div",{children:j.contacto_nombre}),j.contacto_email&&o.jsx("div",{className:"text-xs text-gray-400",children:j.contacto_email})]}),!j.contacto_nombre&&"-"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${j.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.activo?"Activa":"Inactiva"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>v(j),className:"text-indigo-600 hover:text-indigo-900",children:"Editar"}),o.jsx("button",{onClick:()=>k(j),className:j.activo?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900",children:j.activo?"Desactivar":"Activar"}),o.jsx("button",{onClick:()=>b(j.id),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})})]},j.id))})]})})]})})]})})})}function j4(){var U;const t=nt(),{t:e}=Te(),{showSuccess:r,showError:n,showWarning:s}=Bt(),[i,a]=S.useState("informacion"),[l,d]=S.useState([]),[c,u]=S.useState({patientId:"",diagnosis:"",aptitude:"APTO",notes:""}),[h,f]=S.useState([]),[g,m]=S.useState([]),[p,x]=S.useState(null),[y,v]=S.useState(!0),[b,k]=S.useState({patientId:""}),[N,j]=S.useState([]),[w,_]=S.useState(!1),[E,C]=S.useState([]),[T,A]=S.useState(!1);S.useEffect(()=>{I()},[]);const I=async()=>{var R;try{v(!0);const B=await $.get("/patients");f(Array.isArray((R=B.data)==null?void 0:R.data)?B.data.data:[]);try{const F=await $.get("/medical/history");d(Array.isArray(F.data)?F.data:[])}catch(F){console.log("Error cargando historias clnicas:",F),d([])}await L()}catch(B){console.error("Error cargando datos:",B),f([]),d([])}finally{v(!1)}};S.useEffect(()=>{c.patientId?$.get(`/admissions?paciente_id=${c.patientId}`).then(R=>{var F;const B=Array.isArray((F=R.data)==null?void 0:F.data)?R.data.data:Array.isArray(R.data)?R.data:[];m(B)}).catch(()=>m([])):m([])},[c.patientId]),S.useEffect(()=>{b.patientId?$.get(`/admissions?paciente_id=${b.patientId}`).then(R=>{var F;const B=Array.isArray((F=R.data)==null?void 0:F.data)?R.data.data:Array.isArray(R.data)?R.data:[];j(B)}).catch(()=>j([])):j([])},[b.patientId]);async function D(R){var B,F;R.preventDefault();try{const X=g.length>0?g[0]:null;if(!X){s("El paciente no tiene admisiones. Por favor, cree una admisin primero.");return}const Q={admision_id:X.id,sintomas:c.notes,diagnostico:c.diagnosis,tratamiento:"",observaciones:c.notes},ie=await $.post("/medical/history",Q);if(c.aptitude)try{await $.post("/concepto-aptitud",{admision_id:X.id,concepto:c.aptitude,observaciones:c.notes})}catch(ne){console.error("Error creando concepto de aptitud:",ne)}await I(),u({patientId:"",diagnosis:"",aptitude:"APTO",notes:""}),r("Historia clnica guardada correctamente")}catch(X){console.error("Error:",X),n(((F=(B=X.response)==null?void 0:B.data)==null?void 0:F.error)||"Error al guardar historia clnica")}}async function V(R){var B,F;if(R.preventDefault(),!p||!b.patientId){s("Por favor, seleccione un paciente y un archivo");return}_(!0);try{if(!(N.length>0?N[0]:null)){s("El paciente no tiene admisiones. Por favor, cree una admisin primero."),_(!1);return}const Q=new FormData;Q.append("patientId",b.patientId),Q.append("testName","Informe PDF"),Q.append("sampleId","N/A"),Q.append("result",""),Q.append("file",p),await $.post("/lab-results",Q),r("Resultado de laboratorio subido exitosamente"),x(null),k({patientId:""}),await L()}catch(X){console.error("Error subiendo resultado de laboratorio:",X),n(((F=(B=X.response)==null?void 0:B.data)==null?void 0:F.error)||"Error al subir resultado de laboratorio")}finally{_(!1)}}const L=async()=>{try{A(!0);const R=await $.get("/laboratory/samples");C(Array.isArray(R.data)?R.data:[])}catch(R){console.error("Error cargando exmenes de laboratorio:",R),C([])}finally{A(!1)}},W=async R=>{var B,F;try{const X=await $.get(`/laboratory/exams/${R}/document`,{responseType:"blob"}),Q=window.URL.createObjectURL(new Blob([X.data])),ie=document.createElement("a");ie.href=Q,ie.setAttribute("download",`examen-laboratorio-${R}.pdf`),document.body.appendChild(ie),ie.click(),ie.remove(),window.URL.revokeObjectURL(Q)}catch(X){console.error("Error descargando documento:",X),n(((F=(B=X.response)==null?void 0:B.data)==null?void 0:F.error)||"Error al descargar documento")}},M=[{id:"informacion",label:"Informacin"},{id:"documentos",label:"Documentos"},{id:"laboratorio",label:"Laboratorio"},{id:"lista",label:"Lista"}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-6",children:e("medical.title")}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:M.map(R=>o.jsx("button",{onClick:()=>a(R.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${i===R.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:R.label},R.id))})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[i==="informacion"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:e("medical.createRecord")}),o.jsxs("form",{onSubmit:D,className:"grid grid-cols-1 gap-4 max-w-2xl",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e("medical.selectPatient")," *"]}),o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:c.patientId,onChange:R=>u({...c,patientId:R.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar Paciente"}),h.map(R=>{var B,F,X;return o.jsxs("option",{value:R.id,children:[((B=R.usuario)==null?void 0:B.nombres)||""," ",((F=R.usuario)==null?void 0:F.apellidos)||""," - DNI: ",((X=R.usuario)==null?void 0:X.dni)||""]},R.id)})]})]}),g.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Admisiones del Paciente:"}),o.jsx("ul",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2 bg-gray-50 dark:bg-gray-900",children:g.map(R=>o.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300 py-1",children:[new Date(R.fecha_programada||R.date||Date.now()).toLocaleString("es-PE")," ",R.tipo_examen||R.examType||"Examen"," ",R.estado||R.status||"N/A"]},R.id))})]}),((U=g[0])==null?void 0:U.motivo_consulta)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motivo de Consulta (de la admisin):"}),o.jsx("div",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 sm:text-sm",children:g[0].motivo_consulta||"No especificado"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e("medical.diagnosis")," *"]}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:e("medical.diagnosis"),value:c.diagnosis,onChange:R=>u({...c,diagnosis:R.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Concepto de Aptitud"}),o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:c.aptitude,onChange:R=>u({...c,aptitude:R.target.value}),children:[o.jsx("option",{value:"APTO",children:e("medical.apto")}),o.jsx("option",{value:"NO APTO",children:e("medical.noApto")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("medical.notes")}),o.jsx("textarea",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:e("medical.notes"),value:c.notes,onChange:R=>u({...c,notes:R.target.value}),rows:4})]}),o.jsx("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",type:"submit",children:e("medical.createRecord")})]})]}),i==="documentos"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Subir Documento a Laboratorio"}),o.jsxs("form",{onSubmit:V,className:"grid grid-cols-1 gap-4 max-w-2xl",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Seleccionar Paciente *"}),o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:b.patientId,onChange:R=>k({...b,patientId:R.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar Paciente"}),h.map(R=>{var B,F,X;return o.jsxs("option",{value:R.id,children:[((B=R.usuario)==null?void 0:B.nombres)||""," ",((F=R.usuario)==null?void 0:F.apellidos)||""," - DNI: ",((X=R.usuario)==null?void 0:X.dni)||""]},R.id)})]})]}),N.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Admisiones del Paciente:"}),o.jsx("ul",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2 bg-gray-50 dark:bg-gray-900",children:N.map(R=>o.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300 py-1",children:[new Date(R.fecha_programada||R.date||Date.now()).toLocaleString("es-PE")," ",R.tipo_examen||R.examType||"Examen"," ",R.estado||R.status||"N/A"]},R.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Seleccionar Archivo PDF *"}),o.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:R=>{var B;return x(((B=R.target.files)==null?void 0:B[0])||null)},className:`mt-1 block w-full text-sm text-gray-500 dark:text-gray-400\r
                        file:mr-4 file:py-2 file:px-4\r
                        file:rounded-md file:border-0\r
                        file:text-sm file:font-semibold\r
                        file:bg-indigo-50 file:text-indigo-700 dark:file:bg-indigo-900 dark:file:text-indigo-200\r
                        hover:file:bg-indigo-100 dark:hover:file:bg-indigo-800`,required:!0}),p&&o.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Archivo seleccionado: ",o.jsx("span",{className:"font-medium",children:p.name})," (",(p.size/1024).toFixed(2)," KB)"]})]}),o.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Subiendo...":"Subir PDF a Laboratorio"})]})]}),i==="laboratorio"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:"Exmenes de Laboratorio"}),o.jsx("button",{onClick:L,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),T?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando exmenes..."})]}):E.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay exmenes de laboratorio registrados"}),o.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Los documentos que subas aparecern aqu"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Paciente"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tipo de Examen"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha Muestra"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha Resultado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Resultado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.map(R=>{var B,F,X,Q,ie,ne,it,Jt,Zt;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[((X=(F=(B=R.admision)==null?void 0:B.paciente)==null?void 0:F.usuario)==null?void 0:X.nombres)||"N/A"," ",((ne=(ie=(Q=R.admision)==null?void 0:Q.paciente)==null?void 0:ie.usuario)==null?void 0:ne.apellidos)||""]}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["DNI: ",((Zt=(Jt=(it=R.admision)==null?void 0:it.paciente)==null?void 0:Jt.usuario)==null?void 0:Zt.dni)||"N/A"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.tipo_examen||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.estado==="completado"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":R.estado==="pendiente"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":R.estado==="procesando"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:R.estado||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.fecha_muestra?new Date(R.fecha_muestra).toLocaleDateString("es-PE"):"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.fecha_resultado?new Date(R.fecha_resultado).toLocaleDateString("es-PE"):"Pendiente"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:R.resultado_final||"Sin resultado"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[R.archivo_resultado&&o.jsx("button",{onClick:()=>W(R.id),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 mr-4",children:"Descargar PDF"}),o.jsx("button",{onClick:()=>t(`/admisiones/${R.admision_id}`),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300",children:"Ver Admisin"})]})]},R.id)})})]})})]}),i==="lista"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:e("medical.medicalRecords")}),o.jsx("button",{onClick:I,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),y?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:e("common.loading")})]}):l.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("common.noData")})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Paciente"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Diagnstico"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Motivo Consulta"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Observaciones"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(R=>{var B,F,X,Q,ie,ne,it,Jt,Zt,Yr;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[((X=(F=(B=R.admision)==null?void 0:B.paciente)==null?void 0:F.usuario)==null?void 0:X.nombres)||"N/A"," ",((ne=(ie=(Q=R.admision)==null?void 0:Q.paciente)==null?void 0:ie.usuario)==null?void 0:ne.apellidos)||""]}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["DNI: ",((Zt=(Jt=(it=R.admision)==null?void 0:it.paciente)==null?void 0:Jt.usuario)==null?void 0:Zt.dni)||"N/A"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.diagnostico||R.diagnosis||"N/A"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:((Yr=R.admision)==null?void 0:Yr.motivo_consulta)||"N/A"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.created_at?new Date(R.created_at).toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"}):"N/A"}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.created_at?new Date(R.created_at).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"}):""})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:R.observaciones||R.anamnesis||"Sin observaciones"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsx("button",{onClick:()=>t(`/admisiones/${R.admision_id||R.id}`),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300",children:"Ver Detalles"})})]},R.id)})})]})})]})]})]})})})}function N4(){const{t}=Te(),{showError:e}=Bt(),[r,n]=S.useState([]),[s,i]=S.useState([]),[a,l]=S.useState({patientId:"",testName:"",sampleId:"",result:""}),[d,c]=S.useState(null),[u,h]=S.useState(!0);S.useEffect(()=>{f()},[]);const f=async()=>{var m;try{h(!0);const p=await $.get("/patients");i(Array.isArray((m=p.data)==null?void 0:m.data)?p.data.data:[]);const x=await $.get("/lab-results");n(Array.isArray(x.data)?x.data:[])}catch(p){console.error("Error cargando datos:",p),i([]),n([])}finally{h(!1)}};async function g(m){var p,x;m.preventDefault();try{const y=new FormData;y.append("patientId",a.patientId),y.append("testName",a.testName),y.append("sampleId",a.sampleId),y.append("result",a.result),d&&y.append("file",d);const v=await $.post("/lab-results",y,{headers:{"Content-Type":"multipart/form-data"}});n([v.data,...r]),l({patientId:"",testName:"",sampleId:"",result:""}),c(null)}catch(y){e(((x=(p=y.response)==null?void 0:p.data)==null?void 0:x.error)||"Error al guardar resultado")}}return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6",children:t("lab.title")}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md mb-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:t("lab.newResult")}),o.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 gap-4 max-w-full sm:max-w-md",children:[o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:a.patientId,onChange:m=>l({...a,patientId:m.target.value}),required:!0,children:[o.jsx("option",{value:"",children:t("lab.selectPatient")}),s.map(m=>{var p,x,y;return o.jsxs("option",{value:m.id,children:[((p=m.usuario)==null?void 0:p.nombres)||""," ",((x=m.usuario)==null?void 0:x.apellidos)||""," - DNI: ",((y=m.usuario)==null?void 0:y.dni)||""]},m.id)})]}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:t("lab.testName"),value:a.testName,onChange:m=>l({...a,testName:m.target.value}),required:!0}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:t("lab.sampleId"),value:a.sampleId,onChange:m=>l({...a,sampleId:m.target.value}),required:!0}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:t("lab.result"),value:a.result,onChange:m=>l({...a,result:m.target.value}),required:!0}),o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mt-2",children:t("lab.attachFile")}),o.jsx("input",{className:"mt-1 block w-full text-sm text-gray-900 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 focus:outline-none",type:"file",onChange:m=>{var p;return c(((p=m.target.files)==null?void 0:p[0])||null)}}),o.jsx("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",type:"submit",children:t("lab.submit")})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-white mb-4",children:t("lab.results")}),u?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:t("common.loading")})]}):r.length===0?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:t("lab.noResults")}):o.jsx("ul",{children:r.map(m=>o.jsxs("li",{className:"py-3 border-b border-gray-200 dark:border-gray-700 last:border-b-0 text-gray-800 dark:text-gray-200 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:m.testName||m.tipo_examen||"Examen"}),m.sampleId&&o.jsxs("span",{children:[" - ",t("lab.sampleId"),": ",m.sampleId]}),m.result&&o.jsxs("span",{children:[" - ",t("lab.result"),": ",m.result]}),m.resultado_final&&o.jsxs("span",{children:[" - ",t("lab.result"),": ",m.resultado_final]})]}),(m.fileUrl||m.archivo_resultado)&&o.jsx("a",{className:"text-blue-600 dark:text-blue-400 hover:underline text-sm",href:m.fileUrl||"#",target:"_blank",rel:"noopener noreferrer",children:t("common.view")})]},m.id))})]})]})})})}function S4(){const{t}=Te(),{showSuccess:e,showError:r,showWarning:n}=Bt(),[s,i]=S.useState("nueva"),[a,l]=S.useState([]),[d,c]=S.useState([]),[u,h]=S.useState({patientId:"",amount:0,type:"03",series:"B001"}),[f,g]=S.useState(!0);S.useEffect(()=>{m()},[]);const m=async()=>{var b,k;try{g(!0);const N=await $.get("/patients");c(Array.isArray((b=N.data)==null?void 0:b.data)?N.data.data:[]);try{const j=await $.get("/facturacion/facturas"),w=Array.isArray((k=j.data)==null?void 0:k.data)?j.data.data:Array.isArray(j.data)?j.data:[];console.log("Facturas cargadas:",w.length),w.length>0&&console.log("Primera factura de ejemplo:",{id:w[0].id,numero_correlativo:w[0].numero_correlativo,total:w[0].total,estado:w[0].estado}),l(w)}catch(j){console.error("Error cargando facturas:",j),l([])}}catch(N){console.error("Error cargando datos:",N),c([]),l([])}finally{g(!1)}};async function p(b){var k,N,j;b.preventDefault();try{const w=await $.get(`/admissions?paciente_id=${u.patientId}`),_=Array.isArray((k=w.data)==null?void 0:k.data)?w.data.data:Array.isArray(w.data)?w.data:[],E=_.length>0?_[0]:null;if(!E){n("El paciente no tiene admisiones. Por favor, cree una admisin primero.");return}const C=u.amount/1.18,T=u.amount*.18/1.18,A={admision_id:E.id,tipo_comprobante:u.type,numero_serie:u.series||(u.type==="01"?"F001":"B001"),subtotal:C,igv:T,total:u.amount,metodo_pago:"efectivo"},I=await $.post("/facturacion/facturas",A);await m(),h({patientId:"",amount:0,type:"03",series:"B001"}),e("Factura creada exitosamente"),i("lista")}catch(w){r(((j=(N=w.response)==null?void 0:N.data)==null?void 0:j.error)||"Error al crear factura")}}async function x(b){var k,N,j,w,_;try{if(!b){console.error("Error: ID de factura no vlido",b),r("ID de factura no vlido");return}console.log("Enviando factura a SUNAT con ID:",b),console.log("Payload que se enviar:",{factura_id:b}),e("Enviando factura a SUNAT...");const E=await $.post("/facturacion/sunat/enviar",{factura_id:b});await m(),((k=E.data)==null?void 0:k.estado)==="pagado"||(N=E.data)!=null&&N.cdr_sunat?e("Factura enviada a SUNAT exitosamente"):(j=E.data)!=null&&j.message?n(E.data.message||"La factura se proces pero puede requerir configuracin adicional"):e("Factura enviada a SUNAT")}catch(E){console.error("Error enviando a SUNAT:",E),console.error("Detalles del error:",(w=E.response)==null?void 0:w.data);let C="Error al enviar a SUNAT";(_=E.response)!=null&&_.data?(C=E.response.data.error||E.response.data.message||C,E.response.data.message&&E.response.data.message!==C&&(C=`${C}: ${E.response.data.message}`)):E.message&&(C=E.message),r(C)}}const y=async(b,k)=>{var N,j;try{const w=await $.get(`/facturacion/facturas/${b}/boleta`,{responseType:"blob"}),_=window.URL.createObjectURL(new Blob([w.data])),E=document.createElement("a");E.href=_,E.setAttribute("download",`boleta-${k||b}.pdf`),document.body.appendChild(E),E.click(),E.remove(),window.URL.revokeObjectURL(_)}catch(w){r(((j=(N=w.response)==null?void 0:N.data)==null?void 0:j.error)||"Error al descargar boleta")}},v=[{id:"nueva",label:"Nueva Factura"},{id:"lista",label:"Lista"}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6",children:t("billing.title")}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:v.map(b=>o.jsx("button",{onClick:()=>i(b.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${s===b.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:b.label},b.id))})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[s==="nueva"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:t("billing.newInvoice")}),o.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 gap-4 max-w-full sm:max-w-md",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[t("billing.selectPatient")," *"]}),o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:u.patientId,onChange:b=>h({...u,patientId:b.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar Paciente"}),d.map(b=>{var k,N,j;return o.jsxs("option",{value:b.id,children:[((k=b.usuario)==null?void 0:k.nombres)||""," ",((N=b.usuario)==null?void 0:N.apellidos)||""," - DNI: ",((j=b.usuario)==null?void 0:j.dni)||""]},b.id)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo *"}),o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:u.type,onChange:b=>{const k=b.target.value;h({...u,type:k,series:k==="01"?"F001":"B001"})},required:!0,children:[o.jsx("option",{value:"01",children:"Factura"}),o.jsx("option",{value:"03",children:"Boleta"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Serie *"}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:u.type==="01"?"F001":"B001",value:u.series,onChange:b=>h({...u,series:b.target.value.toUpperCase()}),required:!0,maxLength:4})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[t("billing.amount")," *"]}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:t("billing.amount"),type:"number",value:u.amount,onChange:b=>h({...u,amount:parseFloat(b.target.value)}),step:"0.01",required:!0})]}),o.jsx("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",type:"submit",children:t("billing.newInvoice")})]})]}),s==="lista"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:t("billing.invoices")}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Para verificar el estado en SUNAT, visita el portal de APISUNAT o revisa la columna "Estado SUNAT"'})]}),o.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),f?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t("common.loading")})]}):a.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t("common.noData")})}):o.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:o.jsx("div",{className:"inline-block min-w-full align-middle",children:o.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nmero"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:"Paciente"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:"IGV"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden lg:table-cell",children:"SUNAT"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hidden md:table-cell",children:"Fecha"}),o.jsx("th",{scope:"col",className:"px-3 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(b=>{var k,N,j,w,_,E,C,T,A;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:b.numero_serie&&b.numero_correlativo?`${b.numero_serie}-${String(b.numero_correlativo).padStart(6,"0")}`:b.numero_correlativo?`N ${String(b.numero_correlativo).padStart(6,"0")}`:b.numero_serie?`${b.numero_serie}-000000`:b.numero||b.number||"N/A"})}),o.jsxs("td",{className:"px-3 py-2 whitespace-nowrap hidden sm:table-cell",children:[o.jsxs("div",{className:"text-xs sm:text-sm text-gray-900 dark:text-white",children:[((j=(N=(k=b.admision)==null?void 0:k.paciente)==null?void 0:N.usuario)==null?void 0:j.nombres)||"N/A"," ",((E=(_=(w=b.admision)==null?void 0:w.paciente)==null?void 0:_.usuario)==null?void 0:E.apellidos)||""]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["DNI: ",((A=(T=(C=b.admision)==null?void 0:C.paciente)==null?void 0:T.usuario)==null?void 0:A.dni)||"N/A"]})]}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:o.jsxs("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:["S/ ",b.total?Number(b.total).toFixed(2):"0.00"]})}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap hidden md:table-cell",children:o.jsx("div",{className:"text-xs sm:text-sm text-gray-900 dark:text-white",children:b.igv?`S/ ${Number(b.igv).toFixed(2)}`:"N/A"})}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b.estado==="pagado"||b.status==="accepted"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":b.estado==="rechazado"||b.status==="rejected"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":b.estado==="pendiente"||b.status==="new"||b.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:b.estado==="pagado"?"Pagado":b.estado==="pendiente"?"Pendiente":b.estado||b.status||t("billing.pending")})}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap hidden lg:table-cell",children:b.xml_sunat||b.cdr_sunat?o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b.cdr_sunat||b.sunat_status==="accepted"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":b.sunat_status==="rejected"||b.sunat_status==="error"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"}`,children:b.cdr_sunat?" CDR":b.sunat_status==="accepted"?" Aceptado":b.sunat_status==="rejected"?" Rechazado":b.sunat_status==="error"?" Error":" Enviado"}):o.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"No enviado"})}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap hidden md:table-cell",children:o.jsx("div",{className:"text-xs sm:text-sm text-gray-900 dark:text-white",children:b.fecha_emision?new Date(b.fecha_emision).toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"})}),o.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right text-xs sm:text-sm font-medium",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-1 sm:gap-2",children:[b.id&&o.jsx("button",{onClick:()=>y(b.id,b.numero_correlativo),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 text-xs",children:"Ver"}),(b.estado==="pendiente"||b.status==="new"||b.status==="pending")&&b.id&&o.jsx("button",{className:"bg-blue-600 dark:bg-blue-500 text-white rounded px-2 py-1 text-xs hover:bg-blue-700 dark:hover:bg-blue-600",onClick:()=>{console.log("Enviando factura a SUNAT, ID:",b.id),x(b.id)},children:"SUNAT"}),(b.cdr_sunat||b.cdr_url||b.sunatCdrUrl)&&o.jsx("a",{className:"text-blue-600 dark:text-blue-400 hover:underline text-xs",href:b.cdr_url||b.sunatCdrUrl,target:"_blank",rel:"noopener noreferrer",children:"Ver CDR"})]})})]},b.id)})})]})})})})]})]})]})})})}Wi.register(To,Ao,si,cr,ni,Vn,Ty,Oy,Py);function _4(){const{t}=Te(),{showError:e}=Bt(),[r,n]=S.useState("estadisticas"),[s,i]=S.useState({patients:0,appointments:0,records:0,labResults:0,invoices:0,ingresosMes:0}),[a,l]=S.useState([]),[d,c]=S.useState(!0),[u,h]=S.useState("admisiones_mensual"),[f,g]=S.useState(""),[m,p]=S.useState(""),[x,y]=S.useState(null),v={stats:S.useRef(null),monthly:S.useRef(null),report:S.useRef(null)};S.useEffect(()=>{b()},[]);const b=async()=>{try{c(!0);try{const C=await $.get("/analytics/dashboards");C.data&&i({patients:C.data.totalPacientes||0,appointments:C.data.totalAdmisiones||0,records:C.data.conceptosEmitidos||0,labResults:C.data.examenesPendientes||0,invoices:C.data.facturasMes||0,ingresosMes:C.data.ingresosMes||0})}catch{try{const T=await $.get("/reports/dashboard");i(T.data||{patients:0,appointments:0,records:0,labResults:0,invoices:0,ingresosMes:0})}catch(T){console.error("Error cargando estadsticas:",T)}}try{const C=await $.get("/analytics/reports/exams-monthly");l(Array.isArray(C.data)?C.data:[])}catch{try{const T=await $.get("/reports/exams-monthly");l(Array.isArray(T.data)?T.data:[])}catch{l([])}}}catch(C){console.error("Error cargando reportes:",C)}finally{c(!1)}},k=async()=>{var C,T;try{c(!0);const A=await $.post("/analytics/reports",{tipo:u,fecha_desde:f||void 0,fecha_hasta:m||void 0});y(A.data)}catch(A){e(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.error)||"Error al generar reporte")}finally{c(!1)}},N=async()=>{var C,T;try{const A=await $.post("/analytics/reports/pdf",{tipo:u,fecha_desde:f||void 0,fecha_hasta:m||void 0},{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([A.data])),D=document.createElement("a");D.href=I,D.setAttribute("download",`reporte_${u}_${Date.now()}.pdf`),document.body.appendChild(D),D.click(),D.remove()}catch(A){e(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.error)||"Error al generar PDF")}},j={labels:["Pacientes","Citas","Historias","Laboratorio","Facturas"],datasets:[{label:"Cantidad",data:[s.patients,s.appointments,s.records,s.labResults,s.invoices],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(139, 92, 246, 1)","rgba(239, 68, 68, 1)","rgba(245, 158, 11, 1)"],borderWidth:1}]},w=a.length>0?{labels:a.map(C=>C.label||C.mes||"N/A"),datasets:[{label:"Citas",data:a.map(C=>C.count||C.cantidad||0),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,tension:.4}]}:null,_=x?(()=>{switch(u){case"admisiones_mensual":const C=Object.keys(x.datos||{}).sort();return{labels:C,datasets:[{label:"Admisiones",data:C.map(D=>x.datos[D]),backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2}]};case"conceptos_aptitud":const T=Object.keys(x.porResultado||{});return{labels:T,datasets:[{label:"Cantidad",data:T.map(D=>x.porResultado[D]),backgroundColor:["rgba(16, 185, 129, 0.6)","rgba(245, 158, 11, 0.6)","rgba(239, 68, 68, 0.6)","rgba(156, 163, 175, 0.6)"]}]};case"ingresos":const A=Object.keys(x.porMetodoPago||{});return{labels:A,datasets:[{label:"Ingresos (S/)",data:A.map(D=>x.porMetodoPago[D]),backgroundColor:"rgba(16, 185, 129, 0.6)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2}]};case"examenes_laboratorio":const I=Object.keys(x.porTipo||{});return{labels:I,datasets:[{label:"Cantidad",data:I.map(D=>x.porTipo[D]),backgroundColor:"rgba(139, 92, 246, 0.6)",borderColor:"rgba(139, 92, 246, 1)",borderWidth:2}]};default:return null}})():null,E=[{id:"estadisticas",label:"Estadsticas"},{id:"mensual",label:"Reporte Mensual"},{id:"personalizado",label:"Reporte Personalizado"}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6",children:t("reports.title")}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:E.map(C=>o.jsx("button",{onClick:()=>n(C.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${r===C.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:C.label},C.id))})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:d?o.jsxs("div",{className:"text-center py-12 p-4 sm:p-6",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t("common.loading")})]}):o.jsxs(o.Fragment,{children:[r==="estadisticas"&&o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:"Estadsticas Generales"}),o.jsx("button",{onClick:async()=>{var C,T;try{const A=await $.post("/analytics/reports/pdf",{tipo:"admisiones_mensual",fecha_desde:"",fecha_hasta:""},{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([A.data])),D=document.createElement("a");D.href=I,D.setAttribute("download",`reporte_estadisticas_${Date.now()}.pdf`),document.body.appendChild(D),D.click(),D.remove()}catch(A){e(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.error)||"Error al generar PDF")}},className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 text-sm font-medium",children:" Descargar Reporte PDF"})]}),o.jsxs("div",{ref:v.stats,className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Resumen General"}),o.jsx("div",{className:"h-64 sm:h-80",children:o.jsx(ii,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Distribucin de Datos del Sistema",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-4 border border-blue-200 dark:border-blue-800",children:[o.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:t("dashboard.patients")}),o.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300 mt-2",children:s.patients})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[o.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 uppercase tracking-wide",children:t("dashboard.admissions")}),o.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300 mt-2",children:s.appointments})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-4 border border-purple-200 dark:border-purple-800",children:[o.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide",children:"Historias Clnicas"}),o.jsx("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300 mt-2",children:s.records})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[o.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400 uppercase tracking-wide",children:t("dashboard.pendingExams")}),o.jsx("p",{className:"text-3xl font-bold text-red-700 dark:text-red-300 mt-2",children:s.labResults})]}),o.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-xl p-4 border border-yellow-200 dark:border-yellow-800",children:[o.jsx("p",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 uppercase tracking-wide",children:t("dashboard.invoices")}),o.jsx("p",{className:"text-3xl font-bold text-yellow-700 dark:text-yellow-300 mt-2",children:s.invoices})]}),s.ingresosMes>0&&o.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 rounded-xl p-4 border border-indigo-200 dark:border-indigo-800",children:[o.jsx("p",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-wide",children:t("dashboard.income")}),o.jsxs("p",{className:"text-3xl font-bold text-indigo-700 dark:text-indigo-300 mt-2",children:["S/ ",Number(s.ingresosMes||0).toFixed(2)]})]})]})]})]}),r==="mensual"&&o.jsx("div",{className:"p-4 sm:p-6 space-y-6",children:w?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:"Citas por Mes (ltimos 6 meses)"}),o.jsx("button",{onClick:async()=>{var C,T;try{const A=await $.post("/analytics/reports/pdf",{tipo:"admisiones_mensual",fecha_desde:"",fecha_hasta:""},{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([A.data])),D=document.createElement("a");D.href=I,D.setAttribute("download",`reporte_mensual_${Date.now()}.pdf`),document.body.appendChild(D),D.click(),D.remove()}catch(A){e(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.error)||"Error al generar PDF")}},className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 text-sm font-medium",children:" Descargar Reporte PDF"})]}),o.jsxs("div",{ref:v.monthly,className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tendencia Mensual de Admisiones"}),o.jsx("div",{className:"h-64 sm:h-80 lg:h-96",children:o.jsx(qa,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12}}},title:{display:!0,text:"Evolucin de Admisiones en los ltimos 6 Meses",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]})]}):o.jsx("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay datos mensuales disponibles"})})}),r==="personalizado"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Generar Reporte Personalizado"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("reports.reportType")}),o.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[o.jsx("option",{value:"admisiones_mensual",children:t("reports.monthlyAdmissions")}),o.jsx("option",{value:"conceptos_aptitud",children:t("reports.aptitudeConcepts")}),o.jsx("option",{value:"ingresos",children:t("reports.income")}),o.jsx("option",{value:"examenes_laboratorio",children:t("reports.labExams")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("reports.dateFrom")}),o.jsx("input",{type:"date",value:f,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t("reports.dateTo")}),o.jsx("input",{type:"date",value:m,onChange:C=>p(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{onClick:k,className:"w-full px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600",children:t("reports.generate")})})]}),x&&_&&o.jsxs("div",{ref:v.report,className:"mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-xl font-semibold text-gray-700 dark:text-white",children:["Reporte: ",t(u==="admisiones_mensual"?"reports.monthlyAdmissions":u==="conceptos_aptitud"?"reports.aptitudeConcepts":u==="ingresos"?"reports.income":"reports.labExams")]}),o.jsx("button",{onClick:N,className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 text-sm font-medium",children:" Descargar Reporte PDF Completo"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Visualizacin Grfica"}),o.jsx("div",{className:"h-64 sm:h-80 lg:h-96",children:u==="conceptos_aptitud"?o.jsx(Iy,{data:_,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:15,font:{size:12}}},title:{display:!0,text:"Distribucin por Resultado",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:12}}}}}):u==="ingresos"?o.jsx(ii,{data:_,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Ingresos por Mtodo de Pago",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,callbacks:{label:function(C){return`S/ ${Number(C.parsed.y).toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2})}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(C){return`S/ ${C.toLocaleString("es-PE")}`}}}}}}):o.jsx(ii,{data:_,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:u==="admisiones_mensual"?"Admisiones por Mes":"Exmenes por Tipo",font:{size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:12}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})})]}),o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-4 sm:p-6 border border-indigo-200 dark:border-indigo-800",children:[o.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Resumen Estadstico"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.total!==void 0&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Total"}),o.jsx("p",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:x.total})]}),x.facturas!==void 0&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Facturas"}),o.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:x.facturas})]}),x.total!==void 0&&u==="ingresos"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Ingresos Totales"}),o.jsxs("p",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:["S/ ",Number(x.total).toFixed(2)]})]}),x.facturas>0&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Ticket Promedio"}),o.jsxs("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:["S/ ",(Number(x.total)/x.facturas).toFixed(2)]})]})]}),u==="admisiones_mensual"&&x.datos&&(()=>{const C=Object.values(x.datos),A=C.reduce((V,L)=>V+L,0)/C.length,I=Math.max(...C),D=Math.min(...C);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Promedio Mensual"}),o.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:A.toFixed(2)})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Mximo"}),o.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:I})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Mnimo"}),o.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:D})]})]})})()]})]}),u==="admisiones_mensual"&&x.datos&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[o.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Detalle por Mes"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Mes"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Porcentaje"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tendencia"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Object.entries(x.datos).sort().map(([C,T],A,I)=>{const D=Object.values(x.datos).reduce((W,M)=>W+M,0),V=D>0?(T/D*100).toFixed(2):"0.00",L=A>0?T>I[A-1][1]?"":T<I[A-1][1]?"":"":"";return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:C}),o.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:T}),o.jsxs("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[V,"%"]}),o.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`font-semibold ${L===""?"text-green-600 dark:text-green-400":L===""?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:L})})]},C)})}),o.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:"TOTAL"}),o.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:Object.values(x.datos).reduce((C,T)=>C+T,0)}),o.jsx("td",{className:"px-4 sm:px-6 py-3 text-sm font-bold text-gray-900 dark:text-white",children:"100.00%"}),o.jsx("td",{className:"px-4 sm:px-6 py-3"})]})})]})})]}),(u==="conceptos_aptitud"||u==="ingresos"||u==="examenes_laboratorio")&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[o.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u==="conceptos_aptitud"?"Distribucin por Resultado":u==="ingresos"?"Ingresos por Mtodo de Pago":"Distribucin por Tipo de Examen"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:u==="conceptos_aptitud"?"Resultado":u==="ingresos"?"Mtodo de Pago":"Tipo de Examen"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:u==="ingresos"?"Monto (S/)":"Cantidad"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Porcentaje"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(()=>{const C=u==="conceptos_aptitud"?x.porResultado:u==="ingresos"?x.porMetodoPago:x.porTipo,T=u==="ingresos"?Number(x.total||0):x.total||0;return Object.entries(C||{}).sort((A,I)=>I[1]-A[1]).map(([A,I])=>{const D=T>0?(Number(I)/T*100).toFixed(2):"0.00";return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:A}),o.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:u==="ingresos"?`S/ ${Number(I).toFixed(2)}`:I}),o.jsxs("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:[D,"%"]})]},A)})})()})]})})]})]})]})]})]})})]})})})}function C4(){const{t}=Te(),{showSuccess:e,showError:r,showConfirm:n}=Bt(),[s,i]=S.useState("usuarios"),[a,l]=S.useState([]),[d,c]=S.useState({email:"",name:"",password:"",role:"ADMISSIONS"}),[u,h]=S.useState({}),[f,g]=S.useState({key:"clinic_name",value:""}),[m,p]=S.useState([]),[x,y]=S.useState({name:"",sku:"",unit:"unidad",stock:0,minStock:0}),[v,b]=S.useState({itemId:"",type:"in",quantity:1,note:""}),[k,N]=S.useState([]),[j,w]=S.useState([]),[_,E]=S.useState({medico_id:"",dia_semana:1,hora_inicio:"08:00:00",hora_fin:"17:00:00",duracion_cita:30,max_citas_dia:20,activo:!0}),[C,T]=S.useState(null),[A,I]=S.useState([]),[D,V]=S.useState({codigo:"",nombre:"",descripcion:"",duracion_minutos:30,requiere_laboratorio:!1,requiere_radiografia:!1,precio_base:"",activo:!0}),[L,W]=S.useState(null),[M,U]=S.useState(!0),[R,B]=S.useState({name:"",ruc:"",address:"",phone:"",email:""}),[F,X]=S.useState(!1);S.useEffect(()=>{ne(),Q()},[]);const Q=async()=>{try{const P=await $.get("/clinic/config");P.data&&B({name:P.data.name||"",ruc:P.data.ruc||"",address:P.data.address||"",phone:P.data.phone||"",email:P.data.email||""})}catch(P){console.error("Error cargando configuracin de clnica:",P)}},ie=async P=>{var re,Y;P.preventDefault(),X(!0);try{await $.put("/clinic/config",R),e("Configuracin de clnica guardada exitosamente"),await Q()}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al guardar configuracin")}finally{X(!1)}},ne=async()=>{var P,re;try{U(!0);try{const Y=await $.get("/users");l(Array.isArray((P=Y.data)==null?void 0:P.data)?Y.data.data:Array.isArray(Y.data)?Y.data:[])}catch{l([])}try{const Y=await $.get("/admin/settings");h(Y.data||{})}catch{try{const se=await $.get("/settings");h(se.data||{})}catch{h({})}}try{const Y=await $.get("/inventario/items");p(Array.isArray(Y.data)?Y.data:[])}catch{try{const se=await $.get("/inventory/items");p(Array.isArray(se.data)?se.data:[])}catch{p([])}}try{const Y=await $.get("/admissions/shifts");N(Array.isArray(Y.data)?Y.data:[])}catch{N([])}try{const Y=await $.get("/users?rol=doctor");w(Array.isArray((re=Y.data)==null?void 0:re.data)?Y.data.data:Array.isArray(Y.data)?Y.data:[])}catch{w([])}try{const Y=await $.get("/admissions/exam-types");I(Array.isArray(Y.data)?Y.data:[])}catch{I([])}}catch(Y){console.error("Error cargando datos:",Y)}finally{U(!1)}};async function it(P){var re,Y;P.preventDefault();try{const se={email:d.email,nombres:d.name.split(" ")[0]||d.name,apellidos:d.name.split(" ").slice(1).join(" ")||"",password:d.password,rol:d.role.toLowerCase(),dni:d.email.split("@")[0]||"00000000",telefono:"",activo:!0},Ki=await $.post("/users",se);await ne(),c({email:"",name:"",password:"",role:"ADMISSIONS"}),e("Usuario creado exitosamente")}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al crear usuario")}}async function Jt(P){var re,Y;P.preventDefault();try{const se={codigo:x.sku,nombre:x.name,categoria:"general",stock_actual:x.stock,stock_minimo:x.minStock,unidad_medida:x.unit};await $.post("/inventario/items",se),await ne(),y({name:"",sku:"",unit:"unidad",stock:0,minStock:0}),e("Item creado exitosamente")}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al crear item")}}async function Zt(P){var re,Y;P.preventDefault();try{const se={item_id:v.itemId,tipo_movimiento:v.type==="in"?"entrada":"salida",cantidad:v.quantity,motivo:v.note};await $.post("/inventario/movimientos",se),await ne(),b({itemId:"",type:"in",quantity:1,note:""}),e("Movimiento registrado")}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al registrar movimiento")}}const Yr=[{value:0,label:"Domingo"},{value:1,label:"Lunes"},{value:2,label:"Martes"},{value:3,label:"Mircoles"},{value:4,label:"Jueves"},{value:5,label:"Viernes"},{value:6,label:"Sbado"}];async function ml(P){var re,Y;P.preventDefault();try{C?(await $.put(`/admissions/shifts/${C}`,_),e("Horario actualizado exitosamente")):(await $.post("/admissions/shifts",_),e("Horario creado exitosamente")),await ne(),E({medico_id:"",dia_semana:1,hora_inicio:"08:00:00",hora_fin:"17:00:00",duracion_cita:30,max_citas_dia:20,activo:!0}),T(null)}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al guardar horario")}}async function gl(P){n("Est seguro de eliminar este horario?",async()=>{var re,Y;try{await $.delete(`/admissions/shifts/${P}`),await ne(),e("Horario eliminado exitosamente")}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al eliminar horario")}})}function qi(P){E({medico_id:P.medico_id||"",dia_semana:P.dia_semana,hora_inicio:P.hora_inicio,hora_fin:P.hora_fin,duracion_cita:P.duracion_cita,max_citas_dia:P.max_citas_dia,activo:P.activo}),T(P.id)}async function z(P){var re,Y;P.preventDefault();try{L?(await $.put(`/admissions/exam-types/${L}`,D),e("Tipo de examen actualizado exitosamente")):(await $.post("/admissions/exam-types",D),e("Tipo de examen creado exitosamente")),await ne(),V({codigo:"",nombre:"",descripcion:"",duracion_minutos:30,requiere_laboratorio:!1,requiere_radiografia:!1,precio_base:"",activo:!0}),W(null)}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al guardar tipo de examen")}}async function me(P){n("Est seguro de desactivar este tipo de examen?",async()=>{var re,Y;try{await $.delete(`/admissions/exam-types/${P}`),await ne(),e("Tipo de examen desactivado exitosamente")}catch(se){r(((Y=(re=se.response)==null?void 0:re.data)==null?void 0:Y.error)||"Error al desactivar tipo de examen")}})}function De(P){V({codigo:P.codigo,nombre:P.nombre,descripcion:P.descripcion||"",duracion_minutos:P.duracion_minutos,requiere_laboratorio:P.requiere_laboratorio,requiere_radiografia:P.requiere_radiografia,precio_base:P.precio_base||"",activo:P.activo}),W(P.id)}const Je=[{id:"usuarios",label:"Usuarios"},{id:"clinica",label:"Configuracin Clnica"},{id:"horarios",label:"Horarios"},{id:"examenes",label:"Tipos de Examen"},{id:"inventario",label:"Inventario"}];return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6",children:t("admin.title")}),o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:Je.map(P=>o.jsx("button",{onClick:()=>i(P.id),className:`
                    whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm
                    ${s===P.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                  `,children:P.label},P.id))})}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[s==="usuarios"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:t("admin.newUser")}),o.jsxs("form",{onSubmit:it,className:"grid grid-cols-1 gap-4 max-w-full sm:max-w-md",children:[o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:t("admin.email"),value:d.email,onChange:P=>c({...d,email:P.target.value}),type:"email",required:!0}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:t("admin.name"),value:d.name,onChange:P=>c({...d,name:P.target.value}),required:!0}),o.jsx("input",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Contrasea",type:"password",value:d.password,onChange:P=>c({...d,password:P.target.value}),required:!0}),o.jsxs("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d.role,onChange:P=>c({...d,role:P.target.value}),children:[o.jsx("option",{value:"ADMIN",children:"ADMIN"}),o.jsx("option",{value:"ADMISSIONS",children:"ADMISSIONS"}),o.jsx("option",{value:"DOCTOR",children:"DOCTOR"}),o.jsx("option",{value:"LAB",children:"LAB"}),o.jsx("option",{value:"PATIENT",children:"PATIENT"})]}),o.jsx("button",{className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",type:"submit",children:t("admin.newUser")})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white",children:t("admin.users")}),o.jsx("button",{onClick:ne,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),M?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:t("common.loading")})]}):a.length===0?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:t("common.noData")}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rol"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(P=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[P.nombres||P.name," ",P.apellidos||""]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:P.email})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:P.rol||P.role})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${P.activo!==!1?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:P.activo!==!1?"Activo":"Inactivo"})})]},P.id))})]})})]})]}),s==="clinica"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Configuracin de la Clnica"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Estos datos aparecern en las boletas y facturas generadas."}),o.jsxs("form",{onSubmit:ie,className:"grid grid-cols-1 gap-4 max-w-2xl",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de la Clnica *"}),o.jsx("input",{type:"text",value:R.name,onChange:P=>B({...R,name:P.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: Clnica San Jos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"RUC *"}),o.jsx("input",{type:"text",value:R.ruc,onChange:P=>B({...R,ruc:P.target.value}),required:!0,maxLength:11,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"12345678901"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Direccin"}),o.jsx("input",{type:"text",value:R.address,onChange:P=>B({...R,address:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: Av. Principal 123, Lima"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telfono"}),o.jsx("input",{type:"text",value:R.phone,onChange:P=>B({...R,phone:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: 01-2345678"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:R.email,onChange:P=>B({...R,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: contacto@clinica.com"})]})]}),o.jsx("button",{type:"submit",disabled:F,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-700 dark:bg-green-600 hover:bg-green-800 dark:hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:F?"Guardando...":"Guardar Configuracin"})]})]}),s==="horarios"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Configuracin de Horarios Disponibles"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Configure los horarios disponibles para las citas. Si no hay horarios configurados, no se podrn crear nuevas admisiones."}),o.jsxs("form",{onSubmit:ml,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[o.jsxs("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:_.medico_id,onChange:P=>E({..._,medico_id:P.target.value}),children:[o.jsx("option",{value:"",children:"Todos los mdicos"}),j.map(P=>o.jsxs("option",{value:P.id,children:["Dr. ",P.nombres," ",P.apellidos]},P.id))]}),o.jsx("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:_.dia_semana,onChange:P=>E({..._,dia_semana:parseInt(P.target.value)}),required:!0,children:Yr.map(P=>o.jsx("option",{value:P.value,children:P.label},P.value))}),o.jsx("input",{type:"time",step:"1",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:_.hora_inicio.substring(0,5),onChange:P=>E({..._,hora_inicio:`${P.target.value}:00`}),required:!0}),o.jsx("input",{type:"time",step:"1",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:_.hora_fin.substring(0,5),onChange:P=>E({..._,hora_fin:`${P.target.value}:00`}),required:!0}),o.jsx("input",{type:"number",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Duracin cita (min)",value:_.duracion_cita,onChange:P=>E({..._,duracion_cita:parseInt(P.target.value)||30}),min:"15",step:"15",required:!0}),o.jsx("input",{type:"number",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Max citas/da",value:_.max_citas_dia,onChange:P=>E({..._,max_citas_dia:parseInt(P.target.value)||20}),min:"1",required:!0}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"activo",className:"mr-2",checked:_.activo,onChange:P=>E({..._,activo:P.target.checked})}),o.jsx("label",{htmlFor:"activo",className:"text-gray-700 dark:text-gray-300",children:"Activo"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:[C?"Actualizar":"Crear"," Horario"]}),C&&o.jsx("button",{type:"button",onClick:()=>{T(null),E({medico_id:"",dia_semana:1,hora_inicio:"08:00:00",hora_fin:"17:00:00",duracion_cita:30,max_citas_dia:20,activo:!0})},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancelar"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-white",children:"Horarios Configurados"}),o.jsx("button",{onClick:ne,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),k.length===0?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No hay horarios configurados"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Da"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Mdico"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Horario"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duracin"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(P=>{var re;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:(re=Yr.find(Y=>Y.value===P.dia_semana))==null?void 0:re.label})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:P.medico?`Dr. ${P.medico.nombres} ${P.medico.apellidos}`:"Todos"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[P.hora_inicio.substring(0,5)," - ",P.hora_fin.substring(0,5)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[P.duracion_cita," min"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.activo?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:P.activo?"Activo":"Inactivo"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>qi(P),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 mr-3",children:"Editar"}),o.jsx("button",{onClick:()=>gl(P.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",children:"Eliminar"})]})]},P.id)})})]})})]})]}),s==="examenes"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Tipos de Examen"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Configure los tipos de examen disponibles para las admisiones."}),o.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[o.jsx("input",{type:"text",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Cdigo (ej: ING001)",value:D.codigo,onChange:P=>V({...D,codigo:P.target.value}),required:!0}),o.jsx("input",{type:"text",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Nombre del examen",value:D.nombre,onChange:P=>V({...D,nombre:P.target.value}),required:!0}),o.jsx("input",{type:"text",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Descripcin",value:D.descripcion,onChange:P=>V({...D,descripcion:P.target.value})}),o.jsx("input",{type:"number",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Duracin (minutos)",value:D.duracion_minutos,onChange:P=>V({...D,duracion_minutos:parseInt(P.target.value)||30}),min:"15",step:"15",required:!0}),o.jsx("input",{type:"number",step:"0.01",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Precio base (opcional)",value:D.precio_base,onChange:P=>V({...D,precio_base:P.target.value})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:D.requiere_laboratorio,onChange:P=>V({...D,requiere_laboratorio:P.target.checked})}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere Laboratorio"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",className:"mr-2",checked:D.requiere_radiografia,onChange:P=>V({...D,requiere_radiografia:P.target.checked})}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Requiere Radiografa"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"examTypeActivo",className:"mr-2",checked:D.activo,onChange:P=>V({...D,activo:P.target.checked})}),o.jsx("label",{htmlFor:"examTypeActivo",className:"text-gray-700 dark:text-gray-300",children:"Activo"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:[L?"Actualizar":"Crear"," Tipo"]}),L&&o.jsx("button",{type:"button",onClick:()=>{W(null),V({codigo:"",nombre:"",descripcion:"",duracion_minutos:30,requiere_laboratorio:!1,requiere_radiografia:!1,precio_base:"",activo:!0})},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancelar"})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-white",children:"Tipos de Examen Configurados"}),o.jsx("button",{onClick:ne,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),A.length===0?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No hay tipos de examen configurados"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cdigo"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Duracin"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Precio"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:A.map(P=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.codigo})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:P.nombre})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[P.duracion_minutos," min"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:P.precio_base?`S/ ${P.precio_base}`:""})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.activo?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:P.activo?"Activo":"Inactivo"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>De(P),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 mr-3",children:"Editar"}),o.jsx("button",{onClick:()=>me(P.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",children:"Desactivar"})]})]},P.id))})]})})]})]}),s==="inventario"&&o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-white mb-4",children:t("admin.inventory")}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-700 dark:text-white mb-3",children:"Crear Item"}),o.jsxs("form",{onSubmit:Jt,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Nombre",value:x.name,onChange:P=>y({...x,name:P.target.value}),required:!0}),o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"SKU",value:x.sku,onChange:P=>y({...x,sku:P.target.value}),required:!0}),o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Unidad",value:x.unit,onChange:P=>y({...x,unit:P.target.value})}),o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",type:"number",placeholder:"Stock",value:x.stock,onChange:P=>y({...x,stock:parseInt(P.target.value||"0")})}),o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",type:"number",placeholder:"Stock mnimo",value:x.minStock,onChange:P=>y({...x,minStock:parseInt(P.target.value||"0")})}),o.jsx("button",{className:"bg-blue-700 dark:bg-blue-600 text-white rounded px-3 py-2 hover:bg-blue-800 dark:hover:bg-blue-700",type:"submit",children:t("common.create")})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-md font-medium text-gray-700 dark:text-white mb-3",children:"Registrar Movimiento"}),o.jsxs("form",{onSubmit:Zt,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:v.itemId,onChange:P=>b({...v,itemId:P.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Selecciona tem"}),m.map(P=>o.jsxs("option",{value:P.id,children:[P.nombre||P.name," (",P.codigo||P.sku,")"]},P.id))]}),o.jsxs("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:v.type,onChange:P=>b({...v,type:P.target.value}),children:[o.jsx("option",{value:"in",children:"Entrada"}),o.jsx("option",{value:"out",children:"Salida"})]}),o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",type:"number",placeholder:"Cantidad",value:v.quantity,onChange:P=>b({...v,quantity:parseInt(P.target.value||"0")}),required:!0}),o.jsx("input",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Nota",value:v.note,onChange:P=>b({...v,note:P.target.value})}),o.jsx("button",{className:"bg-indigo-700 dark:bg-indigo-600 text-white rounded px-3 py-2 hover:bg-indigo-800 dark:hover:bg-indigo-700 col-span-full md:col-span-1",type:"submit",children:"Registrar Movimiento"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-white",children:"Inventario"}),o.jsx("button",{onClick:ne,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Actualizar"})]}),m.length===0?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:t("common.noData")}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"SKU/Cdigo"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stock Actual"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stock Mnimo"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Unidad"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:m.map(P=>{const re=P.stock_actual||P.stock||0,Y=P.stock_minimo||0,se=Y>0&&re<Y;return o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.nombre||P.name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:P.codigo||P.sku||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:re})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Y||""})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:P.unidad_medida||P.unit||"unidad"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:se?o.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Stock Bajo"}):o.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Normal"})})]},P.id)})})]})})]})]})]})]})})})}function E4(){const{t}=Te(),{showSuccess:e,showError:r,showWarning:n}=Bt(),[s]=H0(),i=nt(),a=s.get("admissionId"),[l,d]=S.useState(null),[c,u]=S.useState([]),[h,f]=S.useState(null),[g,m]=S.useState({resultado:"apto",restricciones:"",recomendaciones:"",fecha_vigencia:""}),[p,x]=S.useState(!1),[y,v]=S.useState(!0),[b,k]=S.useState(!a);S.useEffect(()=>{a?(j(),w()):N()},[a]);const N=async()=>{var T;try{v(!0);const A=await $.get("/admissions"),I=Array.isArray((T=A.data)==null?void 0:T.data)?A.data.data:Array.isArray(A.data)?A.data:[];u(I)}catch(A){console.error("Error cargando admisiones:",A),u([])}finally{v(!1)}},j=async()=>{try{v(!0);const T=await $.get(`/admissions/${a}`);d(T.data),await w()}catch(T){console.error("Error cargando admisin:",T),r("Error al cargar la admisin. Por favor, seleccione una admisin de la lista."),k(!0),await N()}finally{v(!1)}},w=async()=>{try{const T=await $.get(`/concepto-aptitud?admission_id=${a}`);T.data&&(f(T.data),m({resultado:T.data.resultado,restricciones:T.data.restricciones||"",recomendaciones:T.data.recomendaciones||"",fecha_vigencia:T.data.fecha_vigencia?T.data.fecha_vigencia.split("T")[0]:""}))}catch{console.log("No existe concepto para esta admisin")}},_=T=>{i(`/concepto-aptitud?admissionId=${T}`),k(!1)},E=async T=>{var A,I;T.preventDefault(),x(!0);try{const D=await $.post("/concepto-aptitud",{admision_id:a,...g});f(D.data),e("Concepto de aptitud creado exitosamente")}catch(D){r(((I=(A=D.response)==null?void 0:A.data)==null?void 0:I.error)||"Error al crear concepto")}finally{x(!1)}},C=async()=>{var T,A;if(h)try{const I=await $.post("/concepto-aptitud/generate-pdf",{concept_id:h.id},{responseType:"blob"}),D=window.URL.createObjectURL(new Blob([I.data])),V=document.createElement("a");V.href=D,V.setAttribute("download",`concepto_aptitud_${h.id}.pdf`),document.body.appendChild(V),V.click(),V.remove()}catch(I){r(((A=(T=I.response)==null?void 0:T.data)==null?void 0:A.error)||"Error al generar PDF")}};return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:t("aptitude.title")}),o.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:t("aptitude.subtitle")})]}),y?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t("aptitude.loading")})]}):b||!a?o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:t("aptitude.selectAdmission")}),c.length===0?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:t("common.noData")}):o.jsx("div",{className:"space-y-2",children:c.map(T=>o.jsx("div",{onClick:()=>_(T.id),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[T.paciente.usuario.nombres," ",T.paciente.usuario.apellidos]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["DNI: ",T.paciente.usuario.dni,"  ",t("aptitude.examType"),": ",T.tipo_examen]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t("aptitude.date"),": ",new Date(T.fecha_programada).toLocaleDateString("es-PE")]})]}),o.jsx("button",{className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600",children:t("common.select")})]})},T.id))})]}):l&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:t("aptitude.patient")}),o.jsxs("dl",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t("aptitude.patient")}),o.jsxs("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[l.paciente.usuario.nombres," ",l.paciente.usuario.apellidos]})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"DNI"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:l.paciente.usuario.dni})]}),l.paciente.empresa&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t("aptitude.company")}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:l.paciente.empresa.razon_social})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t("aptitude.examType")}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:l.tipo_examen})]})]})]}),h?o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Concepto de Aptitud Emitido"}),o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h.resultado==="apto"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:h.resultado.toUpperCase()})]}),o.jsxs("dl",{className:"space-y-4",children:[h.restricciones&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Restricciones"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:h.restricciones})]}),h.recomendaciones&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Recomendaciones"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:h.recomendaciones})]}),h.fecha_vigencia&&o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Fecha de Vigencia"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(h.fecha_vigencia).toLocaleDateString("es-PE")})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Hash de Verificacin"}),o.jsx("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white font-mono text-xs break-all",children:h.hash_verificacion})]})]}),o.jsxs("div",{className:"mt-6 flex space-x-4",children:[o.jsxs("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600",children:[" ",t("aptitude.generatePDF")]}),o.jsx("button",{onClick:()=>i(`/admisiones/${a}`),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:t("common.view")})]})]}):o.jsxs("form",{onSubmit:E,className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:"Crear Concepto de Aptitud"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t("aptitude.result")," *"]}),o.jsxs("select",{value:g.resultado,onChange:T=>m({...g,resultado:T.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"apto",children:"APTO"}),o.jsx("option",{value:"apto_con_restricciones",children:"APTO CON RESTRICCIONES"}),o.jsx("option",{value:"no_apto",children:"NO APTO"}),o.jsx("option",{value:"pendiente",children:"PENDIENTE"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("aptitude.observations")}),o.jsx("textarea",{value:g.restricciones,onChange:T=>m({...g,restricciones:T.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describa las restricciones laborales si el paciente es apto con restricciones..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recomendaciones"}),o.jsx("textarea",{value:g.recomendaciones,onChange:T=>m({...g,recomendaciones:T.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Recomendaciones mdicas para el paciente..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fecha de Vigencia (opcional)"}),o.jsx("input",{type:"date",value:g.fecha_vigencia,onChange:T=>m({...g,fecha_vigencia:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>i("/admisiones"),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:t("common.cancel")}),o.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 disabled:opacity-50",children:p?t("common.save")+"...":t("aptitude.save")})]})]})]})})})}function P4(){const{t}=Te(),{showError:e}=Bt(),[r,n]=S.useState([]),[s,i]=S.useState([]),[a,l]=S.useState(!0),[d,c]=S.useState(!1),[u,h]=S.useState(!1),[f,g]=S.useState(""),[m,p]=S.useState({codigo:"",nombre:"",categoria:"",stock_actual:0,stock_minimo:5,unidad_medida:"unidad",precio_unitario:"",proveedor:"",ubicacion:""}),[x,y]=S.useState({item_id:"",tipo_movimiento:"entrada",cantidad:1,motivo:""});S.useEffect(()=>{v()},[]);const v=async()=>{l(!0);try{const[j,w]=await Promise.all([$.get("/inventario/items"),$.get("/inventario/alerts")]);n(j.data||[]),i(w.data||[])}catch(j){console.error("Error cargando datos:",j)}finally{l(!1)}},b=async j=>{var w,_;j.preventDefault();try{await $.post("/inventario/items",m),c(!1),p({codigo:"",nombre:"",categoria:"",stock_actual:0,stock_minimo:5,unidad_medida:"unidad",precio_unitario:"",proveedor:"",ubicacion:""}),await v()}catch(E){e(((_=(w=E.response)==null?void 0:w.data)==null?void 0:_.error)||"Error al crear item")}},k=async j=>{var w,_;j.preventDefault();try{await $.post("/inventario/movimientos",x),h(!1),y({item_id:"",tipo_movimiento:"entrada",cantidad:1,motivo:""}),await v()}catch(E){e(((_=(w=E.response)==null?void 0:w.data)==null?void 0:_.error)||"Error al registrar movimiento")}},N=j=>j.stock_actual<=j.stock_minimo;return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Inventario y Logstica"}),o.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Gestin de inventario y seguimiento logstico"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[o.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:" Movimiento"}),o.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:" Nuevo Item"})]})]}),s.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:" Alertas de Stock Bajo"}),o.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.map(j=>o.jsxs("li",{className:"text-sm text-red-800",children:[j.nombre," (",j.codigo,"): ",j.stock_actual," ",j.unidad_medida," (Mnimo: ",j.stock_minimo,")"]},j.id))})]}),d&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Nuevo Item de Inventario"}),o.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cdigo *"}),o.jsx("input",{type:"text",value:m.codigo,onChange:j=>p({...m,codigo:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:m.nombre,onChange:j=>p({...m,nombre:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),o.jsx("input",{type:"text",value:m.categoria,onChange:j=>p({...m,categoria:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidad de Medida"}),o.jsxs("select",{value:m.unidad_medida,onChange:j=>p({...m,unidad_medida:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"unidad",children:"Unidad"}),o.jsx("option",{value:"caja",children:"Caja"}),o.jsx("option",{value:"litro",children:"Litro"}),o.jsx("option",{value:"kilogramo",children:"Kilogramo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Inicial"}),o.jsx("input",{type:"number",value:m.stock_actual,onChange:j=>p({...m,stock_actual:parseInt(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Mnimo"}),o.jsx("input",{type:"number",value:m.stock_minimo,onChange:j=>p({...m,stock_minimo:parseInt(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio Unitario"}),o.jsx("input",{type:"number",step:"0.01",value:m.precio_unitario,onChange:j=>p({...m,precio_unitario:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),o.jsx("input",{type:"text",value:m.proveedor,onChange:j=>p({...m,proveedor:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin"}),o.jsx("input",{type:"text",value:m.ubicacion,onChange:j=>p({...m,ubicacion:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Crear Item"})]})]})]}),u&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Registrar Movimiento"}),o.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item *"}),o.jsxs("select",{value:x.item_id,onChange:j=>y({...x,item_id:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"",children:"Seleccione un item"}),r.map(j=>o.jsxs("option",{value:j.id,children:[j.nombre," (",j.codigo,") - Stock: ",j.stock_actual]},j.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Movimiento *"}),o.jsxs("select",{value:x.tipo_movimiento,onChange:j=>y({...x,tipo_movimiento:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[o.jsx("option",{value:"entrada",children:"Entrada"}),o.jsx("option",{value:"salida",children:"Salida"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad *"}),o.jsx("input",{type:"number",value:x.cantidad,onChange:j=>y({...x,cantidad:parseInt(j.target.value)||0}),required:!0,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo *"}),o.jsx("input",{type:"text",value:x.motivo,onChange:j=>y({...x,motivo:j.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ej: Compra, Uso, Ajuste..."})]}),o.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Registrar Movimiento"})]})]})]}),o.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Items de Inventario"})}),a?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cdigo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Categora"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stock"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Mnimo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Precio"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Estado"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.map(j=>o.jsxs("tr",{className:N(j)?"bg-red-50":"",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:j.codigo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.nombre}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:j.categoria}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[j.stock_actual," ",j.unidad_medida]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[j.stock_minimo," ",j.unidad_medida]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.precio_unitario?`S/ ${Number(j.precio_unitario).toFixed(2)}`:"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N(j)?o.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Stock Bajo"}):o.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Normal"})})]},j.id))})]})})]})]})})})}function R4(){var x,y,v;const t=nt(),{t:e}=Te(),{showSuccess:r,showError:n}=Bt(),[s,i]=S.useState("verify"),[a,l]=S.useState(""),[d,c]=S.useState(""),[u,h]=S.useState(!1),[f,g]=S.useState(null),m=async b=>{var k,N;b.preventDefault(),h(!0);try{const j="simulated_template_"+Date.now();await $.post("/biometric/register",{paciente_id:d,template_huella:j,template_facial:null}),r("Registro biomtrico completado exitosamente"),c("")}catch(j){n(((N=(k=j.response)==null?void 0:k.data)==null?void 0:N.error)||"Error al registrar biomtrico")}finally{h(!1)}},p=async b=>{var k,N;b.preventDefault(),h(!0),g(null);try{const j="simulated_template_"+Date.now(),w=await $.post("/biometric/verify",{template_huella:j,template_facial:null,paciente_id:a?null:void 0});w.data.verified?g({verified:!0,paciente:w.data.paciente,confidence:w.data.confidence}):g({verified:!1})}catch(j){g({verified:!1,error:(N=(k=j.response)==null?void 0:k.data)==null?void 0:N.error})}finally{h(!1)}};return o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Identificacin Biomtrica"}),o.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Registro y verificacin de identidad mediante huella dactilar"})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>{i("verify"),g(null)},className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="verify"?"border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Verificacin"}),o.jsx("button",{onClick:()=>{i("register"),g(null)},className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="register"?"border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Registro"})]})})}),s==="verify"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Verificar Identidad"}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"DNI (opcional - para bsqueda especfica)"}),o.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),placeholder:"Ingrese DNI si desea verificar un paciente especfico",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[o.jsx("strong",{children:"Instrucciones:"})," Coloque su dedo en el lector biomtrico. El sistema verificar su identidad automticamente."]})}),o.jsx("button",{type:"submit",disabled:u,className:"w-full px-4 py-3 bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 disabled:opacity-50",children:u?"Verificando...":"Iniciar Verificacin"})]}),f&&o.jsx("div",{className:`mt-6 p-4 rounded-lg ${f.verified?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:f.verified?o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-green-900 dark:text-green-300 mb-2",children:" Verificacin Exitosa"}),f.paciente&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[o.jsx("strong",{children:"Paciente:"})," ",(x=f.paciente.usuario)==null?void 0:x.nombres," ",(y=f.paciente.usuario)==null?void 0:y.apellidos]}),o.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[o.jsx("strong",{children:"DNI:"})," ",(v=f.paciente.usuario)==null?void 0:v.dni]}),f.confidence&&o.jsxs("p",{className:"text-sm text-green-800 dark:text-green-300",children:[o.jsx("strong",{children:"Confianza:"})," ",(f.confidence*100).toFixed(2),"%"]}),o.jsx("button",{onClick:()=>{var b;return t(`/admisiones?dni=${(b=f.paciente.usuario)==null?void 0:b.dni}`)},className:"mt-3 px-4 py-2 bg-green-600 dark:bg-green-500 text-white rounded-md hover:bg-green-700 dark:hover:bg-green-600",children:"Ver Admisiones"})]})]}):o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-red-900 dark:text-red-300 mb-2",children:" Verificacin Fallida"}),o.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:"No se pudo verificar la identidad. Por favor, intente nuevamente o registre su huella dactilar."})]})})]}),s==="register"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Registrar Huella Dactilar"}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"ID del Paciente *"}),o.jsx("input",{type:"text",value:d,onChange:b=>c(b.target.value),required:!0,placeholder:"Ingrese el ID del paciente a registrar",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Puede buscar el paciente en Admisiones y copiar su ID"})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:o.jsx("strong",{children:"Instrucciones:"})}),o.jsxs("ol",{className:"list-decimal list-inside mt-2 text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[o.jsx("li",{children:"Coloque su dedo en el lector biomtrico"}),o.jsx("li",{children:"Mantenga el dedo firme y sin movimiento"}),o.jsx("li",{children:"Espere a que el sistema capture la huella"}),o.jsx("li",{children:"Repita el proceso si es necesario"})]})]}),o.jsx("button",{type:"submit",disabled:u,className:"w-full px-4 py-3 bg-green-600 dark:bg-green-500 text-white rounded-md hover:bg-green-700 dark:hover:bg-green-600 disabled:opacity-50",children:u?"Registrando...":"Iniciar Registro"})]})]}),o.jsxs("div",{className:"mt-6 bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Sobre el Sistema Biomtrico"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("li",{children:" El sistema utiliza tecnologa de reconocimiento de huella dactilar"}),o.jsx("li",{children:" Las huellas se almacenan de forma segura y encriptada"}),o.jsx("li",{children:" Cumple con los estndares de seguridad y privacidad"}),o.jsx("li",{children:" Permite identificacin rpida y precisa de pacientes"})]})]})]})})})}function T4(){const{t}=Te(),[e,r]=S.useState(null),[n,s]=S.useState(!0),[i,a]=S.useState(!1),[l,d]=S.useState(""),[c,u]=S.useState(""),[h,f]=S.useState(!1),[g,m]=S.useState({email:"",nombres:"",apellidos:"",telefono:"",especialidad:"",colegiatura:""}),[p,x]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""});S.useEffect(()=>{y()},[]);const y=async()=>{var _,E;try{const T=(await $.get("/me")).data.user;r(T),m({email:T.email||"",nombres:T.nombres||"",apellidos:T.apellidos||"",telefono:T.telefono||"",especialidad:T.especialidad||"",colegiatura:T.colegiatura||""})}catch(C){d("Error al cargar el perfil: "+(((E=(_=C.response)==null?void 0:_.data)==null?void 0:E.error)||C.message))}finally{s(!1)}},v=_=>{const{name:E,value:C}=_.target;m(T=>({...T,[E]:C}))},b=_=>{const{name:E,value:C}=_.target;x(T=>({...T,[E]:C}))},k=async _=>{var E,C;_.preventDefault(),a(!0),d(""),u("");try{const T=await $.put("/profile",g);r(T.data.user),u("Perfil actualizado correctamente"),setTimeout(()=>u(""),3e3)}catch(T){d("Error al actualizar el perfil: "+(((C=(E=T.response)==null?void 0:E.data)==null?void 0:C.error)||T.message))}finally{a(!1)}},N=async _=>{var E,C;if(_.preventDefault(),d(""),u(""),p.newPassword!==p.confirmPassword){d("Las contraseas no coinciden");return}if(p.newPassword.length<6){d("La contrasea debe tener al menos 6 caracteres");return}a(!0);try{await $.put("/profile/password",{currentPassword:p.currentPassword,newPassword:p.newPassword}),u("Contrasea actualizada correctamente"),x({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1),setTimeout(()=>u(""),3e3)}catch(T){d("Error al actualizar la contrasea: "+(((C=(E=T.response)==null?void 0:E.data)==null?void 0:C.error)||T.message))}finally{a(!1)}},j=_=>{if(!_)return"Usuario";const E=_.toLowerCase();return{admin:"Administrador",admissions:"Admisiones",doctor:"Mdico",lab:"Laboratorio",patient:"Paciente"}[E]||_},w=()=>e!=null&&e.nombres&&(e!=null&&e.apellidos)?`${e.nombres} ${e.apellidos}`:(e==null?void 0:e.email)||"Usuario";return n?o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 dark:border-indigo-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t("common.loading")})]})})})}):o.jsx(ze,{children:o.jsx("div",{className:"py-4 sm:py-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:t("profile.title")}),o.jsx("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:t("profile.subtitle")})]}),l&&o.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-md",children:l}),c&&o.jsx("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded-md",children:c}),e&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6 mb-6",children:[o.jsx(Fx,{name:w(),size:"120",round:!0,className:"flex-shrink-0",color:"#4F46E5"}),o.jsxs("div",{className:"text-center sm:text-left flex-1",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:w()}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:j(e.rol)}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.email}),e.dni&&o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["DNI: ",e.dni]})]})]}),o.jsxs("form",{onSubmit:k,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombres",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombres"}),o.jsx("input",{type:"text",id:"nombres",name:"nombres",value:g.nombres,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"apellidos",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellidos"}),o.jsx("input",{type:"text",id:"apellidos",name:"apellidos",value:g.apellidos,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",id:"email",name:"email",value:g.email,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),o.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:g.telefono,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(e.rol==="doctor"||e.rol==="DOCTOR")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"especialidad",className:"block text-sm font-medium text-gray-700 mb-1",children:"Especialidad"}),o.jsx("input",{type:"text",id:"especialidad",name:"especialidad",value:g.especialidad,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"colegiatura",className:"block text-sm font-medium text-gray-700 mb-1",children:"Colegiatura"}),o.jsx("input",{type:"text",id:"colegiatura",name:"colegiatura",value:g.colegiatura,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),o.jsx("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:o.jsx("button",{type:"submit",disabled:i,className:"w-full sm:w-auto bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Guardando...":"Guardar Cambios"})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cambiar Contrasea"}),o.jsx("button",{onClick:()=>f(!h),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:h?"Ocultar":"Mostrar"})]}),h&&o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea Actual"}),o.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:p.currentPassword,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva Contrasea"}),o.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:p.newPassword,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,minLength:6})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nueva Contrasea"}),o.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:p.confirmPassword,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,minLength:6})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx("button",{type:"submit",disabled:i,className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Actualizando...":"Actualizar Contrasea"})})]})]})]})]})})})}function A4(){return o.jsxs(uk,{children:[o.jsx(Me,{path:"/login",element:o.jsx(qj,{})}),o.jsx(Me,{path:"/",element:o.jsx(f4,{})}),o.jsx(Me,{path:"/admisiones",element:o.jsx(m4,{})}),o.jsx(Me,{path:"/admisiones/nueva",element:o.jsx(p4,{})}),o.jsx(Me,{path:"/admisiones/:id",element:o.jsx(v4,{})}),o.jsx(Me,{path:"/admisiones/calendario",element:o.jsx(w4,{})}),o.jsx(Me,{path:"/admisiones/empresas",element:o.jsx(k4,{})}),o.jsx(Me,{path:"/medico",element:o.jsx(j4,{})}),o.jsx(Me,{path:"/laboratorio",element:o.jsx(N4,{})}),o.jsx(Me,{path:"/facturacion",element:o.jsx(S4,{})}),o.jsx(Me,{path:"/reportes",element:o.jsx(_4,{})}),o.jsx(Me,{path:"/admin",element:o.jsx(C4,{})}),o.jsx(Me,{path:"/concepto-aptitud",element:o.jsx(E4,{})}),o.jsx(Me,{path:"/inventario",element:o.jsx(P4,{})}),o.jsx(Me,{path:"/biometric",element:o.jsx(R4,{})}),o.jsx(Me,{path:"/perfil",element:o.jsx(T4,{})}),o.jsx(Me,{path:"*",element:o.jsx(dk,{to:"/",replace:!0})})]})}const{slice:O4,forEach:L4}=[];function D4(t){return L4.call(O4.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function M4(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const xg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,I4=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!xg.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!xg.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},yg={create(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=I4(t,e,s)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var F4={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return yg.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:i}=e;r&&typeof document<"u"&&yg.create(r,t,n,s,i)}},z4={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let l=0;l<a.length;l++){const d=a[l].indexOf("=");d>0&&a[l].substring(0,d)===e&&(r=a[l].substring(d+1))}}return r}},B4={name:"hash",lookup(t){var s;let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const l=a.split("&");for(let d=0;d<l.length;d++){const c=l[d].indexOf("=");c>0&&l[d].substring(0,c)===e&&(n=l[d].substring(c+1))}}if(n)return n;if(!n&&r>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(s=l[typeof r=="number"?r:0])==null?void 0:s.replace("/",""):void 0}}}return n}};let Rn=null;const bg=()=>{if(Rn!==null)return Rn;try{if(Rn=typeof window<"u"&&window.localStorage!==null,!Rn)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Rn=!1}return Rn};var $4={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&bg())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&bg()&&window.localStorage.setItem(r,t)}};let Tn=null;const vg=()=>{if(Tn!==null)return Tn;try{if(Tn=typeof window<"u"&&window.sessionStorage!==null,!Tn)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Tn=!1}return Tn};var U4={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&vg())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&vg()&&window.sessionStorage.setItem(r,t)}},H4={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let i=0;i<r.length;i++)e.push(r[i]);n&&e.push(n),s&&e.push(s)}return e.length>0?e:void 0}},V4={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},W4={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},q4={name:"subdomain",lookup(t){var s,i;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let zy=!1;try{document.cookie,zy=!0}catch{}const By=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zy||By.splice(1,1);const K4=()=>({order:By,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class $y{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=D4(r,this.options||{},K4()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(F4),this.addDetector(z4),this.addDetector($4),this.addDetector(U4),this.addDetector(H4),this.addDetector(V4),this.addDetector(W4),this.addDetector(q4),this.addDetector(B4)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!M4(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}$y.type="languageDetector";const Y4={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",create:"Crear",search:"Buscar",loading:"Cargando...",noData:"No hay datos disponibles",error:"Error",success:"xito",logout:"Salir",login:"Ingresar",new:"Nuevo",view:"Ver",select:"Seleccionar",filter:"Filtrar",all:"Todos",today:"Hoy",scheduled:"Programadas",completed:"Completadas",cancelled:"Canceladas"},X4={dashboard:"Dashboard",admissions:"Admisiones",medical:"Historia Clnica",lab:"Laboratorio",aptitude:"Concepto Aptitud",billing:"Facturacin",inventory:"Inventario",biometric:"Biomtrico",reports:"Reportes",admin:"Administracin",profile:"Mi Perfil"},G4={title:"Dashboard",subtitle:"Vista general del sistema",patients:"Pacientes",admissions:"Admisiones",thisMonth:"Este mes",concepts:"Conceptos Emitidos",income:"Ingresos del Mes",invoices:"Facturas",pendingExams:"Exmenes Pendientes",activities:"Actividades"},Q4={title:"Admisiones y Turnos",subtitle:"Punto de entrada para pacientes y gestin de citas",calendar:"Calendario",companies:"Empresas",newAdmission:"Nueva Admisin",patient:"Paciente",company:"Empresa",examType:"Tipo de Examen",status:"Estado",scheduledDate:"Fecha Programada",doctor:"Mdico",actions:"Acciones",programado:"Programado",confirmado:"Confirmado",en_proceso:"En Proceso",completado:"Completado",cancelado:"Cancelado"},J4={title:"Historia Clnica Ocupacional",subtitle:"Gestin de registros mdicos de pacientes",selectPatient:"Seleccionar Paciente",diagnosis:"Diagnstico",aptitude:"Aptitud",notes:"Notas",apto:"APTO",noApto:"NO APTO",aptoConRestricciones:"APTO CON RESTRICCIONES",createRecord:"Crear Registro",medicalRecords:"Historias Clnicas",consultationReason:"Motivo de Consulta",symptoms:"Sntomas",treatment:"Tratamiento",observations:"Observaciones",date:"Fecha"},Z4={title:"Gestin de Laboratorio",subtitle:"Registro y gestin de resultados de laboratorio",newResult:"Registrar Nuevo Resultado de Laboratorio",selectPatient:"Seleccionar Paciente",testName:"Nombre del Examen",sampleId:"ID de Muestra",result:"Resultado",attachFile:"Adjuntar Archivo (Opcional)",submit:"Guardar Resultado",results:"Resultados de Laboratorio",noResults:"No hay resultados de laboratorio disponibles"},e3={title:"Concepto de Aptitud Ocupacional",subtitle:"Ley N 29783 - Seguridad y Salud en el Trabajo",selectAdmission:"Seleccionar Admisin",loading:"Cargando datos...",patient:"Paciente",company:"Empresa",examType:"Tipo de Examen",date:"Fecha",result:"Resultado",observations:"Observaciones",generatePDF:"Generar PDF",save:"Guardar Concepto"},t3={title:"Facturacin",subtitle:"Gestin de facturas y pagos",newInvoice:"Nueva Factura",selectPatient:"Seleccionar Paciente",amount:"Monto",paymentMethod:"Mtodo de Pago",cash:"Efectivo",card:"Tarjeta",transfer:"Transferencia",invoices:"Facturas",invoiceNumber:"Nmero",date:"Fecha",status:"Estado",paid:"Pagado",pending:"Pendiente",sendSunat:"Enviar a SUNAT"},r3={title:"Reportes y Analtica",subtitle:"Anlisis y reportes del sistema",reportType:"Tipo de Reporte",dateFrom:"Fecha Desde",dateTo:"Fecha Hasta",generate:"Generar Reporte",downloadPDF:"Descargar PDF",monthlyAdmissions:"Admisiones Mensuales",aptitudeConcepts:"Conceptos de Aptitud",income:"Ingresos",labExams:"Exmenes de Laboratorio"},n3={title:"Administracin",subtitle:"Gestin de usuarios y sistema",users:"Usuarios",inventory:"Inventario",newUser:"Nuevo Usuario",name:"Nombre",email:"Email",role:"Rol",actions:"Acciones",active:"Activo",inactive:"Inactivo"},s3={title:"Mi Perfil",subtitle:"Gestiona tu informacin personal",names:"Nombres",lastNames:"Apellidos",email:"Email",phone:"Telfono",specialty:"Especialidad",license:"Colegiatura",changePassword:"Cambiar Contrasea",show:"Mostrar",hide:"Ocultar",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",confirmPassword:"Confirmar Nueva Contrasea",saveChanges:"Guardar Cambios",updatePassword:"Actualizar Contrasea",saving:"Guardando...",updating:"Actualizando..."},i3={light:"Claro",dark:"Oscuro",toggle:"Cambiar tema"},a3={spanish:"Espaol",english:"English",select:"Seleccionar idioma"},o3={title:"Identificacin Biomtrica",subtitle:"Registro y verificacin de identidad mediante huella dactilar",verification:"Verificacin",register:"Registro",verifyIdentity:"Verificar Identidad",dniOptional:"DNI (opcional - para bsqueda especfica)",dniPlaceholder:"Ingrese DNI si desea verificar un paciente especfico",instructions:"Instrucciones",verifyInstructions:"Coloque su dedo en el lector biomtrico. El sistema verificar su identidad automticamente.",startVerification:"Iniciar Verificacin",verifying:"Verificando...",registerFingerprint:"Registrar Huella Dactilar",patientId:"ID del Paciente",patientIdPlaceholder:"Ingrese el ID del paciente a registrar",patientIdHint:"Puede buscar el paciente en Admisiones y copiar su ID",registerInstructions:"Instrucciones:",registerStep1:"Coloque su dedo en el lector biomtrico",registerStep2:"Mantenga el dedo firme y sin movimiento",registerStep3:"Espere a que el sistema capture la huella",registerStep4:"Repita el proceso si es necesario",startRegister:"Iniciar Registro",registering:"Registrando...",aboutSystem:"Sobre el Sistema Biomtrico",about1:"El sistema utiliza tecnologa de reconocimiento de huella dactilar",about2:"Las huellas se almacenan de forma segura y encriptada",about3:"Cumple con los estndares de seguridad y privacidad",about4:"Permite identificacin rpida y precisa de pacientes",verificationSuccess:"Verificacin Exitosa",verificationFailed:"Verificacin Fallida",patient:"Paciente",confidence:"Confianza",viewAdmissions:"Ver Admisiones",verificationFailedMessage:"No se pudo verificar la identidad. Por favor, intente nuevamente o registre su huella dactilar."},l3={common:Y4,nav:X4,dashboard:G4,admissions:Q4,medical:J4,lab:Z4,aptitude:e3,billing:t3,reports:r3,admin:n3,profile:s3,theme:i3,language:a3,biometric:o3},d3={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",loading:"Loading...",noData:"No data available",error:"Error",success:"Success",logout:"Logout",login:"Login",new:"New",view:"View",select:"Select",filter:"Filter",all:"All",today:"Today",scheduled:"Scheduled",completed:"Completed",cancelled:"Cancelled"},c3={dashboard:"Dashboard",admissions:"Admissions",medical:"Medical Records",lab:"Laboratory",aptitude:"Aptitude Concept",billing:"Billing",inventory:"Inventory",biometric:"Biometric",reports:"Reports",admin:"Administration",profile:"My Profile"},u3={title:"Dashboard",subtitle:"System overview",patients:"Patients",admissions:"Admissions",thisMonth:"This month",concepts:"Concepts Issued",income:"Monthly Income",invoices:"Facturas",pendingExams:"Pending Exams",activities:"Activities"},h3={title:"Admissions and Appointments",subtitle:"Entry point for patients and appointment management",calendar:"Calendar",companies:"Companies",newAdmission:"New Admission",patient:"Patient",company:"Company",examType:"Exam Type",status:"Status",scheduledDate:"Scheduled Date",doctor:"Doctor",actions:"Actions",programado:"Scheduled",confirmado:"Confirmed",en_proceso:"In Process",completado:"Completed",cancelado:"Cancelled"},f3={title:"Occupational Medical Records",subtitle:"Management of patient medical records",selectPatient:"Select Patient",diagnosis:"Diagnosis",aptitude:"Aptitude",notes:"Notes",apto:"FIT",noApto:"NOT FIT",aptoConRestricciones:"FIT WITH RESTRICTIONS",createRecord:"Create Record",medicalRecords:"Medical Records",consultationReason:"Consultation Reason",symptoms:"Symptoms",treatment:"Treatment",observations:"Observations",date:"Date"},m3={title:"Laboratory Management",subtitle:"Registration and management of laboratory results",newResult:"Register New Laboratory Result",selectPatient:"Select Patient",testName:"Test Name",sampleId:"Sample ID",result:"Result",attachFile:"Attach File (Optional)",submit:"Save Result",results:"Laboratory Results",noResults:"No laboratory results available"},g3={title:"Occupational Aptitude Concept",subtitle:"Law N 29783 - Safety and Health at Work",selectAdmission:"Select Admission",loading:"Loading data...",patient:"Patient",company:"Company",examType:"Exam Type",date:"Date",result:"Result",observations:"Observations",generatePDF:"Generate PDF",save:"Save Concept"},p3={title:"Billing",subtitle:"Invoice and payment management",newInvoice:"New Invoice",selectPatient:"Select Patient",amount:"Amount",paymentMethod:"Payment Method",cash:"Cash",card:"Card",transfer:"Transfer",invoices:"Invoices",invoiceNumber:"Number",date:"Date",status:"Status",paid:"Paid",pending:"Pending",sendSunat:"Send to SUNAT"},x3={title:"Reports and Analytics",subtitle:"System analysis and reports",reportType:"Report Type",dateFrom:"Date From",dateTo:"Date To",generate:"Generate Report",downloadPDF:"Download PDF",monthlyAdmissions:"Monthly Admissions",aptitudeConcepts:"Aptitude Concepts",income:"Income",labExams:"Laboratory Exams"},y3={title:"Administration",subtitle:"User and system management",users:"Users",inventory:"Inventory",newUser:"New User",name:"Name",email:"Email",role:"Role",actions:"Actions",active:"Active",inactive:"Inactive"},b3={title:"My Profile",subtitle:"Manage your personal information",names:"Names",lastNames:"Last Names",email:"Email",phone:"Phone",specialty:"Specialty",license:"License",changePassword:"Change Password",show:"Show",hide:"Hide",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password",saveChanges:"Save Changes",updatePassword:"Update Password",saving:"Saving...",updating:"Updating..."},v3={light:"Light",dark:"Dark",toggle:"Toggle theme"},w3={spanish:"Espaol",english:"English",select:"Select language"},k3={title:"Biometric Identification",subtitle:"Registration and identity verification by fingerprint",verification:"Verification",register:"Register",verifyIdentity:"Verify Identity",dniOptional:"DNI (optional - for specific search)",dniPlaceholder:"Enter DNI if you wish to verify a specific patient",instructions:"Instructions",verifyInstructions:"Place your finger on the biometric reader. The system will automatically verify your identity.",startVerification:"Start Verification",verifying:"Verifying...",registerFingerprint:"Register Fingerprint",patientId:"Patient ID",patientIdPlaceholder:"Enter the patient ID to register",patientIdHint:"You can search for the patient in Admissions and copy their ID",registerInstructions:"Instructions:",registerStep1:"Place your finger on the biometric reader",registerStep2:"Keep your finger steady and still",registerStep3:"Wait for the system to capture the fingerprint",registerStep4:"Repeat the process if necessary",startRegister:"Start Registration",registering:"Registering...",aboutSystem:"About the Biometric System",about1:"The system uses fingerprint recognition technology",about2:"Fingerprints are stored securely and encrypted",about3:"Complies with security and privacy standards",about4:"Allows fast and accurate patient identification",verificationSuccess:"Verification Successful",verificationFailed:"Verification Failed",patient:"Patient",confidence:"Confidence",viewAdmissions:"View Admissions",verificationFailedMessage:"Could not verify identity. Please try again or register your fingerprint."},j3={common:d3,nav:c3,dashboard:u3,admissions:h3,medical:f3,lab:m3,aptitude:g3,billing:p3,reports:x3,admin:y3,profile:b3,theme:v3,language:w3,biometric:k3};st.use($y).use(Zk).init({resources:{es:{translation:l3},en:{translation:j3}},fallbackLng:"es",debug:!1,interpolation:{escapeValue:!1}});const N3=O0(document.getElementById("root"));N3.render(o.jsx(de.StrictMode,{children:o.jsx(bk,{children:o.jsx(SN,{children:o.jsx(g4,{children:o.jsx(A4,{})})})})}));
